{"version":3,"sources":["assets/images/logo.svg","assets/images/mimic.apng","assets/images/ph_tk.png","assets/images/logo-min.svg","assets/images/mimic-success.svg","assets/images/BALANCER.svg","assets/images/COMPOUND.svg","assets/images/CURVE.svg","assets/images/LIDO.svg","assets/images/UNISWAP.png","assets/images/ph_dark.png","assets/images sync /^/.//.*$","assets/images/ONEINCH.svg","assets/images/TORN.png","assets/images/empty.png","assets/images/metamask.png","assets/images/mimic-freeze.png","assets/images/mimic-success.apng","assets/images/placeholderToken.png","helpers/enviroment.js","connectors/index.js","constants/tokens.js","constants/index.js","hooks/useLocalStorage.js","context/managerReducer.js","context/managerContext.js","helpers/settings.js","theme/index.js","components/Logo.js","context/appReducer.js","context/appContext.js","hooks/index.js","hooks/useStyles.js","helpers/index.js","components/Identicon.js","hooks/usePrevious.js","components/common/TransactionHashLink.js","components/typography/BoxTitle.js","components/strategy/Hr.js","components/common/RoundedIconButton.js","components/Web3/AccountDetails.js","components/typography/TabTitle.js","components/Web3/WalletModal.js","components/common/MimicBadge.js","components/Web3/Web3Status.js","components/header/HeaderMenu.js","assets/MimicIcons.js","hooks/useAgreement.js","components/common/PortfolioLine.js","components/PortfolioSelectorItem.js","components/PortfoliosEditor.js","components/EditPortfolio.js","components/PortfoliosDropDown.js","components/Layout.js","hooks/useUSDCPrice.js","hooks/useToken.js","hooks/useAllTokens.js","hooks/useTokensBalance.js","hooks/useVaultBalance.js","hooks/useAvailableBalance.js","components/TokenInput.js","hooks/useWhitelistedToken.js","components/common/TransactionStatus.js","hooks/useContractBatchFunction.js","hooks/useTransactionCheckBalance.js","helpers/vault.js","hooks/useCompositionOptions.js","hooks/useQueryVault.js","hooks/useTransactionComposition.js","assets/Instruments.js","hooks/useMetadata.js","components/common/StrategyTitle.js","hooks/useStrategies.js","components/ShowFormError.js","components/strategy/EstimateBox.js","components/StButton.js","components/common/BoxContainer.js","hooks/useIPFSMetadata.js","pages/JoinStrategy.js","hooks/useStrategyWithoutData.js","hooks/useJoinCallback.js","components/Web3/ManagerAddress.js","hooks/useStrategiesFromAccount.js","hooks/useStrategyAgreementHoldings.js","hooks/useExitEstimation.js","components/ExitOptions.js","pages/ExitStrategy.js","hooks/useExitCallback.js","pages/WithdrawFromVault.js","hooks/useWithdrawCallback.js","pages/TransferToAgreement.js","components/ManagerModal.js","pages/Manager.js","components/Web3/Web3ReactManager.js","context/blockUpdater.js","hooks/useDebounce.js","context/NotificationsUpdater.js","components/Container.js","pages/Enviroment.js","hooks/useApy.js","components/common/StrategyStats.js","components/StrategyCard.js","components/Strategies.js","hooks/useWhitelistedStrategies.js","components/common/AddressLink.js","components/viewer/AgreementSettingsViewer.js","components/RuleContainer.js","components/viewer/RulesViewer.js","pages/Agreement.js","components/NewPortfolioContainer.js","components/FeeInput.js","pages/CreatePortfolio.js","hooks/useCreateCallback.js","pages/Swap.js","hooks/useDepositCallback.js","hooks/useSwapCallback.js","components/common/GreenHeader.js","components/OverviewEmptyHeader.js","components/WelcomeOnBoard.js","hooks/useTotalPortfolioValue.js","components/OverviewHeader.js","hooks/useStrategiesBalance.js","components/BalanceTable.js","hooks/useMainTokens.js","components/Overview.js","App.js","reportWebVitals.js","serviceWorker.js","i18n.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","isDevelopment","isStaging","isProduction","process","getSubgraphqlURI","getDefaultChainID","NETWORK_URL","NETWORK_CHAIN_ID","parseInt","network","NetworkConnector","urls","injected","InjectedConnector","supportedChainIds","DAI_TOKEN","name","description","ChainId","Mainnet","Rinkeby","Kovan","BDAI_TOKEN","USDC_TOKEN","BUSDC_TOKEN","USDT_TOKEN","WETH_TOKEN","CUSDC_TOKEN","CDAI_TOKEN","UNI_TOKEN","CRV_TOKEN","BAL_TOKEN","WBTC_TOKEN","WSTETH_TOKEN","LDO_TOKEN","WHITELISTED_TOKENS","VAULT_ADDRESS","AGREEMENT_FACTORY_ADDRESS","SUPPORTED_WALLETS","INJECTED","connector","iconName","href","color","primary","METAMASK","WALLET_VIEWS","STRATEGY_VIEWS","TRANSACTION_TYPE","TRANSACTION_BATCH","TRANSACTION_NAME","COMPOSITION_TYPE","QUERY_STATUS","DEFAULT_INITIAL_PORTFOLIO","portfolios","portfolioSelected","address","balance","gains","sumApy","withdrawWallets","portfolioLoaded","TRANSACTION_STATUS","EMPTY_TOKEN","DEFAULT_TOKEN","SLIPPAGE_UI_OPTIONS","DEFAULT_SLIPPAGE","URL_FEEDBACK","getItem","key","window","item","localStorage","JSON","parse","useLocalStorage","useState","value","setValue","useEffect","undefined","toStore","stringify","setItem","removeItem","ActionTypes","ADD_PORTFOLIO","SUBSTRACT_PORTFOLIO","SELECT_PORTFOLIO","UPDATE_PORTFOLIO_BALANCE","reducer","state","action","type","update","total","find","p","portfolio","console","log","filter","x","StateContext","React","createContext","DispatchContext","ManagerProvider","children","storage","setStorage","useReducer","dispatch","Provider","useManagerState","useContext","useManagerDispatch","addPortfolio","useCallback","removePortfolio","selectPortfolio","updatePortfolioBalance","updatePortfolioBalanceOnVault","UPDATE_PORTFOLIO_BALANCE_VAULT","updatePortfolioBalanceOnStrategies","UPDATE_PORTFOLIO_BALANCE_SRATEGY","useMemo","SETTINGS","LOGO","require","default","LOGO_MIN","MAIN_ANIMATION","FREEZE_ANIMATION","SUCCESS_ANIMATION","MODAL","MODAL_BORDER_STYLE","LIGHT","DARK","BG","HEADER","TITLE","SUBTITLE","INPUT","SHADOW","BORDER","GREEN","BG_GREEN_LIGHT","BG_DARK","RED","GRAY","GREY_LIGHT","GREY_LIGHTER","WHITE","PRIMARY","SECONDARY","VIOLET_DARK","VIOLET","VIOLET_LIGHT","VIOLET_LIGHTER","CARD_BORDER","DISABLED_BORDER","toast","variant","position","isClosable","status","HEADER_H","BUTTON_H","HEADER_OVERVIEW_H","ERROR","INFO","SUCCESS","MAX_LAYOUT","theme","extendTheme","components","Button","baseStyle","_focus","boxShadow","Tabs","tab","Modal","closeButton","styles","global","props","body","mode","bg","lineHeight","config","initialColorMode","useSystemColorMode","LogoIcon","display","h","src","alt","Logo","align","justify","openModal","modal","modalParams","params","blockNumber","slippage","APPLICATION_MODAL","initialContext","ApplicationProvider","useApplicationState","useApplicationDispatch","setOpenModal","updateBlockNumber","updateGlobalSlippage","useModalOpen","useModalParams","useToggleModal","open","useWalletModalToggle","useJoinStrategyModalToggle","useExitStrategyModalToggle","useWithdrawFromVaultModalToggle","useTransferToAgreementModalToggle","useStyles","buttonBorderStyle","useColorModeValue","bgButton","inputBorderStyle","inputBorderStyleDisabled","colorTitle","colorBody","colorSubtitle","colorHighlighted","modalBorderStyle","colorModalTitle","bgHover","bgModal","isAddress","getAddress","CHAIN_ID_NAME","generalFormatPrice","shortenAddress","digits","substring","getTokenDecimals","addressToken","chainId","t","isTheSameAddress","formatPrice","numeral","format","formatBNPrice","decimals","Dec","Decimal","clone","precision","defaults","toString","a","isFinite","priceDecimal","formatUnits","toFixed","b","price","formatBNUnits","formatBNPercentage","amountPerPrice","amount","mulBN","totalPrice","url1","url2","localeCompare","sensitivity","getAssetImg","toLowerCase","isEmpty","_","greaterThanMax","max","gt","greaterOrEqualThanMax","gte","withBalance","sumBN","aa","bb","add","mul","subBN","sub","feePercentage","div","getHoldings","shares","totalShares","deposit","perShares","getPercentPortfolio","getBalanceByToken","data","token","tokenBalance","getAmountToDeposit","totalJoinAmount","vaultBalance","depositFee","subTotal","fee","parseBN","newBn","utils","parseUnits","filterEmptyElements","array","Boolean","updateLocalTransactionState","stateCallback","setState","setView","hash","transaction","createErrorMessage","txHash","errorMessage","Identicon","ref","useRef","account","useEthers","current","innerHTML","appendChild","Jazzicon","slice","usePrevious","TransactionHashLink","to","pathname","getExplorerTransactionLink","target","rel","textDecor","px","BoxTitle","py","rest","size","textTransform","minW","Hr","mt","w","borderTop","RoundedIconButton","onClick","icon","ariaLabel","border","ml","opacity","rounded","md","base","AccountDetails","deactivate","useToast","onCopy","useClipboard","ens","useLookupAddress","StatusIcon","FormatConnectorName","direction","pb","fontSize","mx","mr","fontWeight","title","getExplorerAddressLink","m","minH","maxH","overflowY","TransactionsList","transactions","useTransactions","length","transactionName","ListTx","TabTitle","pt","textAlign","WalletModal","useTranslation","walletView","setWalletView","walletModalOpen","toggleWalletModal","active","activate","error","previousAccount","activePrevious","connectorPrevious","tryActivation","catch","RenderOptions","isMetamask","ethereum","isMetaMask","option","web3","isMobile","mobileOnly","isOpen","onClose","backdropFilter","InstallMm","MimicBadge","schema","SimpleBadge","Web3StatusInner","userBalance","useEtherBalance","ConnectButton","_hover","colorScheme","Web3Status","HeaderMenu","showWeb3","toggleMode","useColorMode","toggleColorMode","SwitchIcon","FaMoon","FaSun","as","IconButton","background","RouterLink","MenuBtn","SlippageOptions","defaultValue","AbacusIcon","xmlns","width","height","viewBox","transform","x2","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","y2","PlanetIcon","cx","cy","rx","ry","d","SignatureIcon","HistoryIcon","MeteorIcon","style","mixBlendMode","isolation","r","fetchAgreement","agreementAddress","request","gql","agreement","useAgreement","addressSelected","useQuery","PortfolioLine","isLoading","match","boxSize","PortfoliosSelectorItem","removePortfolioFromList","index","totalPortfolios","disableDelete","my","url","openAddress","PortfoliosEditor","createNew","setCreateNew","managerState","useForm","register","handleSubmit","errors","formState","i","onSubmit","porfolioAddress","mb","placeholder","borderBottom","borderColor","_placeholder","required","EditPortfolioModal","isDisabled","useDisclosure","onOpen","_pressed","_focusVisible","isCentered","PortfoliosDropDown","portfolioList","onPortfolioChange","onToggle","changePortfolioSelected","withPortfolios","pl","isActive","rightIcon","NoPortfolioLine","PortfolioItem","maxW","EmptyPortfolioLine","EditPortfolio","Layout","sidebar","lg","disabled","placement","borderRight","transition","SidebarContent","pos","top","left","zIndex","overflowX","NavItem","hoverColor","useRouteMatch","path","exact","cursor","role","Build","defaultBuild","buildInfo","REACT_APP_VERCEL_GIT_COMMIT_SHA","setIsLoading","stopLoading","setTimeout","clearTimeout","bottom","Tt","FooItem","ControlNetwork","networkName","method","alignItems","justifyContent","useUSDCPrice","TOKEN_ADDRESS","useCoingeckoTokenPrice","useToken","useAllTokens","useTokensBalance","allTokens","ERC20Interface","Interface","ERC20","abi","results","useContractCalls","args","balances","forEach","idx","fetchStrategies","useVaultBalance","useAvailableBalance","tk","tokensBalance","vaultBal","agreementBalance","aBalance","vBalance","totalBalance","TokenInput","onChange","isChangeable","hideBalance","hintText","defaultToken","defaultAmount","startToken","setOverBalance","setWidth","targetRef","inputValue","setInputValue","selectedToken","setSelectedToken","useLayoutEffect","offsetWidth","widthElement","onUserChangeToken","generalBalance","mainnet","event","onMaxBtn","TokenSelection","bgMenu","useWhitelistedTokens","closeOnSelect","DisplayToken","fallbackSrc","TokenItem","tokenAddress","ShowBalance","TransactionStatus","doneMessage","doneChildren","errorChildren","showStatus","in","animateOpacity","show","LoadingView","MiningView","ErrorView","DoneView","TxHash","MimicLoader","play","done","animate","freeze","success","connectContractToSigner","contract","options","library","signer","connect","getSigner","TypeError","useContractBatchFunction","usePromiseTransaction","promiseTransaction","events","setEvents","send","args1","ops","contractWithSigner","batch","receipt","logs","useTransactionCheckBalance","txType","setTxType","enoughVaultBalance","vaultAndAgreementBalance","enoughAgreementBalance","noBalanceAtAll","encodeSwapCall","tokenIn","tokenOut","amountIn","populateTransaction","swap","tx","encodeDepositCall","encodeJoinCall","strategy","join","encodeExitCall","ratio","emergency","exit","composeTransactionHelper","composition","compTransaction","promises","Promise","all","comp","then","call","push","onlyAmountToDepositWithoutFee","useCompositionOptions","same","comp_type","strategy_type","simpleComposition","setSimpleComposition","readsOutput","setReadsOutput","arrayCall","setArrayCall","setComposition","setTransactionName","functionName","setFunctionName","queryPos","setQueryPos","setError","getOptions","co","ro","ac","tn","recipient","useQueryVault","DEFAULT_STATUS","result","queryContract","functionDataArray","query","from","res","response","useTransactionComposition","vaultInterface","VaultABI","Contract","intAmount","queryState","queryVault","useContractFunction","stateFunction","sendFunction","stateBatch","sendBatch","onlyAmountToDeposit","InstrumentsLogos","compound","curve","balancer","uniswap","lido","dai","usdc","usdt","weth","cdai","cusdc","fetcher","axios","get","StrategyTitle","stId","hideDescription","strategyId","useSWR","isError","useMetadata","meta","tokenInfo","getCompleteDescription","wrap","protocols","inst","oneColor","pr","version","noOfLines","RenderBadge","isStable","toUpperCase","LoadingSkeleton","spacing","RenderMarkdown","img","replaceAll","reduce","accum","replace","strategies","useStrategies","refetchInterval","ShowFormError","ShowEstimation","bn","strategyInfo","futureHoldings","deposited","hasArrow","label","EstimateBox","stMetadata","StButton","roundedTop","SimpleTitle","BoxContainer","LineBox","last","IPFSfetcher","JoinStrategy","useParams","view","constants","AddressZero","selectedStrategy","setSelectedStrategy","tokenAmounts","setTokenAmounts","joinStrategyModalOpen","strategyAddress","st","useStrategyWithoutData","metadata","IPFShash","arrayHash","split","filterHash","getIPFSurl","useIPFSMetadata","availableBalance","tokenSelected","portfolioAddress","tokenStrategy","txAmount","totalVaultBalance","depositedAmountWithFee","vaultAndDepositedAmountWithFee","maxAmountAvailableToJoin","queryCallback","callback","useJoinCallback","joinCallback","handleInputTokenChange","reset","resetJoinView","bool","handleJoin","getModalBody","ShowTokenAmount","ManagerAddress","borderStyle","LIGHTER","fetchStrategiesFromAccount","useStrategiesFromAccount","useStrategyAgreementHoldings","accountData","useExitEstimation","strategyAccountData","amountOut","setAmountOut","tokenInInfo","tokenOutInfo","totalHoldings","qPosition","qResult","ExitOptions","setRatio","withdrawToken","val","SliderAmount","min","step","onChangeEnd","v","ExitStrategy","exitStrategyModalOpen","useExitCallback","exitCallback","WITHDRAW_VIEWS","WithdrawFromVault","selectedWallet","setSelectedWallet","overBalance","withdraFromVaultModalOpen","setPendingError","useWithdrawCallback","withdrawCallback","handleWithdraw","withdrawers","wl","TransferToAgreement","fgColor","bgColor","ManagerModal","toggleJoinStrategyModal","toggleExitStrategyModal","toggleWithdrawFromVaultModal","transferToAgreementModalOpen","toggleTransferToAGreementModal","Manager","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","on","handleChainChanged","handleAccountsChanged","accounts","removeListener","useInactiveListener","showLoader","setShowLoader","timeout","BlockUpdater","blockNumberCallback","getBlockNumber","debouncedState","delay","debouncedValue","setDebouncedValue","handler","useDebounce","NotificationsUpdater","notificationContent","transactionFailed","transactionStarted","transactionSucceed","walletConnected","NotificationManager","notifications","useNotifications","notification","Container","Enviroment","backgroundSize","StrategyStats","holdings","actualHoldings","fields","stringValue","apy","useApy","ApyRow","NumberRow","amountNormalized","simbol","TitleRow","ShowAmountWithToken","StrategyCard","param","joined","className","ActionButtons","activateBrowserWallet","StCardButton","Strategies","whitelisted","useWhitelistedStrategies","whitelistedStrategies","templateColumns","gridRowGap","gridAutoRows","manager","NoStrategiesMessage","LoadingStrategyMessage","AddressLink","isTruncated","full","AgreementSettingsViewer","managers","allowedStrategies","allowedTokens","maxSlippage","addressList","list","performanceFee","feeCollector","SquareBox","AddressList","AddressBox","SimpleBox","TextLine","Skel","ManagersList","RuleContainer","num","RulesViewer","Agreement","LoadingAgreement","NewPortfolioContainer","FeeInput","valueString","field","CREATE_VIEWS","FORM_STEP","CreatePortfolio","setCreateState","createdPortfolio","setCreatedPortfolio","createView","setCreateView","diffCollectedFees","setDiffCollectedFees","strategyType","setStrategyType","tokenSwapType","setTokenSwapType","setMaxSlippage","setStep","control","watch","watchFields","ownerWallet1","ownerWallet2","maxSwapSlippage","managerMainAddress","managerBackupAddress","tokensType","AgreementFactoryInterface","AgreementFactoryABI","depositFee0","parseEther","withdrawFee","performanceFee0","managers0","withdrawers0","tokens","useCreateCallback","uniqueName","wallet1","wallet2","collectedFeesAddress","createCallback","portfolioName","FootButton","stateStep","newPortfolioAddress","pattern","rules","render","visibility","checked","Title","NumButton","ShowErrors","errorMsg","Swap","setTokenIn","setTokenOut","tokenDeposit","setTokenDeposit","useDepositCallback","depositStateCallback","depositCallback","depositQueryCallback","depositQueryState","useSwapCallback","swapCallback","QueryResult","message","StateResult","GreenHeader","onlyBottom","OverviewEmptyHeader","textDecoration","STEPS","WelcomeOnBoard","number","end","Step","StepOneContent","StepTwoContent","useTotalPortfolioValue","totalLocked","setTotalLocked","totalGains","setTotalGains","totalApy","setTotalApy","values","sum","tokenValue","n","generalAPy","OverviewHeader","locked","formatValue","noBorder","TitleBox","tl","useStrategiesBalance","totalInvested","hasOwnProperty","invested","BalanceTable","mainTokens","main","useMainTokens","strategiesBalance","vaultBalanceLoading","TableRow","strategyBalance","strategyInvested","strategySumApy","agreementTotal","vaultBalanceAccount","totalAssetsPortfolio","totalAssetsStrategy","totalGainsStrategy","totalSum","totalUSD","totalGainsUSD","withdrawFromVaultModalToggle","transferToAgreementModalToggle","isJoined","isNumeric","TableHead","AssetCell","ShowValue","TextValue","GainsValue","positive","Thh","TableCap","Overview","loading","queryClient","QueryClient","App","fallback","client","GlobalRoutes","ManagerRoutes","StrategiesRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","location","hostname","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","readOnlyChainId","readOnlyUrls","supportedChains","Localhost","Hardhat","ReactDOM","DAppProvider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d02d3620.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fd3ce38f.svg\";","export default __webpack_public_path__ + \"static/media/mimic.11378651.apng\";","export default __webpack_public_path__ + \"static/media/ph_tk.1590c99e.png\";","export default __webpack_public_path__ + \"static/media/logo-min.03a74e76.svg\";","export default __webpack_public_path__ + \"static/media/mimic-success.73f2e6f6.svg\";","export default __webpack_public_path__ + \"static/media/BALANCER.6bd2469c.svg\";","export default __webpack_public_path__ + \"static/media/COMPOUND.70374456.svg\";","export default __webpack_public_path__ + \"static/media/CURVE.dbf7cd0d.svg\";","export default __webpack_public_path__ + \"static/media/LIDO.db7d3ec8.svg\";","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","var map = {\n\t\"./BALANCER.svg\": 234,\n\t\"./COMPOUND.svg\": 235,\n\t\"./CURVE.svg\": 236,\n\t\"./LIDO.svg\": 237,\n\t\"./ONEINCH.svg\": 376,\n\t\"./TORN.png\": 377,\n\t\"./UNISWAP.png\": 238,\n\t\"./empty.png\": 378,\n\t\"./logo-min.svg\": 228,\n\t\"./logo.svg\": 199,\n\t\"./metamask.png\": 379,\n\t\"./mimic-freeze.png\": 380,\n\t\"./mimic-success.apng\": 381,\n\t\"./mimic-success.svg\": 229,\n\t\"./mimic.apng\": 200,\n\t\"./ph_dark.png\": 239,\n\t\"./ph_tk.png\": 201,\n\t\"./placeholderToken.png\": 382\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 375;","export default __webpack_public_path__ + \"static/media/ONEINCH.4127b9e1.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/empty.fc90fa64.png\";","export default __webpack_public_path__ + \"static/media/metamask.02e3ec27.png\";","export default __webpack_public_path__ + \"static/media/mimic-freeze.74a4cb08.png\";","export default __webpack_public_path__ + \"static/media/mimic-success.2d6424ae.apng\";","export default __webpack_public_path__ + \"static/media/placeholderToken.6fa68bd5.png\";","// We just default to staging by default\nexport const isDevelopment = () => !isStaging() && !isProduction();\n\n// We use the same environment for development and staging\n// But we still need a switch to only show dev features locally\nexport const isStaging = () =>\n  process.env.REACT_APP_VERCEL_ENV === 'preview';\n\nexport const isProduction = () =>\n  process.env.REACT_APP_VERCEL_ENV === 'production';\n\nexport const getNodeURI = () =>\n  isDevelopment() || isStaging()\n    ? process.env.REACT_APP_KOVAN_URI\n    : process.env.REACT_APP_MAINNET_URI;\n\nexport const getSubgraphqlURI = () =>\n  (isDevelopment() || isStaging()\n    ? process.env.REACT_APP_KOVAN_SUBGRAPHQL_URL\n    : process.env.REACT_APP_SUBGRAPHQL_URL) ||\n  'https://api.thegraph.com/subgraphs/name/mimic-fi/kovan';\n\n  export const getSubgraphqlBaseURI = () => 'https://api.thegraph.com/subgraphs/name';\n\nexport const getDefaultNetworkName = () =>\n  isDevelopment() || isStaging() ? 'kovan' : 'mainnet';\n\nexport const getDefaultChainID = () => (isProduction() ? 1 : 42);\n","import { Web3Provider } from '@ethersproject/providers'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '@web3-react/network-connector'\nimport { getDefaultChainID, getNodeURI } from '../helpers/enviroment'\n\nconst NETWORK_URL = getNodeURI()\n\nexport const NETWORK_CHAIN_ID = parseInt(getDefaultChainID() ?? '1')\n\nif ( NETWORK_URL === 'undefined') {\n  throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\n}\n\nexport const network = new NetworkConnector({\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n})\n\nlet networkLibrary\nexport function getNetworkLibrary() {\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider))\n}\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 3, 4, 5, 42],\n})\n","import { ChainId } from \"@usedapp/core\";\n\n// COMPOUND DAI\nexport const DAI_TOKEN = {\n  name: \"DAI\",\n  description: \"DAI Stablecoin\",\n  [ChainId.Mainnet]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.Rinkeby]: \"0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa\",\n  [ChainId.Kovan]: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n  decimals: \"18\",\n  bg: \"#fbc349\",\n  main: true,\n};\n\n// BALANCER DAI KOVAN\nexport const BDAI_TOKEN = {\n  name: \"bDAI\",\n  description: \"DAI Stablecoin\",\n  [ChainId.Mainnet]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.Kovan]: \"0x04DF6e4121c27713ED22341E7c7Df330F56f289B\",\n  decimals: \"18\",\n  bg: \"#fbc349\",\n};\n\nexport const USDC_TOKEN = {\n  name: \"USDC\",\n  description: \"USDC\",\n  [ChainId.Mainnet]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.Rinkeby]: \"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b\",\n  [ChainId.Kovan]: \"0xb7a4F3E9097C08dA09517b5aB877F7a917224ede\",\n  decimals: \"6\",\n  bg: \"#2876c9\",\n  main: true,\n};\n\n// BALANCER USDC KOVAN\nexport const BUSDC_TOKEN = {\n  name: \"bUSDC\",\n  description: \"BalUSDC\",\n  [ChainId.Mainnet]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.Kovan]: \"0xc2569dd7d0fd715B054fBf16E75B001E5c0C1115\",\n  decimals: \"6\",\n  bg: \"#2876c9\",\n};\n\nexport const USDT_TOKEN = {\n  name: \"USDT\",\n  description: \"USDT\",\n  [ChainId.Mainnet]: \"0xdAC17F958D2ee523a2206206994597C13D831ec7\",\n  [ChainId.Rinkeby]: \"0xD9BA894E0097f8cC2BBc9D24D308b98e36dc6D02\",\n  [ChainId.Kovan]: \"0x07de306FF27a2B630B1141956844eB1552B956B5\",\n  decimals: \"18\",\n};\n\nexport const WETH_TOKEN = {\n  name: \"WETH\",\n  description: \"Wrapped ETH\",\n  [ChainId.Mainnet]: \"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\",\n  [ChainId.Kovan]: \"0xd0A1E359811322d97991E03f863a0C30C2cF029C\",\n  decimals: \"18\",\n  bg: \"#87abab\",\n  main: true,\n};\n\nexport const CUSDC_TOKEN = {\n  name: \"cUSDT\",\n  description: \"cUSDT\",\n  [ChainId.Mainnet]: \"0x39AA39c021dfbaE8faC545936693aC917d5E7563\",\n  decimals: \"8\",\n};\n\nexport const CDAI_TOKEN = {\n  name: \"cDAI\",\n  description: \"cDAI\",\n  [ChainId.Mainnet]: \"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643\",\n  decimals: \"18\",\n};\n\nexport const UNI_TOKEN = {\n  name: \"UNI\",\n  description: \"Uniswap\",\n  [ChainId.Mainnet]: \"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984\",\n  decimals: \"18\",\n};\n\nexport const CRV_TOKEN = {\n  name: \"CRV\",\n  description: \"Curve\",\n  [ChainId.Mainnet]: \"0xD533a949740bb3306d119CC777fa900bA034cd52\",\n  decimals: \"18\",\n};\n\nexport const BAL_TOKEN = {\n  name: \"BAL\",\n  description: \"Balancer\",\n  [ChainId.Mainnet]: \"0xba100000625a3754423978a60c9317c58a424e3d\",\n  [ChainId.Kovan]: \"0xba100000625a3754423978a60c9317c58a424e3d\",\n  decimals: \"18\",\n};\n\nexport const WBTC_TOKEN = {\n  name: \"wBTC\",\n  description: \"Wrapped Bitcoin\",\n  [ChainId.Mainnet]: \"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599\",\n  decimals: \"8\",\n};\n\nexport const WSTETH_TOKEN = {\n  name: \"wstETH\",\n  description: \"Wrapped liquid staked Ether 2.0\",\n  [ChainId.Mainnet]: \"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0\",\n  decimals: \"18\",\n  bg: \"#2e2f2f\",\n};\n\nexport const LDO_TOKEN = {\n  name: \"LDO\",\n  description: \"Lido\",\n  [ChainId.Mainnet]: \"0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32\",\n  decimals: \"18\",\n};\n\nexport const COMP_TOKEN = {\n  name: \"COMP\",\n  description: \"Compound\",\n  [ChainId.Mainnet]: \"0xc00e94Cb662C3520282E6f5717214004A7f26888\",\n  decimals: \"18\",\n};\n\n\nexport const WHITELISTED_TOKENS = [\n  WETH_TOKEN,\n  DAI_TOKEN,\n  USDC_TOKEN,\n  USDT_TOKEN,\n  BDAI_TOKEN,\n  BUSDC_TOKEN,\n  UNI_TOKEN,\n  CRV_TOKEN,\n  BAL_TOKEN,\n  WBTC_TOKEN,\n  WSTETH_TOKEN,\n  COMP_TOKEN,\n  LDO_TOKEN\n];\n","import { injected } from \"../connectors\";\nimport { ChainId } from \"@usedapp/core\";\nimport { DAI_TOKEN } from \"./tokens\";\n\nexport const NetworkContextName = \"NETWORK\";\n\nexport const VAULT_ADDRESS = {\n  [ChainId.Mainnet]: \"0x0fc4AA87dFfCD24697F4fb23dEDf95759761a764\",\n  [ChainId.Kovan]: \"0x5ad8031e63b1bb1fbb494fa4f26063badffa3700\",\n};\n\nexport const AGREEMENT_FACTORY_ADDRESS = {\n  [ChainId.Mainnet]: \"0x3661310ef010d8751b726d7aF5EbA458b96D956E\",\n  [ChainId.Kovan]: \"0x98d862Aad724d61E702c28EFB1Ab8bC1ACB45024\",\n};\n\nexport const DUST_THRESHOLD = \"0.000000000000001\";\n\nexport const SUPPORTED_WALLETS = {\n  INJECTED: {\n    connector: injected,\n    name: \"Injected\",\n    iconName: \"arrow-right.svg\",\n    description: \"Injected web3 provider.\",\n    href: null,\n    color: \"#010101\",\n    primary: true,\n  },\n  METAMASK: {\n    connector: injected,\n    name: \"MetaMask\",\n    iconName: \"metamask.png\",\n    description: \"Easy-to-use browser extension.\",\n    href: null,\n    color: \"#E8831D\",\n  },\n};\n\nexport const WALLET_VIEWS = {\n  OPTIONS: \"options\",\n  OPTIONS_SECONDARY: \"options_secondary\",\n  ACCOUNT: \"account\",\n  PENDING: \"pending\",\n};\n\nexport const STRATEGY_VIEWS = {\n  START: \"start\",\n  SELECTED: \"selected\", // once we selected an strategy\n  ESTIMATE: \"ESTIMATE\", // once we selected an strategy\n  CONFIRM: \"confirm\", //check before\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n};\n\nexport const TRANSACTION_TYPE = {\n  JOIN: \"join\",\n  EXIT: \"exit\",\n  WITHDRAW: \"withdraw\",\n  SWAP: 'swap',\n  DESPOSIT: 'deposit'\n};\n\nexport const TRANSACTION_BATCH = {\n  JOIN: \"join\",\n  EXIT: \"exit\",\n  DEPOSIT: \"deposit\",\n  PARTIAL_DEPOSIT: \"partial_deposit\",\n  SWAP: \"swap\",\n  WITHDRAW: \"withdraw\",\n};\n\nexport const TRANSACTION_NAME = {\n  JOIN: \"JoinStrategy\",\n  SWAP_JOIN: \"SwapJoinStrategy\",\n  DEPOSIT_JOIN: \"DepositJoinStrategy\",\n  DEPOSIT_SWAP_JOIN: \"DepositSwapJoinStrategy\",\n  EXIT: \"ExitStrategy\",\n  EXIT_SWAP: \"ExitSwapStrategy\",\n  WITHDRAW: \"Withdraw\",\n  SWAP: \"Swap\",\n  DESPOSIT: \"Deposit\"\n};\n\nexport const COMPOSITION_TYPE = {\n  ENOUGH_VAULT_BALANCE: \"enoughVaultBalance\",\n  VAULT_AND_AGREEMENT_BALANCE: \"vaultAndAgreementBalance\",\n  ENOUGH_AGREEMENT_BALANCE: \"enoughAgreementBalance\",\n  NO_BALANCE_AT_ALL: \"noBalanceAtAll\",\n};\n\nexport const QUERY_STATUS = {\n  NONE: \"None\",\n  DONE: \"Done\",\n  ERROR: \"Error\",\n  LOADING: \"Loading\",\n};\n\nexport const DEFAULT_INITIAL_PORTFOLIO = {\n  portfolios: [],\n  portfolioSelected: {\n    address: null,\n    balance: {},\n    gains: {},\n    sumApy: {},\n    withdrawWallets: [],\n  },\n  portfolioLoaded: false,\n};\n\nexport const TRANSACTION_STATUS = {\n  START: \"start\",\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n  DONE: \"done\",\n  NONE: \"None\"\n};\n\nexport const EMPTY_TOKEN = {\n  name: \"\",\n  description: \"\",\n  [ChainId.Mainnet]: \"\",\n  [ChainId.Rinkeby]: \"\",\n  decimals: \"18\",\n};\n\nexport const DEFAULT_TOKEN = DAI_TOKEN;\nexport const SLIPPAGE_UI_OPTIONS = ['0.005', '0.01', '0.02']\nexport const DEFAULT_SLIPPAGE = SLIPPAGE_UI_OPTIONS[1]\n\nexport const URL_FEEDBACK = 'https://airtable.com/shrSvH8fTJcbHq0xl' \n\nexport const REFETCH_INTERVAL_ACCOUNT = 15000\n// TODO add this var\nexport const DAYS_TO_COMPARE_SIMPLE_APY = 7\n","import { useEffect, useState } from 'react';\n\nfunction getItem(key) {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  const item = window.localStorage.getItem(key);\n  if (item !== null) {\n    try {\n      return JSON.parse(item);\n    } catch {\n      // ignore error\n    }\n  }\n}\n\nfunction setItem(key, value) {\n  if (value === undefined) {\n    window.localStorage.removeItem(key);\n  } else {\n    const toStore = JSON.stringify(value);\n    window.localStorage.setItem(key, toStore);\n    return JSON.parse(toStore);\n  }\n}\n\nexport function useLocalStorage(key) {\n  const [value, setValue] = useState(() => getItem(key));\n\n  useEffect(() => {\n    setValue(getItem(key));\n  }, [key]);\n\n  useEffect(() => {\n    setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n}\n","import { DEFAULT_INITIAL_PORTFOLIO } from '../constants';\n\nexport const ActionTypes = {\n  ADD_PORTFOLIO: 'ADD_PORTFOLIO',\n  SUBSTRACT_PORTFOLIO: 'SUBSTRACT_PORTFOLIO',\n  SELECT_PORTFOLIO: 'SELECT_PORTFOLIO',\n  UPDATE_PORTFOLIO_BALANCE: 'UPDATE_PORTFOLIO_BALANCE',\n};\n\nexport const reducer = (state, action) => {\n  // console.log('state', state);\n  // console.log('action', action);\n  switch (action.type) {\n    case ActionTypes.UPDATE_PORTFOLIO_BALANCE:\n      let update = { ...state.portfolioSelected.balance };\n      let gains = { ...state.portfolioSelected.gains };\n      let sumApy = { ...state.portfolioSelected.sumApy };\n      update[action.balance.address] = action.balance.total;\n      gains[action.balance.address] = action.balance.gains;\n      sumApy[action.balance.address] = action.balance.sumApy;\n      return {\n        ...state,\n        portfolioSelected: {\n          ...state.portfolioSelected,\n          balance: { ...update },\n          gains: { ...gains },\n          sumApy: { ...sumApy },\n        },\n      };\n    case ActionTypes.ADD_PORTFOLIO:\n      const exist = state?.portfolios?.find(\n        p => p.address === action.portfolio.address\n      );\n      if (exist) {\n        console.log(`${action.portfolio.address} already exist`);\n        return {\n          ...state,\n        };\n      } else {\n        console.log(`${action.portfolio.address} its new`);\n        const portfolio = { address: action.portfolio.address, name: '' };\n        const portfolioSelected = state.portfolioSelected?.address\n          ? state.portfolioSelected.address\n          : action.portfolio.address;\n        // console.log('portfolioSelected', portfolioSelected);\n        return {\n          ...state,\n          portfolios: [...state.portfolios, portfolio],\n          portfolioSelected: {\n            ...DEFAULT_INITIAL_PORTFOLIO.portfolioSelected,\n            address: portfolioSelected,\n          },\n        };\n      }\n\n    case ActionTypes.SUBSTRACT_PORTFOLIO:\n      const portfolios = state.portfolios.filter(\n        x => x.address !== action.portfolio.address\n      );\n      return { ...state, portfolios: portfolios };\n    case ActionTypes.SELECT_PORTFOLIO:\n      return {\n        ...state,\n        portfolioSelected: {\n          ...DEFAULT_INITIAL_PORTFOLIO.portfolioSelected,\n          address: action.portfolio,\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import React, { useEffect } from 'react';\nimport { DEFAULT_INITIAL_PORTFOLIO } from '../constants';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { reducer, ActionTypes } from './managerReducer';\n\nconst StateContext = React.createContext(DEFAULT_INITIAL_PORTFOLIO);\nconst DispatchContext = React.createContext(undefined);\n\nexport const ManagerProvider = ({ children }) => {\n  const [storage, setStorage] = useLocalStorage('portfolioManager');\n\n  const [state, dispatch] = React.useReducer(\n    reducer,\n    storage ? storage : DEFAULT_INITIAL_PORTFOLIO\n  );\n\n  useEffect(() => {\n    console.log('New portfolio selected', state);\n    setStorage(state);\n  }, [state]); // eslint-disable-line\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport const useManagerState = () => {\n  return React.useContext(StateContext);\n};\n\nexport const useManagerDispatch = () => {\n  const dispatch = React.useContext(DispatchContext);\n\n  if (dispatch === undefined) {\n    throw new Error('useManagerDispatch must be used within a BookingProvider');\n  }\n\n  const addPortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.ADD_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const removePortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.SUBSTRACT_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const selectPortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.SELECT_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalance = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE, balance  });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalanceOnVault = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE_VAULT, balance });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalanceOnStrategies = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE_SRATEGY, balance });\n    },\n    [dispatch]\n  );\n\n  return React.useMemo(\n    () => ({\n      addPortfolio,\n      removePortfolio,\n      selectPortfolio,\n      updatePortfolioBalance,\n      updatePortfolioBalanceOnVault,\n      updatePortfolioBalanceOnStrategies,\n    }),\n    [dispatch] // eslint-disable-line\n  );\n};\n","export const SETTINGS = {\n  LOGO: require(\"../assets/images/logo.svg\").default,\n  LOGO_MIN: require(\"../assets/images/logo-min.svg\").default,\n\n  MAIN_ANIMATION: require(\"../assets/images/mimic.apng\").default,\n  FREEZE_ANIMATION: require(\"../assets/images/mimic.apng\").default,\n  SUCCESS_ANIMATION: require(\"../assets/images/mimic-success.svg\").default,\n\n  MODAL: {\n    MODAL_BORDER_STYLE: {\n      LIGHT: '2px solid #353535 !important',\n      DARK: '2px solid #353535 !important',\n    },\n    BG: {\n      LIGHT: '#e8e8e8',\n      DARK: '#200909',\n    }\n  },\n  HEADER: {\n    LIGHT: 'linear(to-r, #5ebc79, #5ebc79bf)',\n    DARK: 'linear(to-r, #1d976c5e, #93F9B95e)',\n  },\n  TITLE: {\n    LIGHT: 'gray.800',\n    DARK: 'white',\n  },\n  SUBTITLE: {\n    LIGHT: 'gray.800',\n    DARK: '#6b6d6f',\n  },\n  INPUT: {\n    BG: {\n      LIGHT: '#ffffff8c', \n      DARK: '#1c1b1dd4',\n    },\n    SHADOW: {\n      LIGHT: 'inset 0 16px 30px rgba(0,0,0,.005)!important',\n      DARK: 'inset 0 16px 30px rgba(0,0,0,.15)!important',\n    },\n    BORDER: {\n      LIGHT: '1px solid #353535 !important',\n      DARK: '1px solid #531981 !important',\n    },\n  },\n  GREEN: '#48bb78',\n  BG_GREEN_LIGHT: '#9ae6b41f',\n  BG_DARK: '#200909',\n  RED: '#dc7070',\n  GRAY: '#6b6d6f',\n  GREY_LIGHT: '#909294',\n  GREY_LIGHTER: '#e2e2e2',\n  WHITE: '#F3F3F3',\n  PRIMARY: '#ff4d4d',\n  SECONDARY: '#CEFF5A',\n  VIOLET_DARK: '#260f0f',\n  VIOLET: '#260f0f',\n  VIOLET_LIGHT: '#ff4d4d',\n  VIOLET_LIGHTER: '#200d0d',\n  BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #531981 !important',\n  },\n  CARD_BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #F3F3F3 !important',\n  },\n  DISABLED_BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #D1D1D1 !important',\n  },\n  toast: {\n    variant: 'solid',\n    position: 'bottom-right',\n    isClosable: true,\n    status: 'warning'\n  },\n  HEADER_H: \"10rem\",\n  BUTTON_H: \"6rem\",\n  HEADER_OVERVIEW_H: \"8rem\",\n  ERROR: \"#ef4848\",\n  INFO: \"#2196f3\",\n  SUCCESS: \"#4FB59A\",\n  MAX_LAYOUT: \"1500px\"\n};\n","import { extendTheme } from '@chakra-ui/react';\nimport { mode } from '@chakra-ui/theme-tools';\nimport { SETTINGS } from '../helpers/settings';\nconst theme = extendTheme({\n  // fonts: {\n  //   heading: \"Heebo\",\n  //   body: \"Heebo\",\n  // },\n  components: {\n    Button: {\n      baseStyle: {\n        _focus: {\n          // border: 'none',\n          boxShadow: 'none',\n        },\n      },\n    },\n    Tabs: {\n      baseStyle: {\n        tab: {\n          _focus: {\n            boxShadow: 'none',\n          },\n        },\n      },\n    },\n    Modal: {\n      baseStyle: {\n        closeButton: {\n          _focus: {\n            boxShadow: 'none',\n          },\n        },\n      },\n    },\n  },\n  styles: {\n    global: props => ({\n      body: {\n        // fontFamily: 'Heebo',\n        color: mode('gray.800', SETTINGS.WHITE)(props),\n        bg: mode('#f9f9f9', '#1D1722')(props),\n        lineHeight: 'base',\n      },\n    }),\n  },\n\n  config: {\n    initialColorMode: 'dark',\n    useSystemColorMode: false,\n  },\n});\n// console.log(theme);\n\nexport default theme;\n","import { Box, Flex, Image } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport const Logo = () => {\n  return (\n    <Flex align=\"center\" justify=\"center\">\n      <Image\n        src={SETTINGS.LOGO}\n        alt=\"logo\"\n        h=\"65\"\n      />\n    </Flex>\n  );\n};\n\nexport const LogoIcon = ({ display }) => {\n  return (\n    <Box h=\"45\" display={display}>\n      <Image\n        src={SETTINGS.LOGO_MIN}\n        alt=\"logo\"\n        h=\"55\"\n      />\n    </Box>\n  );\n};\n\nexport default Logo;\n","export const ActionTypes = {\n  SET_OPEN_MODAL: 'SET_OPEN_MODAL',\n  SET_BLOCK_NUMBER: 'SET_BLOCK_NUMBER',\n  SET_SLIPPAGE: 'SET_SLIPPAGE',\n};\n\nexport const reducer = (state, action) => {\n  // console.log('state', state);\n  // console.log('action', action);\n  switch (action.type) {\n    case ActionTypes.SET_OPEN_MODAL:\n      return {\n        ...state,\n        openModal: action.modal,\n        modalParams: action.params,\n      };\n    case ActionTypes.SET_BLOCK_NUMBER:\n      return {\n        ...state,\n        blockNumber: action.blockNumber,\n      };\n      case ActionTypes.SET_SLIPPAGE:\n        return {\n          ...state,\n          slippage: action.slippage,\n        };\n    default:\n      return state;\n  }\n};\n","import {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n} from \"react\";\nimport { DEFAULT_SLIPPAGE } from \"../constants\";\nimport { reducer, ActionTypes } from \"./appReducer\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\n\nexport const APPLICATION_MODAL = {\n  WALLET: \"WALLET\",\n  JOIN_TO_STRATEGY: \"JOIN_TO_STRATEGY\",\n  EXIT_FROM_STRATEGY: \"EXIT_FROM_STRATEGY\",\n  WITHDRAW_FROM_VAULT: \"WITHDRAW_FROM_VAULT\",\n  TRANSFER_TO_AGREEMENT: \"TRANSFER_TO_AGREEMENT\",\n};\n\nconst initialContext = {\n  openModal: null,\n  modalParams: null,\n  blockNumber: 0,\n  slippage: DEFAULT_SLIPPAGE,\n};\n\nconst StateContext = createContext(initialContext);\nconst DispatchContext = createContext(undefined);\n\nexport const ApplicationProvider = ({ children }) => {\n  const [storage, setStorage] = useLocalStorage(\"appManager\");\n\n  const [state, dispatch] = useReducer(\n    reducer,\n    storage ? storage : initialContext\n  );\n\n  useEffect(() => {\n    setStorage({ ...initialContext, slippage: state.slippage });\n  }, [state]); // eslint-disable-line\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport const useApplicationState = () => {\n  return useContext(StateContext);\n};\n\nexport const useApplicationDispatch = () => {\n  const dispatch = useContext(DispatchContext);\n\n  if (dispatch === undefined) {\n    throw new Error(\"useApplicationDispatch must be used within a Provider\");\n  }\n\n  const setOpenModal = useCallback(\n    (modal, params) => {\n      dispatch({ type: ActionTypes.SET_OPEN_MODAL, modal, params });\n    },\n    [dispatch]\n  );\n\n  const updateBlockNumber = useCallback(\n    (blockNumber) => {\n      dispatch({ type: ActionTypes.SET_BLOCK_NUMBER, ...blockNumber });\n    },\n    [dispatch]\n  );\n\n  const updateGlobalSlippage = useCallback(\n    (slippage) => {\n      dispatch({ type: ActionTypes.SET_SLIPPAGE, slippage: slippage });\n    },\n    [dispatch]\n  );\n\n  return useMemo(\n    () => ({\n      setOpenModal,\n      updateBlockNumber,\n      updateGlobalSlippage,\n    }),\n    [setOpenModal, updateBlockNumber, updateGlobalSlippage]\n  );\n};\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { injected } from \"../connectors\";\nimport {\n  APPLICATION_MODAL,\n  useApplicationDispatch,\n  useApplicationState,\n} from \"../context/appContext\";\n\nexport function useEagerConnect() {\n  const { activate, active } = useEthers(); // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false);\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true);\n        });\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true);\n          });\n        } else {\n          setTried(true);\n        }\n      }\n    });\n  }, [activate]); // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true);\n    }\n  }, [active]);\n\n  return tried;\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useEthers(); // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch((error) => {\n          console.error(\"Failed to activate after chain changed\", error);\n        });\n      };\n\n      const handleAccountsChanged = (accounts) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch((error) => {\n            console.error(\"Failed to activate after accounts changed\", error);\n          });\n        }\n      };\n\n      ethereum.on(\"chainChanged\", handleChainChanged);\n      ethereum.on(\"accountsChanged\", handleAccountsChanged);\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"chainChanged\", handleChainChanged);\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n        }\n      };\n    }\n    return undefined;\n  }, [active, error, suppress, activate]);\n}\n\nexport function useModalOpen(modal) {\n  const { openModal } = useApplicationState();\n  return openModal === modal;\n}\n\nexport function useModalParams() {\n  const { modalParams } = useApplicationState();\n  return modalParams;\n}\n\nexport function useToggleModal(modal, params = null) {\n  const open = useModalOpen(modal);\n  const { setOpenModal } = useApplicationDispatch();\n  return useCallback(\n    () => setOpenModal(open ? null : modal, params),\n    [modal, open] // eslint-disable-line\n  );\n}\n\nexport function useWalletModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.WALLET, params);\n}\n\nexport function useJoinStrategyModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.JOIN_TO_STRATEGY, params);\n}\n\nexport function useExitStrategyModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.EXIT_FROM_STRATEGY, params);\n}\n\nexport function useWithdrawFromVaultModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.WITHDRAW_FROM_VAULT, params);\n}\n\nexport function useTransferToAgreementModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.TRANSFER_TO_AGREEMENT, params);\n}\n\nexport function useBlockNumber() {\n  const { blockNumber } = useApplicationState();\n\n  return blockNumber;\n}\n","import { useColorModeValue } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport function useStyles() {\n  const buttonBorderStyle = useColorModeValue(\n    SETTINGS.CARD_BORDER.LIGHT,\n    SETTINGS.CARD_BORDER.DARK\n  );\n\n  const bgButton = useColorModeValue(\n    SETTINGS.VIOLET_DARK,\n    SETTINGS.VIOLET_LIGHT\n  );\n\n  const inputBorderStyle = useColorModeValue(\n    SETTINGS.BORDER.LIGHT,\n    SETTINGS.BORDER.DARK\n  );\n\n  const inputBorderStyleDisabled = useColorModeValue(\n    SETTINGS.DISABLED_BORDER.LIGHT,\n    SETTINGS.DISABLED_BORDER.LIGHT\n  );\n\n  const colorTitle = useColorModeValue(\n    SETTINGS.TITLE.LIGHT,\n    SETTINGS.VIOLET_LIGHT\n  );\n\n  const colorBody = useColorModeValue(SETTINGS.VIOLET, SETTINGS.WHITE);\n\n  const colorSubtitle = useColorModeValue(\n    SETTINGS.SUBTITLE.LIGHT,\n    SETTINGS.SUBTITLE.DARK\n  );\n\n  const colorHighlighted = useColorModeValue(\n    SETTINGS.VIOLET_LIGHT,\n    SETTINGS.PRIMARY\n  );\n\n  const modalBorderStyle = useColorModeValue(\n    SETTINGS.MODAL.MODAL_BORDER_STYLE.LIGHT,\n    SETTINGS.MODAL.MODAL_BORDER_STYLE.DARK\n  );\n\n  const colorModalTitle = useColorModeValue(SETTINGS.VIOLET, \"#681a1a\");\n\n  const bgHover = useColorModeValue(\n    SETTINGS.MODAL.BG.LIGHT,\n    SETTINGS.MODAL.BG.DARK\n  );\n\n  const bgModal = useColorModeValue(\n    SETTINGS.VIOLET_LIGHTER,\n    SETTINGS.VIOLET_LIGHTER\n  );\n\n  const bg = useColorModeValue(\n    '#f9f9f9',\n    '#1D1722'\n  );\n  \n\n\n  return {\n    inputBorderStyle,\n    colorTitle,\n    colorSubtitle,\n    inputBorderStyleDisabled,\n    colorHighlighted,\n    bgHover,\n    bgModal,\n    modalBorderStyle,\n    colorBody,\n    colorModalTitle,\n    buttonBorderStyle,\n    bgButton,\n    bg\n  };\n}\n","import * as _ from \"lodash\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { formatUnits, parseEther } from \"@ethersproject/units\";\nimport numeral from \"numeral\";\nimport { Decimal } from \"decimal.js\";\nimport { DUST_THRESHOLD, EMPTY_TOKEN, TRANSACTION_STATUS } from \"../constants\";\nimport { utils } from \"ethers\";\nimport { WHITELISTED_TOKENS } from \"../constants/tokens\";\n\nexport function isAddress(value) {\n  try {\n    return getAddress(value);\n  } catch {\n    return false;\n  }\n}\n\nexport const CHAIN_ID_NAME = {\n  1: \"mainnet\",\n  3: \"ropsten\",\n  4: \"rinkeby\",\n  5: \"goerli\",\n  42: \"kovan\",\n};\n\nconst ETHERSCAN_PREFIXES = {\n  1: \"\",\n  3: \"ropsten.\",\n  4: \"rinkeby.\",\n  5: \"goerli.\",\n  42: \"kovan.\",\n};\n\nexport function getEtherscanLink(networkId, data, type) {\n  const prefix = `https://${\n    ETHERSCAN_PREFIXES[networkId] || ETHERSCAN_PREFIXES[1]\n  }etherscan.io`;\n\n  switch (type) {\n    case \"transaction\": {\n      return `${prefix}/tx/${data}`;\n    }\n    case \"address\":\n    default: {\n      return `${prefix}/address/${data}`;\n    }\n  }\n}\n\nconst generalFormatPrice = \"0.00\";\n\nexport function shortenAddress(address, digits = 4) {\n  // if (!isAddress(address)) {\n  //   throw Error(`Invalid 'address' parameter '${address}'.`);\n  // }\n  return `${address?.substring(0, digits + 2)}...${address?.substring(\n    42 - digits\n  )}`;\n}\n\nexport function getKeyByValue(obj, index) {\n  // if (!index) return null;\n  return _.invert(obj)[index];\n}\n\nexport function getListTokens(inTokens) {\n  return _.keys(inTokens).toString();\n}\n\nexport function getTokenDecimals(addressToken, chainId) {\n  return (\n    WHITELISTED_TOKENS.find((t) =>\n      isTheSameAddress(t[chainId], addressToken)\n    ) || EMPTY_TOKEN\n  );\n}\n\nexport function getTokenSymbol(token) {\n  return Object.keys(token);\n}\n\n// account is not optional\nexport function getSigner(library, account) {\n  return library.getSigner(account).connectUnchecked();\n}\n\n// account is optional\nexport function getProviderOrSigner(library, account = null) {\n  return account ? getSigner(library, account) : library;\n}\n\n// account is optional\nexport function getContract(address, ABI, library, account = null) {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`);\n  }\n  return new Contract(address, ABI, getProviderOrSigner(library, account));\n}\n\nexport function formatName(name) {\n  if (!name) return \"\";\n  return name.replace(/\\s+/g, \"\").toUpperCase();\n}\n\nexport function formatUSDC(value, decimals = 6) {\n  if (!value) return \"0\";\n  const price = formatUnits(value.toString(), decimals);\n  return price.toString();\n}\n\nexport function formatAmountToWei(value) {\n  if (!value) return \"0\";\n  const price = parseEther(value.toString());\n  return price.toString();\n}\n\nexport function formatPrice(value) {\n  if (!value) return generalFormatPrice;\n  const price = numeral(value).format(generalFormatPrice);\n  return price;\n}\n\n// magic to get prity numbers for humans\nexport function formatBNPrice(value = \"\", decimals = 18) {\n  const Dec = Decimal.clone({ precision: 50, defaults: true });\n  if (value.toString() === \"NaN\") return \"0\";\n  if (!value.toString()) return \"0\";\n  const a = new Dec(value.toString());\n  if (!a.isFinite()) return \"0\";\n  const priceDecimal = formatUnits(a.toFixed(0), decimals);\n  const b = new Dec(priceDecimal);\n  // console.log(\"vaultBalanceAccount ->\", value, b.toString(), decimals);\n  const price = numeral(b.toFixed(4)).format(generalFormatPrice);\n  return price;\n}\n\nexport function formatPercentage(value, decimals = 18) {\n  const a = new Decimal(value).isFinite();\n  if (!a) return \"0\";\n  const priceDecimal = formatUnits(value, decimals);\n  const price = numeral(priceDecimal).multiply(100).format(generalFormatPrice);\n  return price;\n}\n\nexport function formatBNUnits(value, decimals = 18) {\n  // const Dec = Decimal.clone({ precision: 50, defaults: true });\n  if (!value) return \"0\";\n  // const a = new Dec(value)\n  // if (!a.isFinite()) return \"0\";\n  const priceDecimal = formatUnits(value, decimals || 18);\n  return priceDecimal;\n}\n\nexport function formatBNPercentage(value, decimals = 18) {\n  if (!value) return \"0\";\n  const priceDecimal = formatUnits(value, decimals);\n  const price = numeral(priceDecimal).format(\"0.00%\");\n  return price;\n}\n\nexport function amountPerPrice(amount, price = 0) {\n  if (!amount) return \"0\";\n  // const totalPrice = numeral(amount).multiply(price).format(generalFormatPrice);\n  const priceDecimal = mulBN(amount, price);\n  const totalPrice = numeral(priceDecimal).format(generalFormatPrice);\n  return totalPrice;\n}\n\nexport function isTheSameUrl(url1, url2) {\n  if (!url1 || !url2) return false;\n  return url1.localeCompare(url2, undefined, { sensitivity: \"base\" }) === 0;\n}\n\nexport function isTheSameAddress(url1, url2) {\n  if (!url1 || !url2) return false;\n  return (\n    url1\n      .toString()\n      .localeCompare(url2.toString(), undefined, { sensitivity: \"base\" }) === 0\n  );\n}\n\nexport function getAssetImg(address) {\n  if (!address) return \"\";\n  return `https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/${address.toLowerCase()}.png`;\n}\n\nexport function isEmpty(value) {\n  return _.isEmpty(value);\n}\n\nexport function greaterThanMax(value, max) {\n  console.log('greaterThanMax', value, max)\n  if (!value || !max) return false;\n  const a = new Decimal(value);\n  const b = new Decimal(max);\n  const gt = a.gt(b);\n  if (!a.isFinite() || !b.isFinite()) return false;\n  return gt;\n}\n\nexport function greaterOrEqualThanMax(value, max) {\n  if (!value || !max) return false;\n  const a = new Decimal(value);\n  const b = new Decimal(max);\n  const gt = a.gte(b);\n  if (!a.isFinite() || !b.isFinite()) return false;\n  return gt;\n}\n\nexport function withBalance(value) {\n  if (!value) return false;\n  const a = new Decimal(value);\n  const gt = a.gt(DUST_THRESHOLD);\n  if (!a.isFinite()) return false;\n  return gt;\n}\n\nexport function sumBN(a, b) {\n  const aa = new Decimal(a);\n  const bb = new Decimal(b);\n  if ( !bb.isFinite()) return a;\n  const ab = aa.add(bb);\n  return ab.toString();\n}\n\nexport function mulBN(a, b) {\n  if (!a || !b) return 0;\n  const ab = new Decimal(a).mul(new Decimal(b));\n  return ab.toString();\n}\n\nexport function divBN(a, b) {\n  if (!a) return \"0\";\n  const ab = new Decimal(a).div(new Decimal(b));\n  return ab.toFixed(0);\n}\n\nexport function subBN(a, b) {\n  if (!a || !b) return 0;\n  const ab = new Decimal(a).sub(new Decimal(b));\n  return ab.toString();\n}\n\nexport function subBNfee(a, depositFee, decimals = 18) {\n  if (!a || !depositFee) return 0;\n  const fee = new Decimal(formatUnits(depositFee, decimals).toString());\n  const totalFee = new Decimal(a).mul(fee);\n  const ab = new Decimal(a).sub(totalFee);\n  return ab.toFixed(0);\n}\n\nexport function feePercentage(a) {\n  if (!a) return \"0\";\n  const ab = new Decimal(a).div(new Decimal(\"100\"));\n  return ab.toString();\n}\n\nexport function getAgreementAddressFromEvents(events) {\n  if (!events) return null;\n  // const event = events.find(e => e.event === 'AgreementCreated'); //OLD\n  // if (!event) return null;\n  return events[0][\"address\"];\n}\n\nexport function getHoldings(shares, totalShares, deposit) {\n  if (!shares || !totalShares || !deposit) return \"0\";\n  const perShares = new Decimal(shares).div(new Decimal(totalShares));\n  const holdings = new Decimal(perShares).mul(new Decimal(deposit));\n  return holdings.toFixed(0);\n}\n\nexport function getPercentPortfolio(shares, totalShares) {\n  if (!shares || !totalShares) return \"0\";\n  const perShares = new Decimal(shares).div(new Decimal(totalShares));\n  const holdings = new Decimal(perShares).mul(new Decimal(\"100\"));\n  return holdings.toFixed(2) || 0;\n}\n\nexport function getBalanceByToken(data, token) {\n  // console.log(\"getBalanceByToken(\", data, token);\n  if (!data || !token) return \"0\";\n  const [tokenBalance] = data?.filter((t) =>\n    isTheSameAddress(t?.token?.id, token)\n  );\n  return tokenBalance?.amount || \"0\";\n}\n\n// (totalJoinAmount - vaultBalance) * (1 - fee)\nexport function getAmountToDeposit(totalJoinAmount, vaultBalance, depositFee) {\n  if (!totalJoinAmount || !vaultBalance) return \"0\";\n  const subTotal = new Decimal(totalJoinAmount).sub(new Decimal(vaultBalance));\n  const fee = new Decimal(\"1e18\").sub(new Decimal(depositFee));\n  const total = subTotal.mul(fee);\n  return total.div(\"1e18\").toFixed(0);\n}\n\n// (finalRate - initialRate)/initialRate (365 * 24 * 60 * 60) / (timeFinalRate - timeInitialRate)\nexport function getApy(initialRate, finalRate) {\n  if (!initialRate || !finalRate) return \"0\";\n  const instantApy = new Decimal(finalRate.value)\n    .sub(new Decimal(initialRate.value))\n    .mul(new Decimal(\"1e18\"))\n    .div(new Decimal(initialRate.value));\n  const secondsPerRate = new Decimal(\"31536000\").mul(instantApy); // 365 * 24 * 60 * 60\n  const difTime = new Decimal(finalRate.timestamp).sub(\n    new Decimal(initialRate.timestamp)\n  );\n  const apy = new Decimal(secondsPerRate).div(difTime);\n  return apy.toFixed(0);\n}\n\nexport function getSimpleApyInSeconds(a, b, c) {\n  if (!a || !b) return \"0\";\n  console.log(\"getSimpleApyInSeconds\", b, a);\n  const baAccDiff = new Decimal(b.accumulators[0]).sub(\n    new Decimal(a.accumulators[0])\n  );\n  const baTimeDiff = new Decimal(b.timestamp).sub(new Decimal(a.timestamp));\n  const rateBA = baAccDiff.div(baTimeDiff);\n\n  const cbAccDiff = new Decimal(c.accumulators[0]).sub(\n    new Decimal(b.accumulators[0])\n  );\n  const cbTimeDiff = new Decimal(c.timestamp).sub(new Decimal(b.timestamp));\n  const rateCB = cbAccDiff.div(cbTimeDiff);\n\n  // console.log('getSimpleApyInSeconds accB: ',b.accumulators[0], ' accA: ',a.accumulators[0], ' tB: ', b.timestamp, ' tA: ', a.timestamp, ' accDiff: ', accDiff.toString(), ' timeDiff: ', timeDiff.toString(), ' accDivTime: ',  accDivTime.toString())\n  const diff = rateCB.sub(rateBA);\n  return diff.toString();\n}\n\nexport function annualizedValueInSeconds(value) {\n  if (!value) return \"0\";\n  const annValue = new Decimal(\"31536000\").mul(value); // 365 * 24 * 60 * 60\n  return annValue.toFixed(0);\n}\n\nexport function bn(bn) {\n  if (!bn) return \"0\";\n  const newBn = new Decimal(bn);\n  return newBn.toString();\n}\n\nexport function parseBN(value = \"0\", decimals = 18) {\n  if (!value || !decimals) return \"0\";\n  if (value === \"0.0\") return \"0\";\n  const newBn = utils.parseUnits(value, decimals);\n  return newBn.toString();\n}\n\nexport function filterEmptyElements(array) {\n  if (!array) return [];\n  return array.filter(Boolean);\n}\n\nexport function updateLocalTransactionState(stateCallback, setState, setView) {\n  console.log(\n    `updateLocalTransactionState: useEffects stateCallback: ${JSON.stringify(\n      stateCallback\n    )}`\n  );\n\n  const hash = stateCallback?.transaction?.hash;\n\n  if (stateCallback?.status === \"Mining\") {\n    setView(TRANSACTION_STATUS.MINING);\n\n    setState({\n      createErrorMessage: undefined,\n      txHash: hash,\n    });\n  }\n  if (\n    stateCallback?.status === \"Fail\" ||\n    stateCallback?.status === \"Exception\"\n  ) {\n    console.log(\"updateLocalTransactionState error \", stateCallback);\n    setState({\n      errorMessage: stateCallback.errorMessage,\n      txHash: hash,\n    });\n    setView(TRANSACTION_STATUS.ERROR);\n  }\n  if (stateCallback?.status === \"Success\") {\n    setView(TRANSACTION_STATUS.DONE);\n    setState({\n      errorMessage: undefined,\n      txHash: hash,\n    });\n  }\n}\n","import React, { useEffect, useRef } from 'react';\nimport Jazzicon from 'jazzicon';\nimport { Box } from '@chakra-ui/layout';\nimport { useEthers } from '@usedapp/core';\n\nexport default function Identicon() {\n  const ref = useRef();\n\n  const { account } = useEthers();\n\n  useEffect(() => {\n    if (account && ref.current) {\n      ref.current.innerHTML = '';\n      ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)));\n    }\n  }, [account]);\n\n  return <Box ref={ref} />;\n}\n","import { useEffect, useRef } from 'react'\n\n// modified from https://usehooks.com/usePrevious/\nexport default function usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n","import { Flex, Text } from '@chakra-ui/react';\nimport { getExplorerTransactionLink } from '@usedapp/core';\nimport { Link } from 'react-router-dom';\nimport { FiExternalLink } from 'react-icons/fi';\n\nexport const TransactionHashLink = ({ hash, chainId }) => (\n  <>\n    {hash && (\n      <Link\n        to={{ pathname: getExplorerTransactionLink(hash, chainId) }}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Flex align=\"center\" textDecor=\"underline\">\n          <Text px=\"2\">View on Etherscan</Text>\n          <FiExternalLink />\n        </Flex>\n      </Link>\n    )}\n  </>\n);\n","import { Heading } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const BoxTitle = ({ children, py, ...rest }) => {\n  return (\n    <Heading\n      size=\"sm\"\n      color={SETTINGS.GRAY}\n      py={py ? py : 4}\n      textTransform=\"capitalize\"\n      {...rest}\n      minW=\"170px\"\n    >\n      {children}\n    </Heading>\n  );\n};\n","import { Box } from \"@chakra-ui/react\";\n\nexport const Hr = ({mt}) => {\n  return <Box w=\"full\" borderTop=\"3px solid #ddc4f2\" mt={mt ? mt : \"4\"} />;\n};\n","import { IconButton } from \"@chakra-ui/react\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const RoundedIconButton = ({\n  onClick,\n  target,\n  rel,\n  icon,\n  ariaLabel,\n  border,\n}) => {\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <IconButton\n      aria-label={ariaLabel}\n      target={target}\n      rel={rel}\n      size=\"md\"\n      ml=\"3\"\n      onClick={onClick}\n      border={border ? border : buttonBorderStyle}\n      opacity=\"0.7\"\n      variant=\"ghost\"\n      icon={icon}\n      rounded=\"full\"\n      display={{ md: \"inline-flex\", base: \"none\" }}\n    />\n  );\n};\n","import React from \"react\";\nimport {\n  Flex,\n  Text,\n  useClipboard,\n  useToast,\n  Button, Link\n} from \"@chakra-ui/react\";\nimport { shortenAddress } from \"../../helpers\";\nimport { RiFileCopyLine, RiExternalLinkLine } from \"react-icons/ri\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport Identicon from \"../Identicon\";\nimport {\n  getExplorerAddressLink,\n  useEthers,\n  useLookupAddress,\n  useTransactions,\n} from \"@usedapp/core\";\nimport { TransactionHashLink } from \"../common/TransactionHashLink\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { BoxTitle } from \"../typography/BoxTitle\";\nimport { Hr } from \"../strategy/Hr\";\nimport { RoundedIconButton } from \"../common/RoundedIconButton\";\n\n\nexport default function AccountDetails({ connector }) {\n  const { deactivate, account, chainId } = useEthers()\n  const { inputBorderStyle, colorModalTitle } = useStyles();\n  const toast = useToast();\n  const { onCopy } = useClipboard(account);\n  const ens = useLookupAddress();\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Manager address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    window.open(getExplorerAddressLink(account, chainId), \"_blank\");\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  function StatusIcon() {\n    if (connector) {\n      return <Identicon />;\n    }\n    return null;\n  }\n  function FormatConnectorName() {\n    return <BoxTitle>Connected with Metamask</BoxTitle>;\n  }\n\n  return (\n    <Flex direction=\"column\" align=\"center\" w=\"full\">\n      <FormatConnectorName />\n      <Flex justify=\"center\" align=\"center\" pb={3} w=\"full\">\n        <Button\n          py=\"0.7rem\"\n          px=\"0.7rem\"\n          fontSize=\"lg\"\n          variant=\"ghost\"\n          color=\"current\"\n          rounded=\"0\"\n          mx={1}\n          border={inputBorderStyle}\n        >\n          <Flex align=\"center\">\n            <Flex>\n              <Text mr={2} fontSize=\"1rem\" fontWeight=\"400\">\n                {ens ? ens : shortenAddress(account)}\n              </Text>\n              {connector && <StatusIcon connector={connector} />}\n            </Flex>\n          </Flex>\n        </Button>\n\n        <RoundedIconButton\n          aria-label=\"Copy\"\n          onClick={copyAddress}\n          icon={<RiFileCopyLine  color={colorModalTitle} />}\n          border={inputBorderStyle}\n        />\n        <RoundedIconButton\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          aria-label=\"Open\"\n          onClick={openAddress}\n          icon={<RiExternalLinkLine color={colorModalTitle} />}\n          border={inputBorderStyle}\n\n        />\n      </Flex>\n      <Flex>\n        <Link onClick={deactivate} fontSize=\"0.75rem\" >Disconnect Wallet</Link>\n      </Flex>\n      <Hr mt=\"8\" />\n      <Flex\n        w=\"full\"\n        direction=\"column\"\n        justify=\"flex-start\"\n        m=\"4\"\n        px=\"4\"\n        pb=\"4\"\n        rounded=\"sm\"\n        minH=\"6rem\"\n        maxH=\"20rem\"\n        overflowY=\"scroll\"\n      >\n        <BoxTitle>Transactions:</BoxTitle>\n        <Flex direction=\"column\" w=\"full\">\n          <TransactionsList />\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n\nconst TransactionsList = () => {\n  const { transactions } = useTransactions();\n  return (\n    <>\n      {transactions && transactions.length ? (\n        transactions.map((transaction) => (\n          <ListTx\n            transaction={transaction.transaction}\n            title={transaction.transactionName}\n            // icon={transaction.transactionName === 'Unwrap' ? <UnwrapIcon /> : <WrapIcon />}\n            key={transaction.transaction.hash}\n          />\n        ))\n      ) : (\n        <Text opacity=\"0.7\">No transactions here </Text>\n      )}\n    </>\n  );\n};\n\nconst ListTx = ({ transaction, title }) => {\n\n  return (\n    <Flex align=\"center\" w=\"full\" justify=\"space-between\" py=\"2\">\n      {title}\n      <TransactionHashLink\n        hash={transaction.hash}\n        chainId={transaction.chainId}\n      />\n    </Flex>\n  );\n};\n","import { Heading } from '@chakra-ui/react';\n\nexport const TabTitle = ({ children, pt, px, mt, color }) => {\n  return (\n    <Heading\n      pt={pt ? pt : 1}\n      pb={4}\n      size=\"lg\"\n      textAlign=\"left\"\n      fontWeight=\"400\"\n      px={px ? px : ['4', '4', '6']}\n      mt={mt}\n      color={color ? color : undefined}\n    >\n      {children}\n    </Heading>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { injected } from \"../../connectors\";\nimport { SUPPORTED_WALLETS, WALLET_VIEWS } from \"../../constants\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  Button,\n  Flex,\n  Image,\n  Link,\n} from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../../context/appContext\";\nimport { useModalOpen, useWalletModalToggle } from \"../../hooks\";\nimport AccountDetails from \"./AccountDetails\";\nimport { useEthers } from \"@usedapp/core\";\nimport { TabTitle } from \"../typography/TabTitle\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { useTranslation } from \"react-i18next\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { Hr } from \"../strategy/Hr\";\n\nexport default function WalletModal() {\n  const { t } = useTranslation();\n  const { bgModal, modalBorderStyle, colorModalTitle } = useStyles();\n\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT);\n  const walletModalOpen = useModalOpen(APPLICATION_MODAL.WALLET);\n  const toggleWalletModal = useWalletModalToggle();\n  const { active, account, connector, activate, error } = useEthers();\n  const previousAccount = usePrevious(account);\n\n  // close on connection, when logged out before\n  useEffect(() => {\n    if (account && !previousAccount && walletModalOpen) {\n      toggleWalletModal();\n    }\n  }, [account, previousAccount, toggleWalletModal, walletModalOpen]);\n\n  // resetting view\n  useEffect(() => {\n    if (walletModalOpen) {\n      setWalletView(WALLET_VIEWS.ACCOUNT);\n    }\n  }, [walletModalOpen]);\n\n  // close modal when a connection is successful\n  const activePrevious = usePrevious(active);\n  const connectorPrevious = usePrevious(connector);\n  useEffect(() => {\n    if (\n      walletModalOpen &&\n      ((active && !activePrevious) ||\n        (connector && connector !== connectorPrevious && !error))\n    ) {\n      setWalletView(WALLET_VIEWS.ACCOUNT);\n    }\n  }, [\n    setWalletView,\n    active,\n    error,\n    connector,\n    walletModalOpen,\n    activePrevious,\n    connectorPrevious,\n  ]);\n\n  const tryActivation = async (connector) => {\n    let name = \"\";\n    Object.keys(SUPPORTED_WALLETS).map((key) => {\n      if (connector === SUPPORTED_WALLETS[key].connector) {\n        return (name = SUPPORTED_WALLETS[key].name);\n      }\n      return true;\n    });\n\n    setWalletView(WALLET_VIEWS.PENDING);\n\n    connector &&\n      activate(connector, undefined, true).catch((error) => {\n        if (error) {\n          activate(connector); // a little janky...can't use setError because the connector isn't set\n        }\n      });\n    return name;\n  };\n\n  const RenderOptions = () => {\n    const isMetamask = window.ethereum && window.ethereum.isMetaMask;\n    return Object.keys(SUPPORTED_WALLETS).map((key) => {\n      const option = SUPPORTED_WALLETS[key];\n\n      // overwrite injected when needed\n      if (option.connector === injected) {\n        // don't show injected if there's no injected provider\n        if (!(window.web3 || window.ethereum)) {\n          if (option.name === \"MetaMask\") {\n            return <InstallMm />;\n          } else {\n            return null; //dont want to return install twice\n          }\n        }\n        // don't return metamask if injected provider isn't metamask\n        else if (option.name === \"MetaMask\" && !isMetamask) {\n          return null;\n        }\n        // likewise for generic\n        else if (option.name === \"Injected\" && isMetamask) {\n          return null;\n        }\n      }\n\n      // return rest of options\n      return (\n        !isMobile &&\n        !option.mobileOnly && (\n          <>\n            <Flex\n              key={key}\n              align=\"center\"\n              w=\"full\"\n              justify=\"flex-start\"\n              pt=\"6\"\n              pb=\"2\"\n              px={6}\n            >\n              <Image\n                w=\"2rem\"\n                src={require(\"../../assets/images/\" + option.iconName).default}\n              />\n\n              <Button\n                // px={4}\n                // w=\"full\"\n                variant=\"ghost\"\n                fontSize=\"1.5rem\"\n                color={colorModalTitle}\n                onClick={() => {\n                  option.connector === connector\n                    ? setWalletView(WALLET_VIEWS.ACCOUNT)\n                    : !option.href && tryActivation(option.connector);\n                }}\n                key={key}\n              >\n                Connect {option.name}\n              </Button>\n            </Flex>\n          </>\n        )\n      );\n    });\n  };\n\n  function getModalContent() {\n    if (error) {\n      return <Flex>{t(\"wrongNetwork\")}</Flex>;\n    }\n    if (account && walletView === WALLET_VIEWS.ACCOUNT) {\n      return <AccountDetails connector={connector} />;\n    }\n    return (\n      <Flex direction=\"column\" align=\"flex-start\" w=\"full\">\n        <Hr />\n        <Flex direction=\"column\" align=\"flex-start\" w=\"full\">\n          {walletView === WALLET_VIEWS.PENDING ? (\n            <Flex>Please accept the message </Flex>\n          ) : (\n            <>\n              <RenderOptions />\n              <Hr />\n              <Flex p=\"4\">\n                By connecting a wallet, you agree to OTF app Terms of Service\n                and acknowledge that you have read and understand the protocol\n                disclaimer.\n              </Flex>\n            </>\n          )}\n        </Flex>\n\n        {walletView !== WALLET_VIEWS.ACCOUNT && (\n          <Flex mt={6}>\n            <Button\n              variant=\"link\"\n              onClick={() => setWalletView(WALLET_VIEWS.ACCOUNT)}\n            >\n              Back\n            </Button>\n          </Flex>\n        )}\n      </Flex>\n    );\n  }\n\n  return (\n    <>\n      <Modal isOpen={walletModalOpen} onClose={toggleWalletModal}>\n        <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n        <ModalContent bg={bgModal} border={modalBorderStyle} rounded=\"md\">\n          <ModalHeader color={colorModalTitle} px=\"4\">\n            {account ? \"Wallet Status\" : \"Connect Wallet\"}\n          </ModalHeader>\n          <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n          <ModalBody p=\"0\" color={colorModalTitle}>\n            {getModalContent()}\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nconst InstallMm = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex w=\"full\" h=\"12rem\" align=\"center\" justify=\"center\">\n      <TabTitle>\n        {t(\"needAccount\")} <Link fontWeight=\"600\">try with Metamask</Link>\n      </TabTitle>\n    </Flex>\n  );\n};\n","import { Badge } from \"@chakra-ui/layout\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const MimicBadge = ({ schema, children, mt }) => {\n  if (schema === \"light\") {\n    return (\n      <SimpleBadge mt={mt} bg={SETTINGS.VIOLET_LIGHTER} color={SETTINGS.VIOLET_DARK}>\n        {children}\n      </SimpleBadge>\n    );\n  }\n\n  if (schema === \"subtle\") {\n    return (\n      <SimpleBadge mt={mt} bg={SETTINGS.PRIMARY} color={SETTINGS.VIOLET_LIGHTER}>\n        {children}\n      </SimpleBadge>\n    );\n  }\n\n\n  return (\n    <SimpleBadge mt={mt} bg={SETTINGS.PRIMARY} color={SETTINGS.VIOLET_DARK}>\n      {children}\n    </SimpleBadge>\n  );\n};\n\nconst SimpleBadge = ({ bg, children, color, mt }) => {\n  return (\n    <Badge variant=\"subtle\" bg={bg} color={color} py=\"1\" px=\"2\" mt={mt}>\n      {children}\n    </Badge>\n  );\n};\n","import { Flex, Text, Button, Badge } from \"@chakra-ui/react\";\nimport { useEtherBalance, useEthers, useLookupAddress } from \"@usedapp/core\";\nimport { useWalletModalToggle } from \"../../hooks\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { shortenAddress, formatBNPrice, CHAIN_ID_NAME } from \"../../helpers\";\nimport { getDefaultChainID, isStaging } from \"../../helpers/enviroment\";\nimport Identicon from \"../Identicon\";\nimport WalletModal from \"./WalletModal\";\nimport { useTranslation } from \"react-i18next\";\nimport { MimicBadge } from \"../common/MimicBadge\";\n\nfunction StatusIcon({ connector }) {\n  if (connector) {\n    return <Identicon />;\n  }\n  return null;\n}\n\nfunction Web3StatusInner() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgHover } = useStyles();\n\n  const { account, connector, error, chainId } = useEthers();\n  const ens = useLookupAddress();\n\n  const userBalance = useEtherBalance(account);\n  const toggleWalletModal = useWalletModalToggle();\n\n  const ConnectButton = () => {\n    return (\n      <Button\n        variant=\"ghost\"\n        color=\"current\"\n        rounded=\"0\"\n        onClick={toggleWalletModal}\n        border={buttonBorderStyle}\n        _hover={{ bg: bgHover }}\n      >\n        {t(\"connect\")}\n      </Button>\n    );\n  };\n\n  if (account) {\n    if (chainId !== getDefaultChainID()) {\n      return (\n        <Badge colorScheme=\"red\" mx=\"5\">\n          {t(\"wrongNetwork\")}\n        </Badge>\n      );\n    }\n    return (\n      <>\n        {/* TODO: REMOVE, this is for testing purpose */}\n        {isStaging() && <MimicBadge mx=\"4\" schema=\"dark\">\n          {CHAIN_ID_NAME[chainId]}\n        </MimicBadge> }\n        <Flex align=\"center\">\n          <Text fontSize=\"1.15rem\" px=\"1rem\" fontWeight=\"600\">\n            {`${formatBNPrice(userBalance)} ETH`}\n          </Text>\n          <Button\n            py=\"0.5rem\"\n            px=\"0.7rem\"\n            fontSize=\"lg\"\n            variant=\"ghost\"\n            color=\"current\"\n            rounded=\"0\"\n            onClick={toggleWalletModal}\n            border={buttonBorderStyle}\n            _hover={{ bg: bgHover }}\n          >\n            <Flex align=\"center\">\n              <Flex align=\"center\">\n                <Text mr={2} fontSize=\"1.15rem\" fontWeight=\"400\">\n                  {ens ? ens : shortenAddress(account)}\n                </Text>\n                {connector && <StatusIcon connector={connector} />}\n              </Flex>\n            </Flex>\n          </Button>\n        </Flex>\n      </>\n    );\n  } else if (error) {\n    return (\n      <Flex onClick={toggleWalletModal}>\n        <Text>{t(\"wrongNetwork\")}</Text>\n        <ConnectButton />\n      </Flex>\n    );\n  } else {\n    return <ConnectButton />;\n  }\n}\n\nexport default function Web3Status() {\n  const { active } = useEthers();\n\n  if (!active) {\n    return null;\n  }\n\n  return (\n    <>\n      <Web3StatusInner />\n      <WalletModal />\n    </>\n  );\n}\n","import {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Flex,\n  IconButton,\n  useColorModeValue,\n  useColorMode,\n  Box,\n  MenuOptionGroup,\n  MenuItemOption,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { FaMoon, FaSun } from \"react-icons/fa\";\nimport { RiAddBoxLine, RiFeedbackFill } from \"react-icons/ri\";\nimport { BiPlanet } from \"react-icons/bi\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { SLIPPAGE_UI_OPTIONS, URL_FEEDBACK } from \"../../constants\";\nimport {\n  useApplicationDispatch,\n  useApplicationState,\n} from \"../../context/appContext\";\nimport { mulBN } from \"../../helpers\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { Hr } from \"../strategy/Hr\";\n\nfunction HeaderMenu({ showWeb3 }) {\n  const { buttonBorderStyle, bgModal, colorModalTitle } = useStyles();\n\n  const toast = useToast();\n\n  const bgHover = useColorModeValue(\"#e2e8f0\", \"#ffffff29\");\n\n  const { toggleColorMode: toggleMode } = useColorMode();\n  const SwitchIcon = useColorModeValue(FaMoon, FaSun);\n\n  const openFeedback = () => {\n    window.open(URL_FEEDBACK, \"_blank\");\n    toast({\n      title: `Opening feedback form`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  return (\n    <Menu>\n      <MenuButton\n        as={IconButton}\n        aria-label=\"Options\"\n        icon={<BsThreeDots />}\n        variant=\"ghost\"\n        color=\"current\"\n        fontSize=\"lg\"\n        rounded=\"full\"\n        border={buttonBorderStyle}\n        _hover={{ background: bgHover }}\n      />\n      <MenuList rounded=\"md\" bg={bgModal} p={0} mt={2} color={colorModalTitle}>\n        <SlippageOptions />\n        <Hr mt=\"0\" />\n\n        <MenuItem\n          as={RouterLink}\n          to=\"/app/new\"\n          h=\"4rem\"\n          onClick={() => console.log(\"manager\")}\n        >\n          <MenuBtn icon={<RiAddBoxLine />} title={\"New Portfolio\"} />\n        </MenuItem>\n        <Hr mt=\"0\" />\n\n        {!showWeb3 && (\n          <>\n            <MenuItem\n              as={RouterLink}\n              to=\"/app\"\n              h=\"4rem\"\n              onClick={() => console.log(\"manager\")}\n            >\n              <MenuBtn icon={<BiPlanet />} title={\"Manager App\"} />\n            </MenuItem>\n            <Hr mt=\"0\" />\n          </>\n        )}\n        <MenuItem h=\"4rem\" onClick={openFeedback}>\n          <MenuBtn icon={<RiFeedbackFill />} title={\"Feedback\"} />\n        </MenuItem>\n        <Hr mt=\"0\" />\n\n        <MenuItem h=\"4rem\" onClick={toggleMode}>\n          <MenuBtn icon={<SwitchIcon />} title={\"Change theme\"} />\n        </MenuItem>\n      </MenuList>\n    </Menu>\n  );\n}\n\nexport default HeaderMenu;\n\nconst MenuBtn = ({ icon, title, color }) => {\n  return (\n    <Flex justify=\"space-between\" w=\"full\" align=\"center\" color={color}>\n      {title}\n      <Box\n        py=\"1rem\"\n        px={4}\n        size=\"lg\"\n        fontSize=\"lg\"\n        bg=\"#ffffff08\"\n        variant=\"ghost\"\n        color=\"current\"\n      >\n        {icon}\n      </Box>\n    </Flex>\n  );\n};\n\nconst SlippageOptions = () => {\n  const { slippage } = useApplicationState();\n  const { updateGlobalSlippage } = useApplicationDispatch();\n  return (\n    <MenuOptionGroup\n      defaultValue={slippage}\n      title=\"Global Slippage\"\n      type=\"radio\"\n      fontSize=\"lg\"\n      fontWeight=\"400\"\n    >\n      {SLIPPAGE_UI_OPTIONS.map((option) => {\n        return (\n          <MenuItemOption\n            onClick={() => updateGlobalSlippage(option)}\n            value={option}\n            key={option}\n          >\n            {mulBN(option, \"100\")}%\n          </MenuItemOption>\n        );\n      })}\n    </MenuOptionGroup>\n  );\n};\n","import { Icon } from \"@chakra-ui/react\";\n\nexport const AbacusIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"21.452\"\n      height=\"20.338\"\n      viewBox=\"0 0 21.452 20.338\"\n      {...props}\n    >\n      <g id=\"Group_23\" data-name=\"Group 23\" transform=\"translate(0.75 0.75)\">\n        <line\n          id=\"Line_32\"\n          data-name=\"Line 32\"\n          x2=\"19.952\"\n          transform=\"translate(0 2.069)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_33\"\n          data-name=\"Line 33\"\n          x2=\"19.952\"\n          transform=\"translate(0 9.711)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_34\"\n          data-name=\"Line 34\"\n          x2=\"19.952\"\n          transform=\"translate(0 16.927)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_35\"\n          data-name=\"Line 35\"\n          y2=\"3.927\"\n          transform=\"translate(3.343 14.911)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_36\"\n          data-name=\"Line 36\"\n          y2=\"3.927\"\n          transform=\"translate(15.866 7.588)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_37\"\n          data-name=\"Line 37\"\n          y2=\"3.927\"\n          transform=\"translate(7.057 0)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const PlanetIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"21.874\"\n      height=\"21.874\"\n      viewBox=\"0 0 21.874 21.874\"\n    >\n      <g id=\"Group_24\" data-name=\"Group 24\" transform=\"translate(0.768 0.768)\">\n        <ellipse\n          id=\"Ellipse_13\"\n          data-name=\"Ellipse 13\"\n          cx=\"9.81\"\n          cy=\"9.81\"\n          rx=\"9.81\"\n          ry=\"9.81\"\n          transform=\"translate(0.358 0.358)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_25\"\n          data-name=\"Path 25\"\n          d=\"M799.546,286.944c-1.2,2.309-1.514,4.163-.666,5.011,1.7,1.7,7.411-1.267,12.763-6.618s8.315-11.066,6.618-12.763c-.848-.848-2.7-.532-5.01.666\"\n          transform=\"translate(-798.402 -272.096)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const SignatureIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"27.857\"\n      height=\"15.873\"\n      viewBox=\"0 0 27.857 15.873\"\n    >\n      <path\n        id=\"Path_26\"\n        data-name=\"Path 26\"\n        d=\"M794.141,378.7s2.237-3.334,4.351-2.229c3.114,1.627-.318,7.924-2.971,14.08,0,0,5.891-5.537,7.748-7.394s4.245-3.714,4.139,0-.193,5.72,5.377,2.653c3.149-1.733,7.146-4.1,7.146-4.1\"\n        transform=\"translate(-793.1 -375.427)\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n      />\n    </Icon>\n  );\n};\n\nexport const HistoryIcon = () => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24.572\"\n      height=\"22.088\"\n      viewBox=\"0 0 24.572 22.088\"\n    >\n      <g id=\"Group_25\" data-name=\"Group 25\" transform=\"translate(1.061 0.75)\">\n        <path\n          id=\"Path_27\"\n          data-name=\"Path 27\"\n          d=\"M799.9,495.207a10.292,10.292,0,1,1,4.708,8.648\"\n          transform=\"translate(-797.731 -484.913)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_28\"\n          data-name=\"Path 28\"\n          d=\"M814.936,494.55v4.882h4.457\"\n          transform=\"translate(-803.147 -488.385)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_29\"\n          data-name=\"Path 29\"\n          d=\"M796.507,500.287l2.2,2.2,2.176-2.2\"\n          transform=\"translate(-796.507 -490.452)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const MeteorIcon = () => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"22.673\"\n      height=\"22.673\"\n      viewBox=\"0 0 22.673 22.673\"\n    >\n      <g id=\"Group_26\" data-name=\"Group 26\" transform=\"translate(0.75 0.75)\">\n        <path\n          id=\"Path_30\"\n          data-name=\"Path 30\"\n          d=\"M807.216,602.9\"\n          transform=\"translate(-801.159 -592.737)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_31\"\n          data-name=\"Path 31\"\n          d=\"M799.962,605.973h0a7.555,7.555,0,0,1,0-10.685l7.753-7.754-.258,6.779,11.464-7.3-7.3,11.464,6.778-.258-7.753,7.753A7.555,7.555,0,0,1,799.962,605.973Z\"\n          transform=\"translate(-797.748 -587.013)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_32\"\n          data-name=\"Path 32\"\n          d=\"M809.776,608.416a3.629,3.629,0,0,1-5.132-5.132\"\n          transform=\"translate(-799.19 -592.698)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const MoreIcon = () => {\n  return (\n    <Icon xmlns=\"http://www.w3.org/2000/svg\" boxSize=\"5\" viewBox=\"0 0 31 31\">\n      <g id=\"Group_1\" data-name=\"Group 1\" transform=\"translate(-0.315 -0.039)\">\n        <path\n          id=\"Path_18\"\n          data-name=\"Path 18\"\n          d=\"M1482.866,969.425v17.587\"\n          transform=\"translate(-1467.638 -962.954)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        />\n        <path\n          id=\"Path_19\"\n          data-name=\"Path 19\"\n          d=\"M0,0V17.587\"\n          transform=\"translate(6.548 15.15) rotate(-90)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        />\n        <g\n          id=\"Ellipse_7\"\n          data-name=\"Ellipse 7\"\n          transform=\"translate(0.315 0.039)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        >\n          <circle cx=\"15.5\" cy=\"15.5\" r=\"15.5\" stroke=\"none\" />\n          <circle cx=\"15.5\" cy=\"15.5\" r=\"15\" fill=\"none\" />\n        </g>\n      </g>\n    </Icon>\n  );\n};\n\nexport const LogoIcon = (props) => {\n  return(\n    <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"35.996\"\n    height=\"36\"\n    data-name=\"Group 36\"\n    viewBox=\"0 0 35.996 36\"\n    {...props}\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 41\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 42\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 43\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 44\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <circle\n      cx=\"0.723\"\n      cy=\"0.723\"\n      r=\"0.723\"\n      fill=\"currentColor\"\n      data-name=\"Ellipse 22\"\n      transform=\"translate(15.739 14.397)\"\n    ></circle>\n    <circle\n      cx=\"0.723\"\n      cy=\"0.723\"\n      r=\"0.723\"\n      fill=\"currentColor\"\n      data-name=\"Ellipse 23\"\n      transform=\"translate(18.633 14.397)\"\n    ></circle>\n    <g data-name=\"Group 35\">\n      <g data-name=\"Group 32\" transform=\"translate(2.891 20.265)\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1583.9 569.408v2.708h-3.526a12.227 12.227 0 01-11.492-8.075l-.086-.242-.09.242a12.225 12.225 0 01-11.488 8.075h-3.53v-2.708h3.53a9.535 9.535 0 009.464-8.683h4.224a9.542 9.542 0 009.468 8.683z\"\n          data-name=\"Path 45\"\n          transform=\"translate(-1553.692 -560.725)\"\n        ></path>\n      </g>\n      <g data-name=\"Group 33\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1584.466 543.563a6.529 6.529 0 01-.13 1.3 6.457 6.457 0 01-3.406 4.441 6.3 6.3 0 01-2.884.684 6.422 6.422 0 01-6.361-5.546 6.862 6.862 0 01-.06-.874 6.377 6.377 0 01.684-2.883 6.257 6.257 0 01.572-.927l.063-.082a8.1 8.1 0 001.259-2.536 8.2 8.2 0 00.317-2.256 8.054 8.054 0 00-16.108 0 8.035 8.035 0 001.58 4.792l.067.086a6.708 6.708 0 01.568.923 6.373 6.373 0 01.68 2.883 6.251 6.251 0 01-.06.874 6.417 6.417 0 01-9.24 4.862 6.37 6.37 0 01-3.537-5.737 6.385 6.385 0 011.811-4.474l1.916 1.916a3.71 3.71 0 105.674.347.178.178 0 01-.03-.037 10.663 10.663 0 01-1.879-4.09l-.026-.123a10.816 10.816 0 01-.231-2.222c0-.22.007-.452.022-.687a10.762 10.762 0 0120.912-2.831 10.545 10.545 0 01.567 2.831c.015.232.023.463.023.687a10.8 10.8 0 01-.229 2.216l-.026.123a10.841 10.841 0 01-1.89 4.1.225.225 0 00-.022.03 3.709 3.709 0 002.984 5.916 3.711 3.711 0 002.689-6.271l1.916-1.916a6.371 6.371 0 011.815 4.481z\"\n          data-name=\"Path 46\"\n          transform=\"translate(-1548.47 -524.116)\"\n        ></path>\n      </g>\n      <g data-name=\"Group 34\" transform=\"translate(11.63 30.398)\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1582.215 584.631h-2.745a3.714 3.714 0 00-7.245 0h-2.745a6.42 6.42 0 0112.735 0z\"\n          data-name=\"Path 47\"\n          transform=\"translate(-1569.48 -579.029)\"\n        ></path>\n      </g>\n    </g>\n  </svg>\n  )\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useAgreement = (addressSelected = undefined) => {\n  const { portfolioSelected } = useManagerState();\n  const address = addressSelected\n    ? addressSelected.toLowerCase()\n    : portfolioSelected?.address?.toLowerCase();\n\n  return useQuery([\"agreement\", address], () => fetchAgreement(address));\n};\n\nconst fetchAgreement = async (agreementAddress) => {\n  const { agreement } = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          agreement(id: \"${agreementAddress}\") {\n            id\n            name\n            withdrawers\n            maxSlippage\n            managers {\n              id\n            }\n            allowedStrategies\n            customStrategies\n            allowedTokens\n            customTokens\n            portfolio {\n              id\n              depositFee\n              performanceFee\n              feeCollector\n                account {\n                  id\n                  vault {\n                    id\n                  }\n                  balances {\n                    id\n                  }\n                  strategies {\n                    id\n                  }\n                }\n              }\n    \n          }\n        }\n      `\n  );\n  return agreement;\n};\n\nexport default useAgreement;\n","import { Text, AvatarBadge, Avatar, Spinner } from \"@chakra-ui/react\";\nimport { isTheSameAddress, shortenAddress } from \"../../helpers\";\nimport useAgreement from \"../../hooks/useAgreement\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const PortfolioLine = ({\n  address,\n  portfolioSelected,\n  isOpen,\n  size,\n  color,\n}) => {\n  const { colorModalTitle } = useStyles();\n\n  const { data: agreement, isLoading } = useAgreement(address);\n  const match = isTheSameAddress(portfolioSelected, address);\n  return (\n    <>\n      <Avatar\n        boxSize={size ? \"1.75rem\" : \"2rem\"}\n        name={address}\n        bg=\"#3a1010\"\n        src={require(\"../../assets/images/ph_dark.png\").default}\n        mr=\"1\"\n      >\n        {match && isOpen && (\n          <AvatarBadge boxSize=\"0.5em\" border='none' bg=\"green.500\" />\n        )}\n      </Avatar>\n      <Text\n        fontSize=\"1.1rem\"\n        ml={size ? \"1\" : \"2\"}\n        mr={size ? \"1\" : \"2\"}\n        color={color ? color : colorModalTitle}\n      >\n        {address && shortenAddress(address)} {agreement?.name ? \"|\" : null}\n      </Text>\n      <Text\n        color={color ? color : colorModalTitle}\n        fontSize=\"1.1rem\"\n        fontWeight=\"600\"\n      >\n       \n        {agreement?.name ? ` ${agreement?.name}` : null}\n      </Text>\n      {isLoading && (\n          <>\n            | <Spinner size=\"xs\" mx=\"2\" />\n          </>\n        )}\n    </>\n  );\n};\n","import {\n  Flex,\n  useClipboard,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { isTheSameAddress } from \"../helpers\";\nimport {\n  RiFileCopyLine,\n  RiExternalLinkLine,\n  RiDeleteBin7Line,\n} from \"react-icons/ri\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { getExplorerAddressLink, useEthers } from \"@usedapp/core\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { PortfolioLine } from \"./common/PortfolioLine\";\nimport { RoundedIconButton } from \"./common/RoundedIconButton\";\n\nexport default function PortfoliosSelectorItem({\n  address,\n  portfolioSelected,\n  removePortfolioFromList,\n  index,\n  totalPortfolios,\n  disableDelete = false\n}) {\n  const toast = useToast();\n  const { chainId } = useEthers();\n  const { onCopy } = useClipboard(address);\n\n  const { inputBorderStyle, colorModalTitle } = useStyles();\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Portfolio address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    const url = getExplorerAddressLink(address, chainId);\n    window.open(url, \"_blank\");\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const match = isTheSameAddress(portfolioSelected, address);\n\n  return (\n    <>\n      <Flex\n        align=\"center\"\n        px=\"4\"\n        pb=\"1\"\n        rounded=\"sm\"\n        my=\"1\"\n        justify=\"space-between\"\n      >\n        <Flex align=\"center\">\n          <PortfolioLine\n            address={address}\n            isOpen={true}\n            portfolioSelected={portfolioSelected}\n          />\n        </Flex>\n\n        <Flex>\n          {!match && !disableDelete && (\n            <RoundedIconButton\n              onClick={() => removePortfolioFromList(address)}\n              ariaLabel=\"Open\"\n              border={inputBorderStyle}\n              icon={<RiDeleteBin7Line color={colorModalTitle} />}\n            />\n          )}\n           <RoundedIconButton\n            ariaLabel=\"Open\"\n            onClick={() => openAddress()}\n            border={inputBorderStyle}\n            icon={<RiExternalLinkLine color={colorModalTitle} />}\n          />\n          <RoundedIconButton\n            ariaLabel=\"Copy\"\n            onClick={copyAddress}\n            border={inputBorderStyle}\n            icon={<RiFileCopyLine color={colorModalTitle} />}\n          />\n         \n        </Flex>\n      </Flex>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  Flex,\n  Text,\n  FormErrorMessage,\n  Button,\n  Input,\n} from \"@chakra-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport PortfoliosSelectorItem from \"./PortfolioSelectorItem\";\nimport { Redirect } from \"react-router-dom\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useTranslation } from \"react-i18next\";\nexport default function PortfoliosEditor(props) {\n  const { t } = useTranslation();\n  const { colorModalTitle, inputBorderStyle } = useStyles();\n  const [createNew, setCreateNew] = useState(false);\n  const { addPortfolio, removePortfolio } = useManagerDispatch();\n  const managerState = useManagerState();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    console.log(\"adding new portfolio\");\n    addPortfolio({ address: data.porfolioAddress });\n  };\n\n  const removePortfolioFromList = (address) => {\n    console.log(\"removing portfolio\", address);\n    removePortfolio({ address: address });\n  };\n\n  const onCreatePortfolio = () => {\n    setCreateNew(true);\n    props.onClose();\n  };\n\n  if (createNew) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/app/new\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <Flex direction=\"column\" w=\"full\">\n      {managerState.portfolios ? (\n        managerState.portfolios.map((portfolio, i) => {\n          return (\n            <PortfoliosSelectorItem\n              key={portfolio.address}\n              {...portfolio}\n              index={i + 1}\n              removePortfolioFromList={removePortfolioFromList}\n              portfolioSelected={managerState.portfolioSelected?.address}\n              totalPortfolios={managerState?.portfolios.length}\n            />\n          );\n        })\n      ) : (\n        <Text py={6} textAlign=\"center\" color=\"gray.600\">\n          {t(\"emptyPortfolios\")}\n        </Text>\n      )}\n      <Button\n        h=\"4rem\"\n        onClick={() => onCreatePortfolio()}\n        border={inputBorderStyle}\n        variant=\"outline\"\n        my=\"4\"\n        mx=\"4\"\n        size=\"xl\"\n        rounded=\"sm\"\n        color={colorModalTitle}\n      >\n        <Text fontSize=\"1.15rem\">{t(\"createNewPortfolio\")}</Text>\n      </Button>\n\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Flex mb=\"4\" mt=\"2\" mx=\"4\">\n          <Input\n            placeholder={t(\"orAddPortfolio\")}\n            size=\"lg\"\n            borderBottom={inputBorderStyle}\n            mr={1}\n            variant=\"flushed\"\n            rounded=\"sm\"\n            borderColor={inputBorderStyle}\n            color={colorModalTitle}\n            _placeholder={{ color: colorModalTitle }}\n            {...register(\"porfolioAddress\", { required: true })}\n          />\n          <Button\n            h=\"3rem\"\n            w=\"10rem\"\n            ml=\"2\"\n            type=\"submit\"\n            rounded=\"sm\"\n            border={inputBorderStyle}\n            variant=\"ghost\"\n            color={colorModalTitle}\n          >\n            <Text fontSize=\"1.15rem\">{t(\"addPortfolio\")}</Text>\n          </Button>\n        </Flex>\n        {errors.porfolioAddress && (\n          <FormErrorMessage>{t(\"fieldRequired\")}</FormErrorMessage>\n        )}\n      </form>\n    </Flex>\n  );\n}\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure, Flex\n} from \"@chakra-ui/react\";\nimport PortfoliosEditor from \"./PortfoliosEditor\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nfunction EditPortfolioModal({\n  onClick,\n  children,\n  type,\n  isDisabled = false,\n  w,\n}) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const { bgModal, modalBorderStyle, colorModalTitle } = useStyles();\n\n  const onOpenModal = () => {\n    onOpen();\n    // onClick();\n  };\n\n  return (\n    <>\n      <Flex\n        w={w}\n        variant=\"ghost\"\n        onClick={!isDisabled ? onOpenModal : undefined}\n        align=\"center\"\n        rounded=\"0\"\n        m=\"0\"\n        p=\"0\"\n        // isDisabled={isDisabled}\n        _hover={{ bg: \"none\" }}\n        _pressed={{ bg: \"none\" }}\n        _focusVisible={{ bg: \"none\" }}\n      >\n        {children}\n      </Flex>\n      <Modal onClose={onClose} isOpen={isOpen} isCentered size=\"xl\">\n        <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n        <ModalContent bg={bgModal} border={modalBorderStyle} rounded=\"0\">\n          <ModalHeader color={colorModalTitle} px=\"4\">Edit Portfolios</ModalHeader>\n          <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n          <ModalBody p=\"0\">\n            <PortfoliosEditor onClose={onClose} />\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default EditPortfolioModal;\n","import {\n  Flex,\n  Text,\n  Menu,\n  MenuItem,\n  Button,\n  useDisclosure,\n  MenuButton,\n  MenuList,\n  useToast,\n  useClipboard,\n} from \"@chakra-ui/react\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport EditPortfolioModal from \"./EditPortfolio\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { RiExternalLinkLine, RiFileCopyLine } from \"react-icons/ri\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { PortfolioLine } from \"./common/PortfolioLine\";\nimport { useTranslation } from \"react-i18next\";\nimport { isTheSameAddress } from \"../helpers\";\nimport { getExplorerAddressLink, useEthers } from \"@usedapp/core\";\nimport { Hr } from \"./strategy/Hr\";\nimport { RoundedIconButton } from \"./common/RoundedIconButton\";\n\nexport default function PortfoliosDropDown() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgModal, colorBody } = useStyles();\n  const portfolioList = useDisclosure();\n  const toast = useToast();\n  const { chainId } = useEthers();\n  const { portfolioSelected, portfolios } = useManagerState();\n  const { selectPortfolio } = useManagerDispatch();\n  const { onCopy } = useClipboard(portfolioSelected?.address);\n\n  const changePortfolioSelected = (address) => {\n    console.log(\"Selecting new address\", address);\n    selectPortfolio(address);\n  };\n\n  const onPortfolioChange = (address) => {\n    portfolioList.onToggle();\n    changePortfolioSelected(address);\n  };\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Active portfolio copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    window.open(\n      getExplorerAddressLink(portfolioSelected?.address, chainId),\n      \"_blank\"\n    );\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const withPortfolios = portfolios && portfolios.length;\n\n  return (\n    <Flex align=\"center\" pl=\"2\">\n      {withPortfolios ? (\n        <Text\n          fontSize=\"1.25rem\"\n          mr=\"4\"\n          display={{ md: \"inline-flex\", base: \"none\" }}\n        >\n          {t(\"portfolio\")}\n        </Text>\n      ) : null}\n      <Menu>\n        {({ isOpen }) => (\n          <>\n            <MenuButton\n              isActive={isOpen}\n              as={Button}\n              variant=\"ghost\"\n              border={buttonBorderStyle}\n              rounded=\"sm\"\n              px=\"2\"\n              rightIcon={<FaChevronDown />}\n            >\n              <Flex align=\"center\"  >\n                {withPortfolios ? (\n                  <PortfolioLine\n                    color={colorBody}\n                    address={portfolioSelected?.address}\n                    size=\"sm\"\n                  />\n                ) : (\n                  <EmptyPortfolioLine />\n                )}\n              </Flex>\n            </MenuButton>\n            <MenuList rounded=\"md\" bg={bgModal}>\n              {withPortfolios ? (\n                portfolios.map((portfolio) => {\n                  return (\n                    <PortfolioItem\n                      key={portfolio.address}\n                      {...portfolio}\n                      isOpen={isOpen}\n                      portfolioSelected={portfolioSelected.address}\n                      onPortfolioChange={onPortfolioChange}\n                    />\n                  );\n                })\n              ) : (\n                <NoPortfolioLine />\n              )}\n              <Hr mt=\"2\" />\n              <EditPortfolio onClick={() => portfolioList.onToggle()} />\n            </MenuList>\n          </>\n        )}\n      </Menu>\n      {withPortfolios ? (\n        <>\n          <RoundedIconButton\n            ariaLabel=\"Open portfolio on etherscan\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            onClick={openAddress}\n            icon={<RiExternalLinkLine />}\n          />\n          <RoundedIconButton\n            ariaLabel=\"Copy\"\n            onClick={copyAddress}\n            icon={<RiFileCopyLine />}\n          />\n        </>\n      ) : null}\n    </Flex>\n  );\n}\n\nconst NoPortfolioLine = () => {\n  const { t } = useTranslation();\n  const { colorHighlighted } = useStyles();\n\n  return (\n    <Flex color={colorHighlighted}  w=\"full\" h=\"4.5rem\" justify=\"center\" align=\"center\">\n      <Text>{t(\"noPortfolios\")}</Text>\n    </Flex>\n  );\n};\n\nconst PortfolioItem = ({\n  address,\n  onPortfolioChange,\n  portfolioSelected,\n  isOpen,\n}) => {\n  const toast = useToast();\n  const { onCopy } = useClipboard(address);\n  const match = isTheSameAddress(portfolioSelected, address);\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n  return (\n    <MenuItem\n      maxW=\"300px\"\n      key={address}\n      onClick={match ? () => copyAddress() : () => onPortfolioChange(address)}\n    >\n      <PortfolioLine\n        address={address}\n        isOpen={isOpen}\n        portfolioSelected={portfolioSelected}\n        size=\"sm\"\n      />\n    </MenuItem>\n  );\n};\n\nconst EmptyPortfolioLine = () => {\n  const { t } = useTranslation();\n  const { colorBody } = useStyles();\n\n  return (\n    <Flex w=\"full\" justify=\"center\" align=\"center\">\n      <Text fontWeight=\"400\" color={colorBody}>{t(\"emptyPortfolioLine\")}</Text>\n    </Flex>\n  );\n};\n\nconst EditPortfolio = ({ onClick }) => {\n  const { t } = useTranslation();\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <MenuItem onClick={onClick} p=\"0\">\n      <EditPortfolioModal w=\"full\">\n        <Text\n          px=\"4\"\n          pt=\"2\"\n          color={colorModalTitle}\n          fontSize=\"1.15rem\"\n          fontWeight=\"600\"\n        >\n          {t(\"editPortfolio\")}\n        </Text>\n      </EditPortfolioModal>\n    </MenuItem>\n  );\n};\n","import {\n  Box,\n  Drawer,\n  DrawerContent,\n  DrawerOverlay,\n  Flex,\n  IconButton,\n  Text,\n  useColorModeValue,\n  useDisclosure,\n  Alert,\n  AlertIcon,\n  AlertTitle,\n  AlertDescription,\n  Button,\n} from \"@chakra-ui/react\";\nimport { Link as RouterLink, useRouteMatch } from \"react-router-dom\";\nimport { FiMenu } from \"react-icons/fi\";\nimport Logo, { LogoIcon } from \"./Logo\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport Web3Status from \"./Web3/Web3Status\";\nimport HeaderMenu from \"./header/HeaderMenu\";\nimport { useManagerState } from \"../context/managerContext\";\nimport {\n  AbacusIcon,\n  HistoryIcon,\n  MeteorIcon,\n  PlanetIcon,\n  SignatureIcon,\n} from \"../assets/MimicIcons\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport {\n  getDefaultChainID,\n  getDefaultNetworkName,\n  isDevelopment,\n  isProduction,\n} from \"../helpers/enviroment\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport PortfoliosDropDown from \"./PortfoliosDropDown\";\nimport { useEthers } from \"@usedapp/core\";\nimport { useEffect, useState } from \"react\";\nimport { useBlockNumber } from \"../hooks\";\nimport { RiDiscordFill, RiTwitterFill } from \"react-icons/ri\";\nimport { BiCircle } from \"react-icons/bi\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Layout({ children }) {\n  const sidebar = useDisclosure();\n  const { bgModal } = useStyles();\n  const { portfolioSelected } = useManagerState();\n  // buttons disabled if portfolios are empty\n  const isDisabled = !portfolioSelected?.address;\n  return (\n    <>\n      <SidebarContent\n        display={{ base: \"none\", lg: \"unset\" }}\n        disabled={isDisabled}\n      />\n      <Drawer\n        isOpen={sidebar.isOpen}\n        onClose={sidebar.onClose}\n        placement=\"left\"\n      >\n        <DrawerOverlay />\n        <DrawerContent>\n          <SidebarContent w=\"full\" borderRight=\"none\" disabled={isDisabled} />\n        </DrawerContent>\n      </Drawer>\n      <Box ml={{ base: 0, lg: 60 }} transition=\".3s ease\">\n        <LogoIcon display={{ base: \"inline-flex\", md: \"none\" }} />\n        <ControlNetwork />\n\n        <Flex\n          as=\"header\"\n          align=\"center\"\n          justify=\"space-between\"\n          w=\"full\"\n          px=\"4\"\n          h={{ md: SETTINGS.HEADER_H, base: \"6rem\" }}\n        >\n\n          <PortfoliosDropDown />\n          <IconButton\n            aria-label=\"Menu\"\n            display={{ base: \"inline-flex\", md: \"none\" }}\n            onClick={sidebar.onOpen}\n            icon={<FiMenu />}\n            bg={bgModal}\n            size=\"sm\"\n          />\n          <Box />\n          <Flex align=\"center\" display={{ md: \"inline-flex\", base: \"none\" }}>\n            {true && <Web3Status />}\n            <Box w={4} />\n            <HeaderMenu showWeb3={true} />\n          </Flex>\n        </Flex>\n        <Box as=\"main\">{children}</Box>\n      </Box>\n      {!isProduction() && <ReactQueryDevtools />}\n    </>\n  );\n}\n\nconst SidebarContent = (props) => {\n  const { buttonBorderStyle, bg } = useStyles();\n\n  return (\n    <Box\n      as=\"nav\"\n      pos=\"fixed\"\n      top=\"0\"\n      left=\"0\"\n      zIndex=\"sticky\"\n      h=\"full\"\n      pb=\"10\"\n      overflowX=\"hidden\"\n      overflowY=\"auto\"\n      borderRight={buttonBorderStyle}\n      w=\"60\"\n      bg={bg}\n      {...props}\n    >\n      <Flex px=\"4\" py=\"5\" h={SETTINGS.HEADER_H} align=\"center\">\n        <Logo />\n      </Flex>\n      <Flex\n        direction=\"column\"\n        as=\"nav\"\n        fontSize=\"sm\"\n        color=\"gray.600\"\n        aria-label=\"Main Navigation\"\n        px=\"4\"\n      >\n        <Box />\n        <NavItem disabled={props.disabled} to=\"/app/overview\">\n          <Box w=\"1.75rem\">\n            <AbacusIcon />\n          </Box>\n          <Tt>Overview</Tt>\n        </NavItem>\n        <NavItem disabled={props.disabled} to=\"/app/strategies\">\n          <Box w=\"1.75rem\">\n            <PlanetIcon />\n          </Box>\n          <Tt>Strategies</Tt>\n        </NavItem>\n        <NavItem disabled={props.disabled} to=\"/app/agreement\">\n          <Box w=\"1.75rem\">\n            <SignatureIcon />\n          </Box>\n          <Tt>Agreement</Tt>\n        </NavItem>\n        <NavItem disabled=\"true\">\n          <Box w=\"1.75rem\">\n            <HistoryIcon />\n          </Box>\n          <Tt>History</Tt>\n        </NavItem>\n        <NavItem disabled=\"true\">\n          <Box w=\"1.75rem\">\n            <MeteorIcon />\n          </Box>\n          <Flex justify=\"center\" align=\"center\">\n            <Tt>Claim</Tt>\n            <Text ml=\"1\" fontSize=\"0.8rem\" color=\"white\" fontWeight=\"400\">\n              SOON\n            </Text>\n          </Flex>\n        </NavItem>\n      </Flex>\n      <Build />\n    </Box>\n  );\n};\n\nconst NavItem = ({ icon, children, disabled, to, ...rest }) => {\n  const bgHover = useColorModeValue(\"#e2e8f0\", \"#ffffff08\");\n  const hoverColor = useColorModeValue(\"gray.900\", \"gray.200\");\n  const color = useColorModeValue(\"inherit\", disabled ? \"#6b6d6f\" : \"gray.300\");\n  const { colorHighlighted } = useStyles();\n\n  let match = useRouteMatch({\n    path: to,\n    exact: true,\n  });\n\n  return (\n    <Flex\n      as={!disabled ? RouterLink : undefined}\n      to={!disabled ? to : undefined}\n      align=\"center\"\n      px=\"4\"\n      pl=\"6\"\n      py=\"3\"\n      mt=\"2\"\n      cursor={!disabled ? \"pointer\" : \"not-allowed\"}\n      color={match ? colorHighlighted : color}\n      _hover={\n        !disabled && {\n          bg: bgHover,\n          color: hoverColor,\n        }\n      }\n      role=\"group\"\n      bg={match && \"#ffffff08\"}\n      fontWeight=\"400\"\n      transition=\".15s ease\"\n      rounded=\"sm\"\n      {...rest}\n    >\n      {children}\n    </Flex>\n  );\n};\n\nconst Build = () => {\n  const defaultBuild = isDevelopment() ? \"development\" : \"0.0.0.1\";\n  const lastDigits = (value) => {\n    if (!value) return defaultBuild;\n    return value.slice(-7);\n  };\n  const buildInfo = lastDigits(process.env.REACT_APP_VERCEL_GIT_COMMIT_SHA);\n  const blockNumber = useBlockNumber();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (!blockNumber) {\n      return;\n    }\n    setIsLoading(false);\n    const stopLoading = setTimeout(() => setIsLoading(false), 1000);\n    return () => {\n      clearTimeout(stopLoading);\n    };\n  }, [blockNumber]);\n\n  return (\n    <Flex\n      position=\"fixed\"\n      bottom=\"1rem\"\n      align=\"flex-start\"\n      justify=\"center\"\n      direction=\"column\"\n      px=\"8\"\n    >\n      <Flex>\n        <FooItem>\n          <RiTwitterFill size=\"1.25rem\" />\n        </FooItem>\n\n        <FooItem>\n          <RiDiscordFill size=\"1.25rem\" />\n        </FooItem>\n      </Flex>\n\n      <Flex align=\"center\" mb=\"2\">\n        <Text fontWeight=\"500\" fontSize=\"1rem\">\n          Block:\n        </Text>{\" \"}\n        <Text px={2}>{blockNumber}</Text>\n        <BiCircle color={isLoading ? \"yellow\" : \"green\"} />\n      </Flex>\n      <Text fontSize=\"1rem\" color=\"#6b6d6f\">\n        Build {buildInfo}\n      </Text>\n      {/* DEBUG */}\n      <Text fontSize=\"1rem\" color=\"#6b6d6f\">\n        {process.env.REACT_APP_VERCEL_ENV}\n      </Text>\n    </Flex>\n  );\n};\n\nconst Tt = ({ children }) => {\n  return (\n    <Text ml=\"2\" fontSize=\"1.1rem\">\n      {children}\n    </Text>\n  );\n};\n\nconst FooItem = ({ children }) => {\n  return (\n    <Flex mb=\"2\" mr=\"4\">\n      {children}\n    </Flex>\n  );\n};\n\nconst ControlNetwork = () => {\n  const { t } = useTranslation();\n  const { account, chainId } = useEthers();\n  const networkName = getDefaultNetworkName();\n  async function handleClick() {\n    try {\n      await window.ethereum.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{ chainId: \"0x2A\" }],\n      });\n    } catch (switchError) {\n      console.log(\"ControlNetwork switchError\", switchError);\n      // This error code indicates that the chain has not been added to MetaMask.\n      if (switchError.code === 4902) {\n        try {\n          await window.ethereum.request({\n            method: \"wallet_addEthereumChain\",\n            params: [{ chainId: \"0x2A\" }],\n          });\n        } catch (addError) {\n          console.log(\"ControlNetwork addError\", addError);\n        }\n      }\n    }\n  }\n  if (chainId === getDefaultChainID()) {\n    return null;\n  } else {\n    return (\n      account && (\n        <Alert\n          status=\"error\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          textAlign=\"center\"\n        >\n          <AlertIcon />\n          <AlertTitle mr={2}>{t(\"wrongNetwork\")}!</AlertTitle>\n          <AlertDescription>\n            {t(\"switchTo\")}  {\" \"}\n            <Button mx=\"4\" onClick={handleClick}>\n            {t(\"changeTo\")} {networkName}\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )\n    );\n  }\n};\n","import { useCoingeckoTokenPrice } from \"@usedapp/coingecko\";\nimport { amountPerPrice } from \"../helpers\";\n\nexport default function useUSDCPrice(TOKEN_ADDRESS = undefined, amount = 0) {\n  const price = useCoingeckoTokenPrice(TOKEN_ADDRESS, \"usd\");\n  return amountPerPrice(amount, price);\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { EMPTY_TOKEN } from \"../constants\";\nimport { WHITELISTED_TOKENS } from \"../constants/tokens\";\nimport { isTheSameAddress } from \"../helpers\";\n\nexport default function useToken(addressToken) {\n  const { chainId } = useEthers();\n\n  return WHITELISTED_TOKENS.find((t) =>\n    isTheSameAddress(t[chainId], addressToken)\n  ) || EMPTY_TOKEN\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { useMemo } from \"react\";\nimport { WHITELISTED_TOKENS } from \"../constants/tokens\";\n\nexport function useAllTokens() {\n  const { chainId } = useEthers();\n\n  return useMemo(() => {\n    return WHITELISTED_TOKENS.filter((t) => t[chainId]);\n  }, [chainId]);\n}\n","import { ERC20, useContractCalls, useEthers } from \"@usedapp/core\";\nimport { Interface } from \"@ethersproject/abi\";\nimport { useMemo } from \"react\";\nimport { useAllTokens } from \"./useAllTokens\";\nimport { useManagerState } from \"../context/managerContext\";\n\nexport function useTokensBalance() {\n  const { chainId } = useEthers();\n  const { portfolioSelected } = useManagerState();\n\n  const allTokens = useAllTokens();\n\n  const ERC20Interface = new Interface(ERC20.abi);\n\n  const results = useContractCalls(\n    allTokens && portfolioSelected\n      ? allTokens.map((t) => ({\n          abi: ERC20Interface,\n          address: t[chainId],\n          method: \"balanceOf\",\n          args: [portfolioSelected?.address],\n        }))\n      : []\n  );\n  return useMemo(() => {\n    let balances = {};\n    allTokens.forEach(\n      (token, idx) =>\n        (balances[token[chainId]] = results[idx] && results[idx][0])\n    );\n    // console.log('useTokensBalance', balances, results, allTokens.map(t => ({\n    //   address: t[chainId],\n    //   method: 'balanceOf'\n    // })))\n    return balances;\n  }, [results]); // eslint-disable-line\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useVaultBalance = () => {\n  const { portfolioSelected } = useManagerState();\n  const address = portfolioSelected?.address?.toLowerCase();\n\n  return useQuery([\"vaultBalance\", address], () => fetchStrategies(address));\n};\n\nconst fetchStrategies = async (agreementAddress) => {\n  const {account} = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          account (id: \"${agreementAddress}\"){\n            id\n            balances {\n              id\n              token {\n                id\n              } \n              amount\n            }\n          }\n        }\n      `\n  );\n  // console.log(\"useVaultBalance\", account);\n  return account?.balances;\n};\n\nexport default useVaultBalance;\n","import { useTokensBalance } from \"./useTokensBalance\";\nimport { useMemo } from \"react\";\nimport {\n  formatBNUnits,\n  getBalanceByToken,\n  isAddress,\n  sumBN,\n  withBalance,\n} from \"../helpers\";\nimport useVaultBalance from \"./useVaultBalance\";\n\nconst useAvailableBalance = (tk, decimals = 18, amount = \"0\") => {\n  const token = isAddress(tk?.toString());\n  const tokensBalance = useTokensBalance();\n  const { data: vaultBal } = useVaultBalance();\n  const vaultBalance = formatBNUnits(\n    getBalanceByToken(vaultBal, tk?.toString()) || \"0\",\n    decimals\n  );\n\n  const agreementBalance = formatBNUnits(\n    tokensBalance[token && token] || \"0\",\n    decimals\n  );\n\n  const aBalance = withBalance(agreementBalance) ? agreementBalance : 0;\n  const vBalance = withBalance(vaultBalance) ? vaultBalance : 0;\n  const total = sumBN(vBalance || 0, aBalance || 0);\n  return useMemo(() => {\n    // console.log('useAvailableBalance', token, decimals , total, aBalance,vBalance)\n\n    return {\n      totalBalance: total,\n      agreementBalance: aBalance,\n      vaultBalance: vBalance,\n    };\n  }, [tokensBalance, total, amount, token, tk, aBalance, vBalance, vaultBal]); // eslint-disable-line\n};\n\nexport default useAvailableBalance;\n","import {\n  Button,\n  Flex,\n  Image,\n  Text,\n  Input,\n  Spinner,\n  useColorModeValue,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Divider,\n  Box,\n  Link,\n} from \"@chakra-ui/react\";\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport { formatPrice, getAssetImg, greaterThanMax } from \"../helpers\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport useToken from \"../hooks/useToken\";\nimport useWhitelistedTokens from \"../hooks/useWhitelistedToken\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport { DEFAULT_TOKEN } from \"../constants\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\n\nexport default function TokenInput({\n  balance,\n  onChange,\n  isChangeable,\n  hideBalance,\n  hintText,\n  defaultToken = null,\n  defaultAmount,\n  startToken,\n  setOverBalance = undefined,\n  px,\n}) {\n  const { inputBorderStyle, colorSubtitle, colorModalTitle } = useStyles();\n  const { chainId } = useEthers();\n  // get the width size for the menu element\n  const [width, setWidth] = useState(0);\n  const targetRef = useRef();\n\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedToken, setSelectedToken] = useState(DEFAULT_TOKEN[chainId]);\n\n  const tokenToUse = defaultToken ? defaultToken : selectedToken;\n  const token = useToken(tokenToUse);\n  const price = useUSDCPrice(token[ChainId.Mainnet], inputValue);\n\n  // reset form on every load\n  useEffect(() => {\n    setInputValue(defaultAmount);\n    onChange(defaultToken, null, isChangeable);\n  }, []); // eslint-disable-line\n\n  // setting\n  useEffect(() => {\n    setInputValue(defaultAmount);\n    setSelectedToken(startToken);\n  }, [defaultAmount, startToken]);\n\n  // get the width size for the menu element\n  useLayoutEffect(() => {\n    if (targetRef.current) {\n      setWidth(targetRef.current.offsetWidth);\n    }\n  }, []); // eslint-disable-line\n\n  const onUserInput = (event) => {\n    if (defaultAmount) {\n      // dont do anything, amountDefault is set\n      setInputValue(defaultAmount);\n    } else {\n      setInputValue(event?.target?.value);\n      onChange(selectedToken, event?.target?.value, isChangeable);\n    }\n  };\n\n  const onChangeToken = (tk) => {\n    setSelectedToken(tk);\n    onChange(tk, inputValue, isChangeable);\n  };\n\n  const onMaxBtn = (max) => {\n    setInputValue(max);\n    onChange(selectedToken, max, isChangeable);\n  };\n\n  return (\n    <Flex w=\"full\" align=\"flex-start\" direction=\"column\" mb=\"4\" px={px}>\n      <Flex w=\"full\" align=\"flex-end\" ref={targetRef}>\n        {isChangeable ? (\n          <TokenSelection\n            token={token}\n            widthElement={width}\n            onUserChangeToken={onChangeToken}\n            chainId={chainId}\n            generalBalance={balance}\n          />\n        ) : (\n          <Box w=\"4rem\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Box>\n        )}\n        <Flex w=\"full\" align=\"flex-end\" direction=\"column\">\n          <Input\n            type=\"number\"\n            value={inputValue}\n            placeholder=\"0.0\"\n            size=\"lg\"\n            textAlign=\"right\"\n            fontWeight=\"600\"\n            fontSize=\"1.5rem\"\n            minW=\"150px\"\n            w=\"full\"\n            ml=\"2\"\n            rounded=\"0\"\n            _placeholder={{ color: SETTINGS.VIOLET_LIGHT }}\n            onChange={onUserInput}\n            border={inputBorderStyle}\n          />\n        </Flex>\n      </Flex>\n      <Flex w=\"full\" justify=\"space-between\" align=\"flex-end\">\n        <Text\n          color={colorSubtitle}\n          textTransform=\"uppercase\"\n          fontSize=\"0.75rem\"\n          pb=\"2\"\n        >\n          {hintText}\n        </Text>\n\n        <Text py=\"2\" color={colorModalTitle} fontSize=\"1.1rem\" fontWeight=\"500\">\n          ~ $ {formatPrice(price)}\n        </Text>\n      </Flex>\n      <ShowBalance\n        inputValue={inputValue}\n        token={token}\n        chainId={chainId}\n        hideBalance={hideBalance}\n        setOverBalance={setOverBalance}\n        onMaxBtn={onMaxBtn}\n      />\n    </Flex>\n  );\n}\n\nconst TokenSelection = ({\n  token,\n  onUserChangeToken,\n  chainId,\n  generalBalance,\n}) => {\n  const { inputBorderStyle } = useStyles();\n  const bgMenu = useColorModeValue(\"#dcdcdc\", SETTINGS.BG_DARK);\n  const allTokens = useWhitelistedTokens();\n\n  return (\n    <Flex w=\"full\">\n      <Menu closeOnSelect={true} w=\"full\">\n        <Flex w=\"full\">\n          <Box w=\"4rem\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Box>\n          <MenuButton\n            as={Button}\n            rightIcon={<FaChevronDown />}\n            border={inputBorderStyle}\n            minW=\"120px\"\n            h=\"3rem\"\n            rounded=\"0\"\n            bg=\"transparent\"\n          >\n            <Text fontSize=\"1.5rem\" fontWeight=\"600\">\n              {token.name}\n            </Text>\n          </MenuButton>\n        </Flex>\n        <MenuList mt=\"3\" bg={bgMenu} border=\"none\" w=\"300px\" ml={\"-2px\"}>\n          <Flex w=\"full\" h=\"250px\" direction=\"column\" overflowX=\"scroll\">\n            {allTokens &&\n              allTokens.map((tk) => {\n                return (\n                  <TokenItem\n                    balance={generalBalance}\n                    key={tk.name}\n                    token={tk}\n                    onUserChangeToken={onUserChangeToken}\n                    chainId={chainId}\n                  />\n                );\n              })}\n          </Flex>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n};\n\nconst DisplayToken = ({ name, mainnet }) => {\n  // mainnet is intended for img display\n\n  if (!name)\n    return (\n      <Flex direction=\"column\" w=\"3.5rem\" align=\"flex-start\" mr=\"2\">\n        <Spinner size=\"sm\" />\n      </Flex>\n    );\n  return (\n    <Flex direction=\"column\" w=\"3.5rem\" align=\"flex-start\" mr=\"2\">\n      <Image\n        src={getAssetImg(mainnet)}\n        boxSize=\"3rem\"\n        fallbackSrc={require(\"../assets/images/ph_tk.png\").default}\n      />\n    </Flex>\n  );\n};\n\nconst TokenItem = ({ token, chainId, onUserChangeToken, balance }) => {\n  const tokenAddress = token[chainId];\n  const { totalBalance } = useAvailableBalance(token[chainId], token.decimals);\n\n  return (\n    <>\n      <MenuItem\n        onClick={() => onUserChangeToken(tokenAddress)}\n        closeOnSelect=\"true\"\n      >\n        <Flex w=\"full\" py=\"2\" px=\"2\" align=\"center\">\n          <Flex direction=\"column\" w=\"full\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Flex>\n          <Text mr=\"2\">{formatPrice(totalBalance)}</Text>\n          <Text fontSize=\"1.5rem\" fontWeight=\"600\" textAlign=\"right\">\n            {token.name}\n          </Text>\n        </Flex>\n      </MenuItem>\n      <Divider />\n    </>\n  );\n};\n\nconst ShowBalance = ({\n  token,\n  hideBalance,\n  onMaxBtn,\n  inputValue,\n  chainId,\n  setOverBalance,\n}) => {\n  const { colorModalTitle } = useStyles();\n  const { totalBalance } = useAvailableBalance(token[chainId], token.decimals);\n  const gt = !hideBalance && greaterThanMax(inputValue, totalBalance);\n\n  useEffect(() => {\n    if (setOverBalance) {\n      if (gt) {\n        setOverBalance(true);\n      } else {\n        setOverBalance(false);\n      }\n    }\n  }, [gt]); // eslint-disable-line\n\n  if (hideBalance) return null;\n  return (\n    <>\n      <Link onClick={() => onMaxBtn(totalBalance)}>\n        <Text color={colorModalTitle} fontWeight=\"600\">\n          BALANCE: {totalBalance} {token.name}\n        </Text>\n      </Link>\n      {gt && !setOverBalance && (\n        <Text color={SETTINGS.RED}>Not enough balance</Text>\n      )}\n    </>\n  );\n};\n","import { useEthers } from '@usedapp/core';\nimport { WHITELISTED_TOKENS } from '../constants/tokens';\n\nexport default function useWhitelistedTokens() {\n  const { chainId } = useEthers();\n\n  return WHITELISTED_TOKENS.filter(t => t[chainId]);\n}\n","import { Flex, Text, Collapse, Image } from \"@chakra-ui/react\";\nimport { TransactionHashLink } from \"./TransactionHashLink\";\nimport { TRANSACTION_STATUS } from \"../../constants\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const TransactionStatus = ({\n  status,\n  txHash,\n  chainId,\n  doneMessage,\n  doneChildren,\n  errorChildren,\n  errorMessage,\n}) => {\n  const showStatus =\n    status === TRANSACTION_STATUS.LOADING ||\n    status === TRANSACTION_STATUS.MINING ||\n    status === TRANSACTION_STATUS.DONE ||\n    status === TRANSACTION_STATUS.ERROR;\n  return (\n    <Collapse in={showStatus} animateOpacity w=\"100%\">\n      <MimicLoader status={status} />\n      <LoadingView show={status === TRANSACTION_STATUS.LOADING} />\n      <MiningView\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.MINING}\n      />\n      <DoneView\n        doneMessage={doneMessage}\n        doneChildren={doneChildren}\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.DONE}\n      />\n      <ErrorView\n        errorChildren={errorChildren}\n        errorMessage={errorMessage}\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.ERROR}\n      />\n    </Collapse>\n  );\n};\n\nconst LoadingView = ({ show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\" textAlign=\"center\">\n        Please confirm the wallet windows\n      </Text>\n    </Collapse>\n  );\n};\n\nconst MiningView = ({ hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\" textAlign=\"center\">\n          Waiting for Tx confirmation\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n      </Flex>\n    </Collapse>\n  );\n};\n\nconst ErrorView = ({ errorChildren, hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\">\n          Opps, Houston...\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n        {errorChildren && errorChildren}\n      </Flex>\n    </Collapse>\n  );\n};\n\nconst DoneView = ({ doneMessage, doneChildren, hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\">\n          {doneMessage}\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n      </Flex>\n      {doneChildren && doneChildren}\n    </Collapse>\n  );\n};\n\n\nconst TxHash = ({ hash, chainId }) => {\n  if (!hash) return null;\n  return (\n    <Flex align=\"center\" mb=\"10\">\n      <TransactionHashLink hash={hash} chainId={chainId} />\n    </Flex>\n  );\n};\n\nconst MimicLoader = ({ status }) => {\n  const play = status === TRANSACTION_STATUS.MINING;\n  const done = status === TRANSACTION_STATUS.DONE\n  const animate = SETTINGS.MAIN_ANIMATION;\n  const freeze = SETTINGS.FREEZE_ANIMATION;\n  const success = SETTINGS.SUCCESS_ANIMATION;\n  return (\n    <Flex justify=\"center\" h=\"350px\" w=\"full\">\n      <Image src={play ? animate : done ? success : freeze} />\n    </Flex>\n  );\n};\n","import { useCallback, useState } from \"react\";\nimport { usePromiseTransaction } from \"@usedapp/core/dist/esm/src/hooks/usePromiseTransaction\";\nimport { useEthers } from \"@usedapp/core\";\n\nexport function connectContractToSigner(contract, options, library) {\n  if (contract.signer) {\n    return contract;\n  }\n\n  if (options?.signer) {\n    return contract.connect(options.signer);\n  }\n\n  if (library?.getSigner()) {\n    return contract.connect(library.getSigner());\n  }\n\n  throw new TypeError(\"No signer available in contract, options or library\");\n}\n\nexport function useContractBatchFunction(contract, options = {}) {\n  const { library, chainId } = useEthers();\n  const { promiseTransaction, state } = usePromiseTransaction(chainId, options);\n  const [events, setEvents] = useState(undefined);\n\n  const send = useCallback(\n    async (args, args1, ops = {}) => {\n      // console.log(\"useContractBatchFunction args\", args, args1);\n      // console.log(\n      //   \"useContractBatchFunction args map\",\n      //   (await args).map((t) => t.data)\n      // );\n      const contractWithSigner = connectContractToSigner(\n        contract,\n        options,\n        library\n      );\n      const receipt = await promiseTransaction(\n        contractWithSigner.batch(\n          args.map((t) => t.data),\n          args1,\n          ops\n        )\n      );\n      if (receipt?.logs) {\n        console.log(\"useContractBatchFunction logs\", receipt?.logs);\n        setEvents(events);\n      }\n    },\n    // eslint-disable-next-line\n    [contract, options, library, promiseTransaction]\n  );\n\n  return { send, state, events };\n}\n","import { useMemo, useState } from \"react\";\nimport { greaterOrEqualThanMax, greaterThanMax, withBalance } from \"../helpers\";\nimport useAvailableBalance from \"./useAvailableBalance\";\nimport { COMPOSITION_TYPE } from \"../constants\";\n\nconst useTransactionCheckBalance = (tk, decimals = 18, amount = \"0\") => {\n  const [txType, setTxType] = useState(null);\n\n  const { totalBalance, agreementBalance, vaultBalance } = useAvailableBalance(\n    tk,\n    decimals,\n    amount\n  );\n\n  // console.log(\n  //   \"useCheckBalance 1-> \",\n  //   totalBalance,\n  //   agreementBalance,\n  //   vaultBalance,\n  //   amount,\n  //   txType\n  // );\n\n  return useMemo(() => {\n    // 1) vault has enough balance enoughVaultBalance\n    // 2) If vault has balance but not enough and agreement has balance vaultAndAgreementBalance\n    // 3) If vault its empty and Agreement has enough balance enougAgreementBalance\n    // 4) If Agreement has not balance noBalanceAtAll\n    const enoughVaultBalance =\n      withBalance(vaultBalance) && greaterOrEqualThanMax(vaultBalance, amount);\n    const vaultAndAgreementBalance =\n      withBalance(vaultBalance) &&\n      greaterThanMax(amount, vaultBalance) &&\n      withBalance(agreementBalance) &&\n      greaterOrEqualThanMax(totalBalance, amount);\n    const enoughAgreementBalance =\n      withBalance(agreementBalance) &&\n      !withBalance(vaultBalance) &&\n      greaterOrEqualThanMax(agreementBalance, amount);\n    const noBalanceAtAll =\n      withBalance(agreementBalance) && withBalance(vaultBalance);\n\n    // console.log(\n    //   \"useCheckBalance 2-> \",\n    //   enoughVaultBalance,\n    //   vaultAndAgreementBalance,\n    //   enoughAgreementBalance,\n    //   noBalanceAtAll,\n    //   totalBalance,\n    //   agreementBalance,\n    //   vaultBalance,\n    //   amount,\n    //   txType\n    // );\n\n    if (enoughVaultBalance) {\n      setTxType(COMPOSITION_TYPE.ENOUGH_VAULT_BALANCE);\n    } else if (vaultAndAgreementBalance) {\n      setTxType(COMPOSITION_TYPE.VAULT_AND_AGREEMENT_BALANCE);\n    } else if (enoughAgreementBalance) {\n      setTxType(COMPOSITION_TYPE.ENOUGH_AGREEMENT_BALANCE);\n    } else if (noBalanceAtAll) {\n      setTxType(COMPOSITION_TYPE.NO_BALANCE_AT_ALL);\n    }\n\n    return {\n      agreementBalance,\n      vaultBalance,\n      totalBalance,\n      txType,\n    };\n  }, [vaultBalance, amount, agreementBalance, totalBalance, txType]);\n};\n\nexport default useTransactionCheckBalance;\n","import { isAddress } from \".\";\nimport { TRANSACTION_BATCH } from \"../constants\";\n\nexport async function encodeSwapCall(\n  contract,\n  account,\n  tokenIn,\n  tokenOut,\n  amountIn,\n  slippage,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.swap(\n      isAddress(account),\n      isAddress(tokenIn),\n      isAddress(tokenOut),\n      amountIn,\n      slippage,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"encodeSwapCall\", error, \n    account,\n    tokenIn,\n    tokenOut,\n    amountIn,\n    slippage,\n    );\n    return null;\n  }\n}\n\nexport async function encodeDepositCall(contract, account, token, amount) {\n  try {\n    const tx = await contract.populateTransaction.deposit(\n      isAddress(account),\n      isAddress(token),\n      amount\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log( \"error encodeDepositCall\", contract,\n    account, token, amount)\n    return null;\n  }\n}\n\nexport async function encodeWithdrawCall(\n  contract,\n  account,\n  token,\n  amount,\n  recipient\n) {\n  try {\n    const tx = await contract.populateTransaction.withdraw(\n      isAddress(account),\n      isAddress(token),\n      amount,\n      isAddress(recipient)\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error encodeWithdrawCall\", error);\n    return null;\n  }\n}\n\nexport async function encodeJoinCall(\n  contract,\n  account,\n  strategy,\n  amount,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.join(\n      isAddress(account),\n      strategy,\n      amount,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error ncodeJoinCall\", error);\n    return null;\n  }\n}\n\nexport async function encodeExitCall(\n  contract,\n  account,\n  strategy,\n  ratio,\n  emergency,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.exit(\n      isAddress(account),\n      strategy,\n      ratio,\n      emergency,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"encodeExitCall\", error);\n    return null;\n  }\n}\n\nexport async function composeTransactionHelper(composition, contract, tx) {\n  let compTransaction = [];\n  const promises = Promise.all(\n    // eslint-disable-next-line\n    composition.map((comp) => {\n      // console.log(\"composeTransaction \", comp, composition, tx);\n\n      if (comp === TRANSACTION_BATCH.DEPOSIT) {\n        return encodeDepositCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.amount\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.JOIN) {\n        return encodeJoinCall(\n          contract,\n          tx.account,\n          tx.strategy,\n          tx.amount,\n          \"0x99\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.PARTIAL_DEPOSIT) {\n        return encodeDepositCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.onlyAmountToDepositWithoutFee\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.SWAP) {\n        console.log('useCompositionOptions.SWAP')\n        return encodeSwapCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.tokenOut,\n          tx.amount,\n          tx.slippage,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.EXIT) {\n        return encodeExitCall(\n          contract,\n          tx.account,\n          tx.strategy,\n          tx.ratio,\n          false,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      }\n    })\n  ).then(() => {\n    return compTransaction;\n  });\n\n  return promises;\n}\n","import { useEffect, useState } from \"react\";\nimport {\n  COMPOSITION_TYPE,\n  TRANSACTION_TYPE,\n  TRANSACTION_BATCH,\n  TRANSACTION_NAME,\n} from \"../constants\";\nimport { composeTransactionHelper } from \"../helpers/vault\";\nconst useCompositionOptions = (\n  contract,\n  tx,\n  amount = \"0\",\n  same = \"true\",\n  comp_type = \"default\",\n  strategy_type = \"\"\n) => {\n  const [simpleComposition, setSimpleComposition] = useState(true);\n  const [readsOutput, setReadsOutput] = useState([]);\n  const [arrayCall, setArrayCall] = useState([]);\n  const [composition, setComposition] = useState([]);\n  const [transactionName, setTransactionName] = useState(\"\");\n  const [functionName, setFunctionName] = useState(\"\");\n  const [queryPos, setQueryPos] = useState(0); // Query result position\n  const [error, setError] = useState(null);\n\n  // console.log(\n  //   \"useCompositionOptions0\",\n  //   simpleComposition,\n  //   readsOutput,\n  //   arrayCall,\n  //   composition,\n  //   transactionName,\n  //   functionName\n  // );\n\n  // JOIN, EXIT, WITHDRAW needs a diff composition to send() the Tx\n  async function getOptions() {\n    // console.log(\"useCompositionOptions GOGO\", tx?.amount);\n    setSimpleComposition(same);\n    setComposition([]);\n    setReadsOutput([]);\n    setArrayCall([]);\n    setError(null);\n    try {\n      // 1) vault has enough balance enoughVaultBalance\n      if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.ENOUGH_VAULT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.JOIN]\n          : [TRANSACTION_BATCH.SWAP, TRANSACTION_BATCH.JOIN];\n        const ro = same ? [] : [false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.JOIN : TRANSACTION_NAME.SWAP_JOIN;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.strategy, tx.amount, \"0x99\"]); //Simple op\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"join\");\n        setQueryPos(co?.length);\n\n        // 2) If vault has balance but not enough and agreement has balance vaultAndAgreementBalance\n      } else if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.VAULT_AND_AGREEMENT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.PARTIAL_DEPOSIT, TRANSACTION_BATCH.JOIN]\n          : [\n              TRANSACTION_BATCH.PARTIAL_DEPOSIT,\n              TRANSACTION_BATCH.SWAP,\n              TRANSACTION_BATCH.JOIN,\n            ];\n        const ro = same ? [false, true] : [false, false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same\n          ? TRANSACTION_NAME.DEPOSIT_JOIN\n          : TRANSACTION_NAME.DEPOSIT_SWAP_JOIN;\n\n        setSimpleComposition(false); // both cases is a batch operation\n        setComposition(co);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setQueryPos(co?.length);\n\n        // 3) If vault its empty and Agreement has enough balance enougAgreementBalance\n      } else if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.ENOUGH_AGREEMENT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.DEPOSIT, TRANSACTION_BATCH.JOIN]\n          : [\n              TRANSACTION_BATCH.DEPOSIT,\n              TRANSACTION_BATCH.SWAP,\n              TRANSACTION_BATCH.JOIN,\n            ];\n        const ro = same ? [false, true] : [false, true, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same\n          ? TRANSACTION_NAME.DEPOSIT_JOIN\n          : TRANSACTION_NAME.DEPOSIT_SWAP_JOIN;\n\n        setSimpleComposition(false); // both cases is a batch operation\n        setComposition(co);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.EXIT) {\n        const co = same\n          ? [TRANSACTION_BATCH.EXIT]\n          : [TRANSACTION_BATCH.EXIT, TRANSACTION_BATCH.SWAP];\n        const ro = same ? [] : [false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.EXIT : TRANSACTION_NAME.EXIT_SWAP;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.strategy, tx.ratio, false, \"0x\"]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"exit\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.SWAP) {\n        const co = [TRANSACTION_BATCH.SWAP];\n        const ro = [false];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = TRANSACTION_NAME.SWAP;\n\n        setSimpleComposition(true);\n        setComposition([\n          tx.account,\n          tx.tokenIn,\n          tx.tokenOut,\n          tx.amount,\n          tx.slippage,\n          \"0x\",\n        ]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"swap\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.DESPOSIT) {\n        const co = [TRANSACTION_BATCH.DEPOSIT];\n        const ro = [false];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = TRANSACTION_NAME.DEPOSIT_JOIN;\n\n        setSimpleComposition(true);\n        setComposition([tx.account, tx.tokenIn, tx.amount]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"deposit\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.WITHDRAW) {\n        const co = same ? [TRANSACTION_BATCH.WITHDRAW] : [];\n        const ro = same ? [] : [];\n        // const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.WITHDRAW : null;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.tokenOut, tx.amount, tx.recipient]);\n        setReadsOutput(ro);\n        // setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"withdraw\");\n        setQueryPos(co?.length);\n\n        // 4) If Agreement has not balance noBalanceAtAll\n      } else {\n        console.log(\n          `useCompositionOptions  strategy_type: ${strategy_type}, comp_type: ${comp_type}`\n        );\n      }\n    } catch (e) {\n      setError(e);\n    }\n  }\n\n  useEffect(() => {\n    getOptions();\n  }, [amount, same, comp_type, strategy_type]); // eslint-disable-line\n\n  // console.log(\n  //   \"useCompositionOptions ->\",\n  //   tx,\n  //   amount,\n  //   same,\n  //   comp_type,\n  //   strategy_type\n  // );\n\n  return {\n    simpleComposition,\n    readsOutput,\n    arrayCall,\n    composition,\n    transactionName,\n    functionName,\n    error,\n    queryPos,\n  };\n};\n\nexport default useCompositionOptions;\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useState } from \"react\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { connectContractToSigner } from \"./useContractBatchFunction\";\n\nexport function useQueryVault(contract) {\n  const DEFAULT_STATUS = { status: QUERY_STATUS.NONE, error: {}, result: [] };\n  const { library, account } = useEthers();\n  const [state, setState] = useState(DEFAULT_STATUS);\n\n  async function queryContract(\n    contract,\n    functionDataArray,\n    readsOutput,\n    account\n  ) {\n    setState({ ...DEFAULT_STATUS, status: QUERY_STATUS.LOADING });\n\n    await contract\n      .query(\n        functionDataArray.map((t) => t?.data),\n        readsOutput,\n        {\n          // gasLimit: 2500000, //TODO: KOVAN feature\n          from: account,\n        }\n      )\n      .then((res) => {\n        const response = res.map((t) => t);\n        console.log(\"useQueryVault THEN->\", res);\n        setState({ status: QUERY_STATUS.DONE, error: {}, result: res });\n\n        return response;\n      })\n      .catch((res) => {\n        console.log(\"useQueryVault2 ERROR->\", res);\n        setState({ status: QUERY_STATUS.ERROR, error: res, result: [] });\n        return res;\n      });\n    return state;\n  }\n\n  const query = useCallback(\n    async (functionDataArray, readsOutput) => {\n      // console.log(\"useQueryVault data\", functionDataArray, readsOutput);\n      if (!functionDataArray || !readsOutput) return [];\n      const contractWithSigner = connectContractToSigner(contract, {}, library);\n      const result = queryContract(\n        contractWithSigner,\n        functionDataArray,\n        readsOutput,\n        account\n      );\n      return result;\n    },\n    [contract] // eslint-disable-line\n  );\n\n  return { state, query };\n}\n","import { useContractFunction, useEthers } from \"@usedapp/core\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useMemo } from \"react\";\nimport { useContractBatchFunction } from \"./useContractBatchFunction\";\nimport VaultABI from \"../constants/abis/IVault.json\";\nimport { VAULT_ADDRESS } from \"../constants\";\nimport { utils } from \"ethers\";\nimport useTransactionCheckBalance from \"./useTransactionCheckBalance\";\nimport useCompositionOptions from \"./useCompositionOptions\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport { useQueryVault } from \"./useQueryVault\";\nimport { isAddress } from \"../helpers\";\n\nconst useTransactionComposition = (\n  tk,\n  decimals = 18,\n  amount = \"0\",\n  same = true,\n  tx,\n  strategy_type\n) => {\n  const { chainId } = useEthers();\n  const vaultInterface = new utils.Interface(VaultABI);\n  const contract = new Contract(\n    isAddress(VAULT_ADDRESS[chainId]),\n    vaultInterface\n  );\n  const {\n    txType: comp_type,\n    agreementBalance,\n    vaultBalance,\n    totalBalance,\n  } = useTransactionCheckBalance(tk, decimals, amount);\n\n  const intAmount =\n    strategy_type === TRANSACTION_TYPE.EXIT ? tx?.ratio : amount;\n\n  const {\n    simpleComposition,\n    readsOutput,\n    arrayCall,\n    transactionName,\n    functionName,\n    queryPos,\n    composition,\n  } = useCompositionOptions(\n    contract,\n    tx,\n    intAmount,\n    same,\n    comp_type,\n    strategy_type\n  );\n\n  const {\n    state: queryState,\n    query: queryVault,\n    error,\n  } = useQueryVault(contract);\n\n  const { state: stateFunction, send: sendFunction } = useContractFunction(\n    contract,\n    functionName,\n    {\n      transactionName: transactionName,\n    }\n  );\n\n  const { state: stateBatch, send: sendBatch } = useContractBatchFunction(\n    contract,\n    {\n      transactionName: transactionName,\n    }\n  );\n\n  return useMemo(\n    () => {\n      console.log(`\n      ========================================\n      account: ${tx.account}\n      strategy: ${tx.strategy}\n      tokenIn: ${tx.tokenIn}\n      tokenOut: ${tx.tokenOut}\n      same: ${same}\n      amount: ${tx.amount}\n      slippage: ${tx.slippage}\n      onlyAmountToDeposit: ${tx.onlyAmountToDeposit}\n      ----------------------------------------\n      agreementBalance: ${agreementBalance}\n      vaultBalance: ${vaultBalance}\n      totalBalance: ${totalBalance}\n      comp_type: ${comp_type}\n      tk: ${tk}\n      decimals: ${decimals}\n      amount: ${amount}\n      ----------------------------------------\n      queryPos: ${queryPos}\n      queryRes: ${queryState?.result}\n      ----------------------------------------\n      simpleComposition: ${simpleComposition}\n      functionName: ${functionName}\n      transactionName: ${transactionName}\n      arrayCall: ${JSON.stringify(arrayCall)}\n      readsOutput: ${readsOutput}\n      composition: ${composition}\n      ========================================\n    `);\n\n      return {\n        state: simpleComposition ? stateFunction : stateBatch,\n        send: async function onSend() {\n          return simpleComposition\n            ? sendFunction(...composition\n              // , { gasLimit: 3500000, }\n                )\n            : sendBatch(arrayCall, readsOutput\n              // , { gasLimit: 3500000, }\n              );\n        },\n        query: async function onQuery() {\n          return queryVault(arrayCall, readsOutput\n            // , { gasLimit: 3500000, }\n            );\n        },\n        // added the position from array result.\n        queryState: { ...queryState, queryPos: queryPos },\n      };\n    },\n    // eslint-disable-next-line\n    [\n      simpleComposition,\n      stateFunction,\n      stateBatch,\n      sendFunction,\n      tx,\n      sendBatch,\n      arrayCall,\n      readsOutput,\n      queryVault,\n      queryState,\n      error,\n      decimals,\n    ]\n  );\n};\n\nexport default useTransactionComposition;\n","import { ChainId } from '@usedapp/core';\nimport { CDAI_TOKEN, CUSDC_TOKEN, DAI_TOKEN, USDC_TOKEN, USDT_TOKEN, WETH_TOKEN } from '../constants/tokens';\nimport { getAssetImg } from '../helpers';\n\nexport const InstrumentsLogos = {\n  compound: require('./images/COMPOUND.svg').default,\n  curve: require('./images/CURVE.svg').default,\n  balancer: require('./images/BALANCER.svg').default,\n  uniswap: require('./images/UNISWAP.png').default,\n  lido: require('./images/LIDO.svg').default,\n  dai: getAssetImg(DAI_TOKEN[ChainId.Mainnet]),\n  usdc: getAssetImg(USDC_TOKEN[ChainId.Mainnet]),\n  usdt: getAssetImg(USDT_TOKEN[ChainId.Mainnet]),\n  weth: getAssetImg(WETH_TOKEN[ChainId.Mainnet]),\n  cdai: getAssetImg(CDAI_TOKEN[ChainId.Mainnet]),\n  cusdc: getAssetImg(CUSDC_TOKEN[ChainId.Mainnet]),\n};\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isAddress } from \"../helpers\";\n\nexport const fetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\n\nexport default function useMetadata(strategyId) {\n  const { chainId } = useEthers();\n\n  const url = `${process.env.REACT_APP_METADATA_URL}/${chainId}/${isAddress(\n    strategyId\n  )}`;\n  const { data, error } = useSWR(url, fetcher);\n\n  return useMemo(() => {\n    // console.log(\"useMetadata \", data, error);\n    return {\n      data: data,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import {\n  Text,\n  Box,\n  Flex,\n  Heading,\n  SkeletonCircle,\n  SkeletonText,\n  Skeleton,\n  Image,\n} from \"@chakra-ui/react\";\nimport { InstrumentsLogos } from \"../../assets/Instruments\";\nimport { MimicBadge } from \"./MimicBadge\";\nimport { useTranslation } from \"react-i18next\";\nimport useMetadata from \"../../hooks/useMetadata\";\nimport ReactMarkdown from \"react-markdown\";\nimport { ChainId } from \"@usedapp/core\";\nimport { getAssetImg } from \"../../helpers\";\nimport { useMemo } from \"react\";\nimport { useAllTokens } from \"../../hooks/useAllTokens\";\nimport useToken from \"../../hooks/useToken\";\n\nexport const StrategyTitle = ({ stId, tokenIn, hideDescription }) => {\n  const { data: meta, isLoading } = useMetadata(stId);\n  const allTokens = useAllTokens();\n  const tokenInfo = useToken(tokenIn);\n  const description = getCompleteDescription(\n    meta?.description,\n    tokenInfo,\n    allTokens\n  );\n  return (\n    <>\n      {!isLoading ? (\n        <Flex\n          minH={!hideDescription ? \"210px\" : \"0\"}\n          direction=\"column\"\n          h=\"full\"\n        >\n          <Flex\n            direction=\"column\"\n            align=\"flex-start\"\n            h=\"full\"\n            fontSize=\"0.9rem\"\n          >\n            <Flex\n              justify=\"space-between\"\n              color=\"gray\"\n              w=\"full\"\n              py=\"2\"\n              mb=\"4\"\n              bg={`${tokenInfo.bg}26`}\n              px=\"6\"\n            >\n              <Text>BASE TOKEN</Text>\n              <Flex>\n                <Text>{tokenInfo.name}</Text>\n\n                <Image\n                  ml=\"2\"\n                  h=\"23px\"\n                  src={getAssetImg(tokenInfo[ChainId.Mainnet])}\n                />\n              </Flex>\n            </Flex>\n            <Flex px=\"6\" align=\"flex-start\" justify=\"space-between\" w=\"full\">\n              <Flex wrap=\"wrap\" h=\"full\">\n                {meta?.protocols &&\n                  meta?.protocols.map((inst) => {\n                    return (\n                      <Image\n                        key={inst}\n                        mr=\"1\"\n                        mb=\"2\"\n                        h=\"35px\"\n                        src={InstrumentsLogos[inst]}\n                      />\n                    );\n                  })}\n              </Flex>\n              <RenderBadge type={meta?.type} oneColor={hideDescription} />\n            </Flex>\n            <Flex align=\"center\" pt=\"2\" px=\"6\">\n              <Text fontSize=\"1rem\" pr=\"1\">\n                {meta ? `v${meta?.version}` : \"na\"}\n              </Text>\n              <Text\n                textTransform=\"uppercase\"\n                fontSize=\"1.25rem\"\n                fontWeight=\"600\"\n                noOfLines={1}\n              >\n                {meta?.title}\n              </Text>\n            </Flex>\n\n            {!hideDescription && (\n              <>\n                <Flex w=\"full\" align=\"center\" px=\"6\">\n                  <Text fontSize=\"1rem\" noOfLines={4}>\n                    <Flex>\n                      <RenderMarkdown>{description}</RenderMarkdown>\n                    </Flex>\n                  </Text>\n                </Flex>\n              </>\n            )}\n          </Flex>\n        </Flex>\n      ) : (\n        <LoadingSkeleton hideDescription={hideDescription} />\n      )}\n    </>\n  );\n};\n\nconst RenderBadge = ({ type, oneColor }) => {\n  const { t } = useTranslation();\n  const isStable = type?.toUpperCase() === \"STABLE\";\n  return (\n    <MimicBadge schema={oneColor ? \"subtle\" : isStable ? \"light\" : null} mt=\"1\">\n      {isStable ? t(\"stableStrategy\") : t(\"tokenStrategy\")}\n    </MimicBadge>\n  );\n};\n\nconst LoadingSkeleton = ({ hideDescription }) => {\n  return (\n    <Box minH={!hideDescription ? \"210px\" : \"0\"} py=\"6\" px=\"6\">\n      <Flex justify=\"space-between\" w=\"full\" align=\"center\">\n        <Flex>\n          <SkeletonCircle size=\"12\" />\n          <SkeletonCircle size=\"12\" ml=\"-3\" />\n        </Flex>\n        <Skeleton h=\"25px\" w=\"130px\" />\n      </Flex>\n      <Skeleton mt=\"6\">\n        <Heading textTransform=\"uppercase\" fontSize=\"1.5rem\" noOfLines={1}>\n          the hidden title skeleton\n        </Heading>\n      </Skeleton>\n      <SkeletonText mt=\"4\" noOfLines={3} spacing=\"4\" />\n    </Box>\n  );\n};\n\nconst RenderMarkdown = ({ children }) => {\n  return useMemo(() => {\n    return (\n      <ReactMarkdown\n        children={children}\n        components={{\n          img: (props) => (\n            <Image {...props} h=\"12px\" src={props.src} d=\"inline\" />\n          ),\n        }}\n      />\n    );\n  }, [children]);\n};\n\nconst getCompleteDescription = (description, token, allTokens) => {\n  // complex markdown situation\n  const a = description?.replaceAll(\n    \"{{token}}\",\n    `![${token?.name}](${getAssetImg(\n      token[ChainId.Mainnet]\n    )}) ${token?.name?.toUpperCase()}`\n  );\n\n  const b = allTokens?.reduce(\n    (accum, t) =>\n      accum?.replace(\n        `{{${t?.name?.toLowerCase()}}}`,\n        `![${t?.name}](${getAssetImg(\n          t[ChainId.Mainnet]\n        )}) ${t?.name?.toUpperCase()}`\n      ),\n    a\n  );\n\n  return b;\n};\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useStrategies = () => {\n  return useQuery([\"strategies\"], () => fetchStrategies(), {\n    refetchInterval: 10000\n  });\n};\n\nconst fetchStrategies = async () => {\n  const {strategies} = await request(\n    getSubgraphqlURI(),\n    gql`\n    {\n      strategies(first: 15) {\n        id\n        token {\n          id\n        }\n        metadata\n        deposited\n        whitelisted\n        shares\n        vault {\n          id\n        }\n        token {\n          id\n        }\n        metadata\n      }\n    }\n      `\n  );\n  // console.log('useWhitelistedStrategiesxx st',strategies);\n  return strategies;\n};\n\nexport default useStrategies;\n\n// deposited\n","import { Collapse, Text, Flex } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport const ShowFormError = ({ errorMessage }) => {\n  return (\n    <Collapse in={errorMessage} animateOpacity w=\"100%\">\n      <Flex w=\"full\" bg={SETTINGS.ERROR} py=\"1\" justify=\"center\" px=\"4\">\n        <Text fontSize=\"1.1rem\" color={SETTINGS.VIOLET_LIGHTER}>\n          {errorMessage}\n        </Text>\n      </Flex>\n    </Collapse>\n  );\n};\n","import { Flex, Tooltip, Text, Box, Spinner, Collapse } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { bn, formatBNPrice, getHoldings } from \"../../helpers\";\nimport useToken from \"../../hooks/useToken\";\nimport { QUERY_STATUS } from \"../../constants\";\nimport { FaInfoCircle } from \"react-icons/fa\";\nimport { useTranslation } from \"react-i18next\";\nimport { ShowFormError } from \"../ShowFormError\";\n\nconst ShowEstimation = ({\n  address,\n  amount,\n  strategyInfo,\n  queryPos,\n  show,\n}) => {\n  const { t } = useTranslation();\n  const token = useToken(address);\n\n  const futureHoldings = getHoldings(\n    bn(amount[queryPos - 1]),\n    strategyInfo?.shares,\n    strategyInfo?.deposited\n  );\n\n  // console.log(\n  //   \"EstimateBox ShowEstimation\",\n  //   amount,\n  //   queryPos,\n  //   strategyInfo?.shares,\n  //   stMetadata?.subgraph,\n  //   strategyInfo?.id,\n  //   amount[queryPos - 1],\n  //   futureHoldings\n  // );\n\n  return (\n    <Collapse in={show} animateOpacity w=\"full\">\n      <Flex\n        align=\"center\"\n        w=\"full\"\n        justify=\"center\"\n        bg={SETTINGS.SUCCESS}\n        py=\"2\"\n        px=\"4\"\n        color={SETTINGS.VIOLET_LIGHTER}\n      >\n        <Text px={2}>{t(\"portfolioWillGet\")}</Text>\n        <Flex w=\"50%\" align=\"center\" justify=\"flex-end\">\n          <Text px={2} fontWeight=\"bold\" textAlign=\"right\">\n            {\" \"}\n            ~ {formatBNPrice(futureHoldings, token?.decimals)} {token?.name}\n          </Text>\n\n          <Tooltip\n            hasArrow\n            label=\"Final position. Swaps and Fees applied\"\n            bg={SETTINGS.PRIMARY}\n            placement=\"auto\"\n          >\n            <Box>\n              <FaInfoCircle />\n            </Box>\n          </Tooltip>\n        </Flex>\n      </Flex>\n    </Collapse>\n  );\n};\n\nexport const EstimateBox = ({\n  address,\n  queryState,\n  strategyInfo,\n  show,\n  stMetadata,\n}) => {\n  const { t } = useTranslation();\n  // console.log(\"EstimateBox\", queryState, strategyInfo);\n\n  return (\n    <Collapse in={show} w=\"full\">\n      <Flex w=\"full\" justify=\"flex-end\" minH=\"61px\" direction=\"column\">\n        {queryState.status === QUERY_STATUS.LOADING && (\n          <Flex w=\"full\" justify=\"center\">\n            <Spinner my=\"2\" mx=\"4\" />\n          </Flex>\n        )}\n\n        <ShowEstimation\n          show={queryState.status === QUERY_STATUS.DONE}\n          amount={queryState?.result}\n          queryPos={queryState?.queryPos}\n          address={address}\n          strategyInfo={strategyInfo}\n          stMetadata={stMetadata}\n        />\n\n        <ShowFormError\n          errorMessage={\n            queryState.status === QUERY_STATUS.ERROR\n              ? t(\"noEstimation\")\n              : undefined\n          }\n        />\n      </Flex>\n    </Collapse>\n  );\n};\n","import { Button } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nconst StButton = ({ children, w, onClick, isDisabled }) => {\n  const { bgButton } = useStyles();\n\n  \n  return (\n    <Button\n      w={w ? w : \"full\"}\n      h={SETTINGS.BUTTON_H}\n      bg={bgButton}\n      onClick={onClick}\n      isDisabled={isDisabled}\n      rounded=\"md\"\n      fontSize=\"1.5rem\"\n      fontWeight=\"600\"\n      roundedTop=\"0\"\n      color={SETTINGS.VIOLET_LIGHTER}\n      _hover={{ bg: SETTINGS.VIOLET_DARK}}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default StButton;\n","import { Flex, Text } from \"@chakra-ui/react\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { Hr } from \"../strategy/Hr\";\n\nexport const SimpleTitle = ({ children, px, color }) => {\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <Text\n      fontSize=\"1.15rem\"\n      fontWeight=\"300\"\n      px={px}\n      pt={6}\n      pb=\"4\"\n      color={color ? color : colorModalTitle}\n    >\n      {children}\n    </Text>\n  );\n};\n\nexport const BoxContainer = ({ title, children, px }) => {\n  return (\n    <>\n      {title && <SimpleTitle px={px}>{title}</SimpleTitle>}\n      <Flex rounded=\"md\" w=\"full\" pb=\"2\" align=\"center\">\n        {children}\n      </Flex>\n    </>\n  );\n};\n\nexport const LineBox = ({ title, children, px, last }) => {\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <>\n      <Flex rounded=\"md\" w=\"full\" align=\"center\" px=\"4\" pt=\"4\">\n        <Text\n          fontSize=\"1.15rem\"\n          fontWeight=\"300\"\n          px={px}\n          pr=\"2\"\n          color={colorModalTitle}\n        >\n          {title}\n        </Text>\n        {children}\n      </Flex>\n      {!last && <Hr />}\n    </>\n  );\n};\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\n\nexport const IPFSfetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\nexport const getIPFSurl = (metadata) => {\n  const filterHash = (hash) => {\n    if (!hash) return null;\n    const arrayHash = hash?.split(\"ipfs:\");\n    const validHash = arrayHash?.length > 1 ? arrayHash[1] : null;\n    return validHash;\n  };\n\n  const IPFShash = filterHash(metadata);\n  return `https://cloudflare-ipfs.com/ipfs/${IPFShash}`;\n};\n\n// IPFS with hooks\nexport default function useIPFSMetadata(metadata) {\n  const url = getIPFSurl(metadata);\n  const { data, error } = useSWR(url, IPFSfetcher);\n\n  return useMemo(() => {\n    return {\n      data: data,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport {\n  Flex,\n  Text,\n  Image,\n} from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport { useModalOpen, useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useParams } from \"react-router\";\nimport TokenInput from \"../components/TokenInput\";\nimport {\n  formatBNPercentage,\n  getAssetImg,\n  getTokenSymbol,\n  isEmpty,\n  updateLocalTransactionState,\n} from \"../helpers\";\nimport { ChainId, shortenAddress, useEthers } from \"@usedapp/core\";\nimport { constants } from \"ethers\";\nimport useToken from \"../hooks/useToken\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport { useJoinCallback } from \"../hooks/useJoinCallback\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { StrategyTitle } from \"../components/common/StrategyTitle\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { PortfolioLine } from \"../components/common/PortfolioLine\";\nimport { STRATEGY_VIEWS } from \"../constants\";\nimport useStrategyWithoutData from \"../hooks/useStrategyWithoutData\";\nimport { EstimateBox } from \"../components/strategy/EstimateBox\";\nimport StButton from \"../components/StButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\nimport { Hr } from \"../components/strategy/Hr\";\nimport { BoxContainer, LineBox } from \"../components/common/BoxContainer\";\nimport useIPFSMetadata from \"../hooks/useIPFSMetadata\";\n\nexport default function JoinStrategy() {\n  // here we receive the strategy selected\n  const modalParams = useModalParams();\n  // selected strategy\n  let { strategy } = useParams();\n  // swe need the agreements fees\n  const { data: agreement } = useAgreement();\n  // watch account\n  const { account, chainId } = useEthers();\n  const [view, setView] = useState(STRATEGY_VIEWS.START);\n  // address of the selected strategy\n  const [selectedStrategy, setSelectedStrategy] = useState(\n    constants.AddressZero\n  );\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [tokenAmounts, setTokenAmounts] = useState({});\n  // Modal management\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const { data: strategyInfo } = useStrategyWithoutData(selectedStrategy);\n  const { data: stMetadata } = useIPFSMetadata(\n    strategyInfo?.metadata\n  );\n  const { portfolioSelected } = useManagerState();\n  const availableBalance = useAvailableBalance();\n  const tokenSelected = getTokenSymbol(tokenAmounts);\n\n  const {\n    state: stateCallback,\n    callback: joinCallback,\n    queryCallback,\n    queryState,\n  } = useJoinCallback(\n    portfolioSelected.address,\n    selectedStrategy,\n    strategyInfo?.token?.id,\n    tokenSelected.length ? tokenSelected : strategyInfo?.token?.id,\n    tokenAmounts[tokenSelected],\n    agreement?.portfolio?.depositFee\n  );\n\n  // always resetting view\n  useEffect(() => {\n    if (joinStrategyModalOpen) {\n      setView(STRATEGY_VIEWS.START);\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n    }\n  }, [joinStrategyModalOpen]);\n\n  // Enable the feature to use the modal from an URL\n  useEffect(() => {\n    setSelectedStrategy(\n      modalParams ? modalParams : strategy ? strategy : constants.AddressZero\n    );\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  }, [modalParams, strategy]);\n\n  // Control action for the InputElement component.\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    console.log(\"handleInputTokenChange\", token, amount, reset, tokenAmounts);\n    if (token === null && amount === null) {\n      setTokenAmounts({});\n    } else {\n      if (reset) {\n        setTokenAmounts({ [token]: amount });\n      } else {\n        setTokenAmounts({ ...tokenAmounts, [token]: amount })\n      }\n    }\n    if (STRATEGY_VIEWS.ESTIMATE === view) {\n      resetJoinView();\n    }\n  };\n\n  const handleConfirmMessage = () => {\n    if (isEmpty(tokenAmounts)) {\n      setState({\n        errorMessage: \"Please complete token amount\",\n        txHash: undefined,\n      });\n    } else {\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n      queryCallback();\n      setView(STRATEGY_VIEWS.ESTIMATE);\n    }\n  };\n\n  const handleEstimateMessage = () => {\n    if (isEmpty(tokenAmounts)) {\n      setState({\n        errorMessage: \"Please complete token amount\",\n        txHash: undefined,\n      });\n    } else {\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n      setView(STRATEGY_VIEWS.CONFIRM);\n    }\n  };\n\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    updateLocalTransactionState(stateCallback, setState, setView);\n  }, [stateCallback]);\n\n  const resetJoinView = () => {\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  };\n\n  const setOverBalance = (bool) => {\n    setState({\n      errorMessage: bool ? \"Not enough balance\" : undefined,\n      txHash: undefined,\n    });\n  };\n\n  const handleJoin = useCallback(() => {\n    setView(STRATEGY_VIEWS.LOADING);\n    setState({ errorMessage: undefined, txHash: undefined });\n    try {\n      joinCallback();\n    } catch (error) {\n      console.error(\"joinCallback \", error);\n    }\n  }, [account, portfolioSelected, joinCallback, tokenAmounts]); // eslint-disable-line\n\n  function getModalBody() {\n    // START State\n    if (\n      view === STRATEGY_VIEWS.SELECTED ||\n      view === STRATEGY_VIEWS.START ||\n      view === STRATEGY_VIEWS.ESTIMATE\n    ) {\n      return (\n        <Flex direction=\"column\" w=\"full\" pt=\"4\">\n          <StrategyTitle\n            stId={strategyInfo?.id} \n            tokenIn={strategyInfo?.token?.id}\n            px=\"4\"\n          />\n          <Hr />\n\n          <BoxContainer title=\"Select Token Amount\" px=\"4\">\n            <TokenInput\n              startToken={strategyInfo?.token?.id}\n              onChange={handleInputTokenChange}\n              balance={availableBalance}\n              setOverBalance={setOverBalance}\n              isChangeable={true}\n              px=\"4\"\n            />\n          </BoxContainer>\n        </Flex>\n      );\n    }\n\n    // Confirm window\n    if (view === STRATEGY_VIEWS.CONFIRM) {\n      return (\n        <Flex direction=\"column\" w=\"full\" py=\"4\">\n           <StrategyTitle\n            stId={strategyInfo?.id} \n            tokenIn={strategyInfo?.token?.id}\n            px=\"4\"\n          />\n          <Hr />\n\n          <LineBox title=\"Portfolio Selected:\">\n            <PortfolioLine address={portfolioSelected.address} />\n          </LineBox>\n\n          <LineBox title=\"Manager:\">\n            <Text fontWeight=\"600\">{shortenAddress(account)}</Text>\n          </LineBox>\n\n          <LineBox title=\"Deposit Fee:\">\n            <Text fontWeight=\"600\">\n              {formatBNPercentage(agreement?.portfolio?.depositFee)}\n            </Text>\n          </LineBox>\n\n          <LineBox title=\"Amounts:\" last=\"true\">\n            <Flex w=\"full\" direction=\"column\" fontWeight=\"600\">\n              {tokenAmounts &&\n                Object.keys(tokenAmounts).map((token) => {\n                  return (\n                    <ShowTokenAmount\n                      key={token}\n                      address={token}\n                      amount={tokenAmounts[token]}\n                    />\n                  );\n                })}\n            </Flex>\n          </LineBox>\n        </Flex>\n      );\n    }\n  }\n\n  return (\n    <>\n      <Flex w=\"full\" justify=\"center\">\n        <TransactionStatus\n          status={view}\n          txHash={txHash}\n          chainId={chainId}\n          errorMessage={errorMessage}\n          errorChildren={\n            <Flex align=\"center\" textDecor=\"underline\" onClick={resetJoinView}>\n              <Text px=\"2\">Try again</Text>\n            </Flex>\n          }\n          doneMessage={`Transaction success!`}\n          doneChildren={null}\n        />\n        {getModalBody()}\n      </Flex>\n      <ShowFormError errorMessage={errorMessage} />\n      <EstimateBox\n        queryState={queryState}\n        address={strategyInfo?.token?.id}\n        strategyInfo={strategyInfo}\n        stMetadata={stMetadata}\n        show={view === STRATEGY_VIEWS.ESTIMATE}\n      />\n      <Flex w=\"full\">\n        {(view === STRATEGY_VIEWS.SELECTED ||\n          view === STRATEGY_VIEWS.START) && (\n          <StButton\n            onClick={handleConfirmMessage}\n            isDisabled={view === STRATEGY_VIEWS.START}\n          >\n            Estimate Join\n          </StButton>\n        )}\n        {view === STRATEGY_VIEWS.ESTIMATE && (\n          <StButton\n            onClick={handleEstimateMessage}\n            isDisabled={view === STRATEGY_VIEWS.START}\n          >\n            Join\n          </StButton>\n        )}\n        {view === STRATEGY_VIEWS.CONFIRM && (\n          <StButton onClick={handleJoin}>Confirm Join</StButton>\n        )}\n      </Flex>\n    </>\n  );\n}\n\nconst ShowTokenAmount = ({ address, amount }) => {\n  const token = useToken(address);\n  return (\n    <Flex align=\"center\">\n      <Image src={getAssetImg(token[ChainId.Mainnet])} boxSize=\"1.5rem\" />\n      <Text px={2}>{amount}</Text>\n      <Text>{token?.name}</Text>\n    </Flex>\n  );\n};\n","import { isTheSameAddress } from \"../helpers\";\nimport useStrategies from \"./useStrategies\";\n\nexport default function useStrategyWithoutData(strategyAddress) {\n  const { data: st, isLoading } = useStrategies();\n  return {\n    data: st?.find((st) => isTheSameAddress(st.id, strategyAddress)),\n    isLoading: isLoading,\n  };\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport useToken from \"./useToken\";\nimport {\n  getAmountToDeposit,\n  greaterOrEqualThanMax,\n  isTheSameAddress,\n  mulBN,\n  parseBN,\n  subBN,\n  sumBN,\n} from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport useAvailableBalance from \"./useAvailableBalance\";\nimport { useApplicationState } from \"../context/appContext\";\n\n// returns a function that will execute a join in strategy,\nexport function useJoinCallback(\n  portfolioAddress,\n  strategy = \"\", //strategy address\n  tokenStrategy = \"\", //strategy address\n  token = \"\",\n  amount = \"0\",\n  depositFee = \"0\"\n) {\n  const { account, chainId, library } = useEthers();\n\n  const tokenInfo = useToken(token); // token info to get decimals\n  const same = isTheSameAddress(tokenStrategy, token);\n  const { vaultBalance } = useAvailableBalance(token, tokenInfo.decimals);\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n  const totalVaultBalance = parseBN(vaultBalance, tokenInfo.decimals);\n  // const totalAgreementBalance = parseBN(agreementBalance, tokenInfo.decimals);\n  // depositedAmountWithFee is the amount deposited with the fee applied\n  const depositedAmountWithFee = getAmountToDeposit(\n    txAmount,\n    totalVaultBalance,\n    depositFee.toString()\n  );\n  // dont use more than available\n  // const maxAmountAvailableToDeposit = greaterOrEqualThanMax(depositedAmountWithFee, totalAgreementBalance) ? totalAgreementBalance : depositedAmountWithFee\n  const vaultAndDepositedAmountWithFee = sumBN(\n    totalVaultBalance,\n    depositedAmountWithFee\n  );\n  const maxAmountAvailableToJoin = greaterOrEqualThanMax(\n    vaultAndDepositedAmountWithFee,\n    txAmount\n  )\n    ? txAmount\n    : vaultAndDepositedAmountWithFee;\n\n  const { slippage } = useApplicationState();\n\n  const tx = {\n    account: portfolioAddress,\n    strategy: strategy.toString(),\n    tokenIn: token.toString(),\n    tokenOut: tokenStrategy.toString(),\n    slippage: mulBN(slippage, \"1e18\"),\n    // onlyAmountToDepositWithoutFee is the rest needed to complete a join\n    onlyAmountToDepositWithoutFee: subBN(txAmount, totalVaultBalance),\n    amount: maxAmountAvailableToJoin,\n  };\n\n  // console.log('useJoinCallback 1 txAmount', formatBNPrice(txAmount, tokenInfo.decimals))\n  // console.log('useJoinCallback 2 totalVaultBalance', formatBNPrice(totalVaultBalance, tokenInfo.decimals))\n  // console.log('useJoinCallback 3 depositFee', formatBNPrice(depositFee))\n  // console.log('useJoinCallback 4 depositedAmountWithFee', formatBNPrice(depositedAmountWithFee, tokenInfo.decimals))\n  // console.log('useJoinCallback 5', formatBNPrice(vaultAndDepositedAmountWithFee, tokenInfo.decimals), formatBNPrice(txAmount, tokenInfo.decimals), formatBNPrice(maxAmountAvailableToJoin, tokenInfo.decimals))\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    tokenInfo.decimals,\n    amount,\n    same,\n    tx,\n    TRANSACTION_TYPE.JOIN\n  );\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onJoin() {\n        return send();\n      },\n    };\n  }, [strategy, library, account, chainId, amount, state, tx, send]); // eslint-disable-line\n}\n","import { Button, Flex, useColorModeValue, Text } from \"@chakra-ui/react\";\nimport { shortenAddress, useEthers } from \"@usedapp/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport Identicon from \"../Identicon\";\n\nexport function ManagerAddress({ py, mb }) {\n  const { t } = useTranslation();\n\n  const borderStyle = useColorModeValue(\n    SETTINGS.BORDER.LIGHTER,\n    `1px solid ${SETTINGS.PRIMARY}`\n  );\n\n  const { account } = useEthers();\n\n  return (\n    <Button\n      px=\"0.7rem\"\n      size=\"lg\"\n      fontSize=\"lg\"\n      variant=\"ghost\"\n      color=\"current\"\n      border={borderStyle}\n      rounded=\"0\"\n      py={py ? py : \"1rem\"}\n      mb={mb ? mb : undefined}\n    >\n      <Flex align=\"center\">\n        <Flex align=\"center\">\n          <Text mr={2} fontSize=\"1rem\" fontWeight=\"400\">\n            {account ? shortenAddress(account) : t(\"noAddress\")}\n          </Text>\n          <Identicon />\n        </Flex>\n      </Flex>\n    </Button>\n  );\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\nimport { REFETCH_INTERVAL_ACCOUNT } from \"../constants\";\n\nconst useStrategiesFromAccount = () => {\n  const { portfolioSelected } = useManagerState();\n  const address = portfolioSelected?.address?.toLowerCase();\n\n  return useQuery(\n    [\"strategyData\", address], \n  () => fetchStrategiesFromAccount(address),\n  {\n    // Refetch the data every second\n    refetchInterval: REFETCH_INTERVAL_ACCOUNT,\n  }\n  );\n};\n\nconst fetchStrategiesFromAccount = async (agreementAddress) => {\n  const { account } = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          account (id: \"${agreementAddress}\"){\n           id\n           balances {\n             id\n             token {\n               id\n             } \n             amount\n           }\n           strategies {\n             id\n             shares\n             invested\n             account {\n               id\n             }\n             strategy {\n              id\n              deposited\n              token {\n                id\n              }\n              metadata\n              whitelisted\n              shares\n            }\n           }\n          }\n        }\n      `\n  );\n  return account;\n};\n\nexport default useStrategiesFromAccount;\n","import { isTheSameAddress } from \"../helpers\";\nimport useStrategiesFromAccount from \"./useStrategiesFromAccount\";\n\nexport default function useStrategyAgreementHoldings(strategyAddress) {\n  const { data: accountData, isLoading } = useStrategiesFromAccount();\n\n  return {\n    data: accountData?.strategies?.find((st) =>\n      isTheSameAddress(st.strategy.id, strategyAddress)\n    ),\n    isLoading: isLoading,\n  };\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { QUERY_STATUS } from \"../constants\";\nimport {\n  formatBNPrice,\n  getHoldings,\n  isTheSameAddress,\n  mulBN,\n} from \"../helpers\";\nimport useToken from \"./useToken\";\n\nconst useExitEstimation = (\n  tokenIn,\n  strategyAccountData,\n  ratio,\n  tokenOut = undefined,\n  queryState,\n  queryCallback\n) => {\n  const [amountOut, setAmountOut] = useState(\"0\");\n  const tokenInInfo = useToken(tokenIn);\n  const tokenOutInfo = useToken(tokenOut);\n\n  const totalHoldings = getHoldings(\n    strategyAccountData?.shares,\n    strategyAccountData?.strategy?.shares,\n    strategyAccountData?.strategy?.deposited\n  );\n\n  const amountIn = formatBNPrice(\n    mulBN(totalHoldings, ratio),\n    tokenInInfo?.decimals\n  );\n  const same =\n    tokenOut === undefined ? true : isTheSameAddress(tokenIn, tokenOut);\n  useEffect(() => {\n    if (queryState.status === QUERY_STATUS.DONE) {\n      const qPosition = queryState.queryPos - 1;\n      const qResult = queryState.result;\n\n      setAmountOut(qResult[qPosition]);\n\n      // force this rare case\n      if (qResult[qPosition] === undefined) {\n        queryCallback();\n      }\n    }\n  }, [queryState]); // eslint-disable-line\n\n  return useMemo(() => {\n    return {\n      same,\n      amountIn,\n      tokenIn,\n      tokenOut,\n      amountOut: formatBNPrice(amountOut, tokenOutInfo?.decimals),\n      isLoading: queryState.status === QUERY_STATUS.LOADING,\n    };\n  }, [same, amountIn, tokenIn, tokenOut, queryState, amountOut]); // eslint-disable-line\n};\n\nexport default useExitEstimation;\n","import {\n  Flex,\n  Text,\n  Slider,\n  SliderTrack,\n  SliderFilledTrack,\n  SliderThumb,\n  Box,\n  Spinner,\n} from \"@chakra-ui/react\";\nimport { useEffect } from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { mulBN } from \"../helpers\";\nimport TokenInput from \"./TokenInput\";\nimport { FiArrowDown } from \"react-icons/fi\";\nimport { SimpleTitle } from \"./common/BoxContainer\";\nimport { StrategyTitle } from \"./common/StrategyTitle\";\nimport { LogoIcon } from \"../assets/MimicIcons\";\nimport useExitEstimation from \"../hooks/useExitEstimation\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { useTranslation } from \"react-i18next\";\nimport { Hr } from \"./strategy/Hr\";\nimport { ShowFormError } from \"./ShowFormError\";\n\nexport default function ExitOptions({\n  strategyAccountData,\n  handleInputTokenChange,\n  tokenAmounts,\n  ratio,\n  setRatio,\n  queryCallback,\n  queryState,\n}) {\n  const { t } = useTranslation();\n\n  const sliderChange = (val) => {\n    setRatio(val);\n  };\n\n  const withdrawToken = strategyAccountData?.strategy?.token?.id;\n\n  const { same, amountIn, amountOut, isLoading } = useExitEstimation(\n    withdrawToken,\n    strategyAccountData,\n    ratio,\n    tokenAmounts?.token,\n    queryState,\n    queryCallback\n  );\n  // console.log(\"useExitCallback 44\", amountIn, amountOut);\n\n  useEffect(() => {\n    queryCallback();\n  }, [same]); // eslint-disable-line\n\n  return (\n    <Flex direction=\"column\" w=\"full\">\n      <StrategyTitle\n        stId={strategyAccountData?.strategy?.id} \n        tokenIn={strategyAccountData?.strategy?.token?.id}\n        px=\"4\"\n        pt=\"4\"\n      />\n      <Hr />\n      <Flex justify=\"space-between\" align=\"center\" px=\"4\">\n        <SimpleTitle>{t(\"amountToWithdraw\")}</SimpleTitle>\n        <Text fontWeight=\"600\">{mulBN(ratio, 100)}%</Text>\n      </Flex>\n      <Flex w=\"full\" px=\"4\" mb=\"6\" mt=\"2\">\n        <SliderAmount onChange={sliderChange} queryCallback={queryCallback} />\n      </Flex>\n      <Flex direction=\"column\" align=\"center\" w=\"full\" p=\"4\">\n        <TokenInput\n          defaultToken={withdrawToken}\n          defaultAmount={amountIn}\n          address={strategyAccountData?.strategy?.token?.id}\n          onChange={handleInputTokenChange}\n          isChangeable={same}\n          hideBalance={true}\n          hintText=\"Withdraw\"\n        />\n        {!same && (\n          <>\n            <Flex w=\"full\" justify=\"center\" pb=\"8\">\n              <FiArrowDown fontSize=\"1.25rem\" />\n            </Flex>\n\n            <TokenInput\n              defaultAmount={amountOut}\n              address={strategyAccountData?.strategy?.token?.id}\n              onChange={handleInputTokenChange}\n              startToken={tokenAmounts.token}\n              isChangeable={true}\n              hideBalance={true}\n              hintText=\"Receive\"\n              isLoading={isLoading}\n            />\n          </>\n        )}\n      </Flex>\n      {!same && (\n        <Flex w=\"full\" justify=\"center\" direction=\"column\">\n          <ShowFormError\n            errorMessage={\n              queryState.status === QUERY_STATUS.ERROR\n                ? t(\"noEstimation\")\n                : undefined\n            }\n          />\n\n          {isLoading && (\n            <Flex w=\"full\" justify=\"center\">\n              <Spinner my=\"2\" mx=\"4\" />\n            </Flex>\n          )}\n        </Flex>\n      )}\n    </Flex>\n  );\n}\n\nconst SliderAmount = ({ onChange, queryCallback }) => {\n  return (\n    <Slider\n      aria-label=\"slider-ex-4\"\n      defaultValue={1}\n      min={0}\n      max={1}\n      step={0.001}\n      mt=\"2\"\n      onChangeEnd={() => queryCallback()}\n      onChange={(v) => onChange(v)}\n    >\n      <SliderTrack bg={SETTINGS.VIOLET_LIGHTER}>\n        <SliderFilledTrack bg={SETTINGS.VIOLET_LIGHT} />\n      </SliderTrack>\n      <SliderThumb boxSize=\"6\" bg={SETTINGS.VIOLET_DARK}>\n        <Box color={SETTINGS.VIOLET_LIGHTER} as={LogoIcon} p=\"2px\" />\n      </SliderThumb>\n    </Slider>\n  );\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Flex, Text, Image } from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useModalOpen,\n  useModalParams,\n} from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useParams } from \"react-router\";\nimport {\n  formatBNPercentage,\n  getAssetImg,\n  shortenAddress,\n  updateLocalTransactionState,\n} from \"../helpers\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport { constants } from \"ethers\";\nimport useToken from \"../hooks/useToken\";\nimport { ManagerAddress } from \"../components/Web3/ManagerAddress\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport useStrategyAgreementHoldings from \"../hooks/useStrategyAgreementHoldings\";\nimport ExitOptions from \"../components/ExitOptions\";\nimport { BoxContainer, SimpleTitle } from \"../components/common/BoxContainer\";\nimport { STRATEGY_VIEWS } from \"../constants\";\nimport { useExitCallback } from \"../hooks/useExitCallback\";\nimport StButton from \"../components/StButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\n\nexport default function ExitStrategy() {\n  // here we receive the strategy selected\n  const modalParams = useModalParams();\n  // selected strategy\n  let { strategy } = useParams();\n  // swe need the agreements fees\n  const { data: agreement } = useAgreement();\n\n  // watch account\n  const { account, chainId } = useEthers();\n\n  const [view, setView] = useState(STRATEGY_VIEWS.START);\n  // address of the selected strategy\n  const [selectedStrategy, setSelectedStrategy] = useState(\n    constants.AddressZero\n  );\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [ratio, setRatio] = useState(1);\n  const [tokenAmounts, setTokenAmounts] = useState({ token: \"\", amount: null });\n\n  const { data: strategyAccountData } = useStrategyAgreementHoldings(selectedStrategy);\n\n  // Modal management\n  const exitStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.EXIT_FROM_STRATEGY\n  );\n\n  const { portfolioSelected } = useManagerState();\n\n  const {\n    state: stateCallback,\n    callback: exitCallback,\n    queryCallback,\n    queryState,\n  } = useExitCallback(\n    portfolioSelected.address,\n    selectedStrategy,\n    strategyAccountData?.strategy?.token?.id,\n    tokenAmounts?.token,\n    ratio\n  );\n\n  useEffect(() => {\n    console.log(\"Setting a default token\");\n    const withdrawToken = strategyAccountData?.strategy?.token?.id;\n    setTokenAmounts({ token: withdrawToken });\n  }, [strategyAccountData]);\n\n  // always resetting view\n  useEffect(() => {\n    if (exitStrategyModalOpen) {\n      setView(STRATEGY_VIEWS.START);\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n    }\n  }, [exitStrategyModalOpen]);\n\n  // Enable the feature to use the modal from an URL\n  useEffect(() => {\n    setSelectedStrategy(\n      modalParams ? modalParams : strategy ? strategy : constants.AddressZero\n    );\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  }, [modalParams, strategy]);\n\n  // Control action for the InputElement component.\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    if (token !== null) {\n      setTokenAmounts({ token: token, amount: amount });\n    }\n  };\n\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    updateLocalTransactionState(stateCallback, setState, setView);\n  }, [stateCallback]);\n\n  const resetJoinView = () => {\n    setView(STRATEGY_VIEWS.START);\n  };\n\n  const handleJoin = useCallback(() => {\n    setView(STRATEGY_VIEWS.LOADING);\n    setState({ errorMessage: undefined, txHash: undefined });\n    exitCallback();\n  }, [account, portfolioSelected, exitCallback, tokenAmounts]); // eslint-disable-line\n\n  function getModalBody() {\n    // START State\n    if (view === STRATEGY_VIEWS.SELECTED || view === STRATEGY_VIEWS.START) {\n      return (\n        <ExitOptions\n          strategyAccountData={strategyAccountData}\n          handleInputTokenChange={handleInputTokenChange}\n          tokenAmounts={tokenAmounts}\n          ratio={ratio}\n          setRatio={setRatio}\n          queryCallback={queryCallback}\n          queryState={queryState}\n        />\n      );\n    }\n\n    // Confirm window\n    if (view === STRATEGY_VIEWS.CONFIRM) {\n      return (\n        <Flex direction=\"column\" w=\"full\">\n          <BoxContainer title=\"Portfolio Selected:\">\n            <Text>\n              {shortenAddress(portfolioSelected?.address)} | {agreement?.name}\n            </Text>\n          </BoxContainer>\n\n          <SimpleTitle>Manager:</SimpleTitle>\n          <ManagerAddress py=\"6\" mb=\"4\" />\n\n          <BoxContainer title=\"Deposit Fee:\">\n            <Text>{formatBNPercentage(agreement?.portfolio?.depositFee)}</Text>\n          </BoxContainer>\n\n          <BoxContainer title=\"Join Strategy:\">\n            <Text>title</Text>\n          </BoxContainer>\n\n          <BoxContainer title=\"Amounts:\">\n            <Flex w=\"full\" direction=\"column\">\n              {tokenAmounts &&\n                Object.keys(tokenAmounts).map((token) => {\n                  return (\n                    <ShowTokenAmount\n                      key={token}\n                      address={token}\n                      amount={tokenAmounts[token]}\n                    />\n                  );\n                })}\n            </Flex>\n          </BoxContainer>\n        </Flex>\n      );\n    }\n  }\n\n  return (\n    <>\n      <Flex w=\"full\" justify=\"center\" >\n        <TransactionStatus\n          status={view}\n          txHash={txHash}\n          chainId={chainId}\n          errorMessage={errorMessage}\n          errorChildren={\n            <Flex align=\"center\" textDecor=\"underline\" onClick={resetJoinView}>\n              <Text px=\"2\">Try again</Text>\n            </Flex>\n          }\n          doneMessage={`Transaction success!`}\n          doneChildren={null}\n        />\n        {getModalBody()}\n      </Flex>\n      <ShowFormError errorMessage={errorMessage} />\n      <Flex w=\"full\">\n        {(view === STRATEGY_VIEWS.SELECTED || view === STRATEGY_VIEWS.START) && (\n          <StButton\n            onClick={handleJoin}\n            isDisabled={view === STRATEGY_VIEWS.START}\n          >\n            Exit Strategy\n          </StButton>\n        )}\n\n        {view === STRATEGY_VIEWS.CONFIRM && (\n          <StButton onClick={handleJoin}>Confirm Exit</StButton>\n        )}\n      </Flex>\n    </>\n  );\n}\n\nconst ShowTokenAmount = ({ address, amount }) => {\n  const token = useToken(address);\n  return (\n    <Flex align=\"center\">\n      <Image src={getAssetImg(token[ChainId.Mainnet])} boxSize=\"1rem\" />\n      <Text px={2}>{amount}</Text>\n      <Text>{token?.name}</Text>\n    </Flex>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isTheSameAddress, mulBN } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport { useApplicationState } from \"../context/appContext\";\n\nexport function useExitCallback(\n  portfolioAddress,\n  strategy = \"\", //strategy address\n  tokenStrategy = \"\", //strategy address\n  token = \"\",\n  ratio = \"0\"\n) {\n  const { chainId } = useEthers();\n  const same = isTheSameAddress(tokenStrategy, token);\n  const { slippage } = useApplicationState();\n\n  const tx = {\n    account: portfolioAddress,\n    strategy: strategy.toString(),\n    tokenOut: token?.toString(),\n    amount: mulBN(\"0\", \"1e18\"),\n    tokenIn: tokenStrategy?.toString(),\n    ratio: mulBN(ratio.toString(), \"1e18\"),\n    slippage: mulBN(slippage, \"1e18\"),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    \"18\", // no need for decimals\n    0, // no amount on exit\n    same,\n    tx,\n    TRANSACTION_TYPE.EXIT\n  );\n\n  // console.log(\n  //   \"useExitCallback 11\",\n  //   portfolioAddress,\n  //   strategy ,\n  //   tokenStrategy,\n  //   token ,\n  //   ratio ,\n  // );\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n    console.log(\"useExitCallback\", same, queryState);\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onExit() {\n        return send();\n      },\n    };\n  }, [strategy, chainId, state, tx, send, same]); // eslint-disable-line\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Flex, Select, Spinner } from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport { useModalOpen, useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport TokenInput from \"../components/TokenInput\";\nimport useToken from \"../hooks/useToken\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { useWithdrawCallback } from \"../hooks/useWithdrawCallback\";\nimport { shortenAddress, useEthers } from \"@usedapp/core\";\nimport { isAddress, updateLocalTransactionState } from \"../helpers\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { BoxContainer } from \"../components/common/BoxContainer\";\nimport StButton from \"../components/StButton\";\nimport { useTranslation } from \"react-i18next\";\n\nconst WITHDRAW_VIEWS = {\n  START: \"start\",\n  SELECTED: \"selected\", // once we selected an strategy\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n};\n\nexport default function WithdrawFromVault() {\n  const { t } = useTranslation();\n  const { inputBorderStyle } = useStyles();\n  const { chainId } = useEthers();\n  // eslint-disable-next-line\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [tokenAmounts, setTokenAmounts] = useState({});\n  const [view, setView] = useState(WITHDRAW_VIEWS.START);\n  const [selectedWallet, setSelectedWallet] = useState();\n  const [overBalance, setOverBalance] = useState(false);\n  const withdraFromVaultModalOpen = useModalOpen(\n    APPLICATION_MODAL.WITHDRAW_FROM_VAULT\n  );\n  // here we receive the asset selected\n  const modalParams = useModalParams();\n  // eslint-disable-next-line\n  const [pendingError, setPendingError] = useState();\n  const token = useToken(modalParams);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n  const { data: agreement, isLoading } = useAgreement();\n  const availableBalance = useAvailableBalance(token, token?.decimals);\n\n  const { state: stateCallback, callback: withdrawCallback } =\n    useWithdrawCallback(\n      portfolioSelected.address,\n      token[chainId],\n      tokenAmounts?.amount,\n      selectedWallet\n    );\n\n  const handleWithdraw = useCallback(() => {\n    setView(WITHDRAW_VIEWS.LOADING);\n    // setState({ errorMessage: undefined, txHash: undefined });\n    withdrawCallback();\n  }, [portfolioSelected, withdrawCallback, tokenAmounts]); // eslint-disable-line\n\n  // resetting view\n  useEffect(() => {\n    if (withdraFromVaultModalOpen) {\n      setPendingError(false);\n      setView(WITHDRAW_VIEWS.START);\n    }\n  }, [withdraFromVaultModalOpen]);\n\n  const handleInputSelect = (event) => {\n    setSelectedWallet(event.target.value);\n    setView(WITHDRAW_VIEWS.SELECTED);\n  };\n\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    if (token === null && amount === null) {\n      setTokenAmounts({});\n    } else {\n      setTokenAmounts({ token: token, amount: amount });\n    }\n  };\n\n  useEffect(() => {\n    // console.log(\"stateCallback\", stateCallback);\n    updateLocalTransactionState(stateCallback, setState, setView);\n  }, [stateCallback]);\n\n  return (\n    <>\n      <Flex direction=\"column\" w=\"full\" px=\"4\">\n        <BoxContainer title=\"Select Owner wallet to withdraw\">\n          {isLoading ? (\n            <Spinner />\n          ) : (\n            <Select\n              placeholder=\"Select Address to Withdraw\"\n              size=\"lg\"\n              w=\"full\"\n              rounded=\"0\"\n              border={inputBorderStyle}\n              onChange={handleInputSelect}\n            >\n              {portfolioSelected &&\n                agreement?.withdrawers &&\n                agreement?.withdrawers.map((wl, i) => {\n                  return (\n                    <option key={`${wl}-${i}`} value={isAddress(wl)}>\n                      Wallet {i + 1}: {shortenAddress(wl)}\n                    </option>\n                  );\n                })}\n            </Select>\n          )}\n        </BoxContainer>\n\n        <BoxContainer title=\"Select Withdraw Amount\">\n          <Flex direction=\"column\" w=\"full\" rounded=\"lg\" justify=\"flex-start\">\n            {modalParams && (\n              <TokenInput\n                startToken={modalParams}\n                onChange={handleInputTokenChange}\n                balance={availableBalance}\n                setOverBalance={setOverBalance}\n              />\n            )}\n          </Flex>\n        </BoxContainer>\n      </Flex>\n      <StButton\n        bg={SETTINGS.VIOLET_LIGHT}\n        color={SETTINGS.VIOLET_LIGHTER}\n        onClick={handleWithdraw}\n        isDisabled={\n          !selectedWallet ||\n          overBalance ||\n          !(view === WITHDRAW_VIEWS.START || view === WITHDRAW_VIEWS.SELECTED)\n        }\n      >\n        {overBalance ? t(\"noBalance\") : t(\"confirmWithdraw\")}\n      </StButton>\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useToken from \"./useToken\";\nimport { parseBN } from \"../helpers\";\nimport useTransactionComposition from \"./useTransactionComposition\";\n\n// returns a function that will execute a join in strategy,\nexport function useWithdrawCallback(\n  portfolioAddress,\n  token = \"\",\n  amount = \"0\",\n  recipient = \"\"\n) {\n  const { account, chainId } = useEthers();\n  const tokenInfo = useToken(token); // token info to get decimals\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n\n  // console.log(\"useWithdrawCallback\", token, amount, recipient);\n  const tx = {\n    account: portfolioAddress,\n    tokenOut: token.toString(),\n    amount: txAmount,\n    recipient: recipient.toString(),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    tokenInfo.decimals,\n    amount,\n    true,\n    tx,\n    TRANSACTION_TYPE.WITHDRAW\n  );\n\n  return useMemo(() => {\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onWithdraw() {\n        return send();\n      },\n    };\n  }, [state, queryState, query, send, account, chainId]); // eslint-disable-line\n}\n","import { Flex, Text } from \"@chakra-ui/react\";\nimport { useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport PortfoliosSelectorItem from \"../components/PortfolioSelectorItem\";\nimport QRCode from \"react-qr-code\";\nimport useToken from \"../hooks/useToken\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { Hr } from \"../components/strategy/Hr\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function TransferToAgreement() {\n  const { t } = useTranslation();\n  const { bgModal, colorModalTitle } = useStyles();\n\n  // here we receive the asset selected\n  const modalParams = useModalParams();\n  const token = useToken(modalParams);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n\n  return (\n    <Flex w=\"full\" direction=\"column\" justify=\"center\">\n      <Text color={colorModalTitle} px=\"4\" fontWeight=\"500\">\n        {`${t(\"transfer\")} ${token && token.name} ${t(\"followingAddress\")}: `}\n      </Text>\n      <PortfoliosSelectorItem\n        name={\"name\"}\n        address={portfolioSelected.address}\n        disableDelete={true}\n      />\n      <Hr />\n      <Flex mb=\"4\" mt=\"8\" w=\"full\" justify=\"center\">\n        <QRCode\n          value={portfolioSelected.address}\n          fgColor={colorModalTitle}\n          bgColor={bgModal}\n        />\n      </Flex>\n      <Text color={colorModalTitle} py=\"4\" fontWeight=\"300\" align=\"center\">\n        {t(\"scanQr\")}\n      </Text>\n    </Flex>\n  );\n}\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n} from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useModalOpen,\n  useJoinStrategyModalToggle,\n  useExitStrategyModalToggle,\n  useWithdrawFromVaultModalToggle,\n  useTransferToAgreementModalToggle,\n} from \"../hooks\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport JoinStrategy from \"../pages/JoinStrategy\";\nimport ExitStrategy from \"../pages/ExitStrategy\";\nimport WithdrawFromVault from \"../pages/WithdrawFromVault\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport TransferToAgreement from \"../pages/TransferToAgreement\";\n\nexport default function ManagerModal() {\n  const { bgModal, colorModalTitle } = useStyles();\n  // // Modal management\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const toggleJoinStrategyModal = useJoinStrategyModalToggle();\n\n  const exitStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.EXIT_FROM_STRATEGY\n  );\n  const toggleExitStrategyModal = useExitStrategyModalToggle();\n  const withdraFromVaultModalOpen = useModalOpen(\n    APPLICATION_MODAL.WITHDRAW_FROM_VAULT\n  );\n  const toggleWithdrawFromVaultModal = useWithdrawFromVaultModalToggle();\n\n  const transferToAgreementModalOpen = useModalOpen(\n    APPLICATION_MODAL.TRANSFER_TO_AGREEMENT\n  );\n  const toggleTransferToAGreementModal = useTransferToAgreementModalToggle();\n\n  function close() {\n    if (joinStrategyModalOpen) return toggleJoinStrategyModal();\n    if (exitStrategyModalOpen) return toggleExitStrategyModal();\n    if (withdraFromVaultModalOpen) return toggleWithdrawFromVaultModal();\n    if (transferToAgreementModalOpen) return toggleTransferToAGreementModal();\n  }\n  return (\n    <Modal\n      isOpen={\n        joinStrategyModalOpen ||\n        exitStrategyModalOpen ||\n        withdraFromVaultModalOpen ||\n        transferToAgreementModalOpen\n      }\n      onClose={close}\n    >\n      <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n      <ModalContent bg={bgModal} rounded=\"md\">\n        <ModalHeader color={colorModalTitle} px=\"4\">\n          {joinStrategyModalOpen && \"Join Strategy\"}\n          {exitStrategyModalOpen && \"Exit Strategy\"}\n          {withdraFromVaultModalOpen && \"Withdraw\"}\n          {transferToAgreementModalOpen && \"Transfer funds\"}\n        </ModalHeader>\n        <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n        <ModalBody p=\"0\" color={colorModalTitle}>\n          {joinStrategyModalOpen ? <JoinStrategy /> : null}\n          {exitStrategyModalOpen ? <ExitStrategy /> : null}\n          {withdraFromVaultModalOpen ? <WithdrawFromVault /> : null}\n          {transferToAgreementModalOpen ? <TransferToAgreement /> : null}\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n}\n","import { Box } from \"@chakra-ui/react\";\nimport Layout from \"../components/Layout\";\nimport ManagerModal from \"../components/ManagerModal\";\n\nexport default function Manager({ children }) {\n  return (\n    <Box as=\"section\" minH=\"93vh\">\n      <Layout>{children}</Layout>\n      <ManagerModal />\n    </Box>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nimport { network } from '../../connectors';\nimport { useEagerConnect, useInactiveListener } from '../../hooks';\nimport { useEthers } from '@usedapp/core';\n// import Loader from '../Loader'\n\nexport default function Web3ReactManager({ children }) {\n  //   const { t } = useTranslation()\n\n  const { active } = useEthers();\n  \n  const {\n    active: networkActive,\n    error: networkError,\n    activate: activateNetwork,\n  } = useEthers();\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect();\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      activateNetwork(network);\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active]);\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager);\n\n  // handle delayed loader state\n  const [showLoader, setShowLoader] = useState(false);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true);\n    }, 600);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  // on page load, do nothing until we've tried to connect to the injected connector\n  if (!triedEager) {\n    return null;\n  }\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (!active && networkError) {\n    return 'WRONG NETWORK (or another ERROR, please refresh)';\n  }\n\n  // if neither context is active, spin\n  if (!active && !networkActive) {\n    return showLoader ? 'LOADING' : null;\n  }\n\n  return children;\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport { useApplicationDispatch } from \"./appContext\";\n\nexport default function BlockUpdater() {\n  const { library, chainId } = useEthers();\n  const { updateBlockNumber } = useApplicationDispatch();\n\n  const [state, setState] = useState({\n    blockNumber: null,\n  });\n\n  const blockNumberCallback = useCallback(\n    (blockNumber) => {\n      console.log(\"New block: \", blockNumber);\n      setState({ blockNumber: blockNumber });\n    },\n    [chainId, setState] // eslint-disable-line\n  );\n\n  // TODO: replace with useEthers\n  useEffect(() => {\n    if (!library) return undefined;\n\n    setState({ blockNumber: null });\n\n    library\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch((error) =>\n        console.error(\n          `Failed to get block number for chainId: ${chainId}`,\n          error\n        )\n      );\n\n    library.on(\"block\", blockNumberCallback);\n    return () => {\n      library.removeListener(\"block\", blockNumberCallback);\n    };\n  }, [chainId, library, blockNumberCallback]);\n\n  const debouncedState = useDebounce(state, 100);\n\n  useEffect(() => {\n    if (!debouncedState.blockNumber) return;\n    updateBlockNumber({ blockNumber: debouncedState.blockNumber });\n  }, [debouncedState.blockNumber]); // eslint-disable-line\n\n  return null;\n}\n","import { useEffect, useState } from 'react'\n\n//  from https://usehooks.com/useDebounce/\nexport default function useDebounce(value, delay){\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\n","import { useToast } from '@chakra-ui/toast';\nimport { useNotifications } from '@usedapp/core';\nimport { useEffect } from 'react';\nimport { BiError } from 'react-icons/bi';\nimport { SETTINGS } from '../helpers/settings';\n\nexport default function NotificationsUpdater() {\n  const toast = useToast();\n  const notificationContent = {\n    transactionFailed: { title: 'Transaction failed', icon: <BiError /> },\n    transactionStarted: { title: 'Transaction started', icon: <BiError /> },\n    transactionSucceed: { title: 'Transaction succeed', icon: <BiError /> },\n    walletConnected: { title: 'Wallet connected', icon: <BiError /> },\n  };\n\n  const showToast = (id, title) => {\n    if (!toast.isActive(id)) {\n      toast({\n        id: id,\n        title: `${title}`,\n        ...SETTINGS.toast,\n      });\n    }\n  };\n\n  const NotificationManager = () => {\n    const { notifications } = useNotifications();\n\n    useEffect(() => {\n      notifications.map(notification => {\n        return showToast(\n          notification.id,\n          notificationContent[notification.type].title\n        );\n      });\n    }, [notifications]);\n\n    return null;\n  };\n\n  return <NotificationManager />;\n}\n","import React from \"react\"\nimport { Flex } from \"@chakra-ui/react\"\n\nexport const Container = (props) => (\n  <Flex\n    w=\"full\"\n    pb=\"12\"\n    pt=\"3\"\n    align=\"flex-start\"\n    justify=\"center\"\n    maxW={{ base: \"100%\", md: \"5xl\", lg: \"6xl\" }}\n    mx=\"auto\"\n    px={{ base: \"1\", md: \"4\", lg: \"6\" }}\n    {...props}\n  />\n)\n\nexport default Container","import { Box, Flex, Button, Image} from \"@chakra-ui/react\";\nimport Container from \"../components/Container\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { Link as RouterLink } from 'react-router-dom';\n\nfunction Enviroment() {\n  return (\n    <Box\n      textAlign=\"center\"\n      w=\"full\"\n      pt={{ base: \"5rem\", md: \"6rem\", lg: \"8rem\" }}\n      backgroundSize=\"cover\"\n      h=\"90vh\"\n    >\n      <Container>\n        <Flex direction=\"column\" align=\"center\">\n          <Image\n            src={require(\"../assets/images/logo.svg\").default}\n            alt=\"logo\"\n            h=\"200\"\n          />\n          <Button\n            mt={12}\n            rounded=\"sm\"\n            h=\"3.5rem\"\n            w=\"12rem\"\n            bg={SETTINGS.VIOLET_LIGHT}\n            as={RouterLink}\n            to=\"/app/overview\"\n          >\n            APP\n          </Button>\n        </Flex>\n      </Container>\n    </Box>\n  );\n}\n\nexport default Enviroment;\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isAddress } from \"../helpers\";\n\nexport const fetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\n\nexport default function useApy(strategyId) {\n  const { chainId } = useEthers();\n\n  const url = `${process.env.REACT_APP_APY_URL}/${chainId}/${isAddress(\n    strategyId\n  )}`;\n  const { data, error } = useSWR(url, fetcher);\n\n  return useMemo(() => {\n    // console.log(\"useMetadata \", data, error);\n    return {\n      title: data?.fields?.title?.stringValue,\n      apy: data?.fields?.value?.stringValue,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import { Text, Flex, Spinner, Box } from \"@chakra-ui/react\";\nimport useToken from \"../../hooks/useToken\";\nimport useUSDCPrice from \"../../hooks/useUSDCPrice\";\nimport { formatBNPrice, getPercentPortfolio, getHoldings } from \"../../helpers\";\nimport { ChainId } from \"@usedapp/core\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { useTranslation } from \"react-i18next\";\nimport useApy from \"../../hooks/useApy\";\nexport const StrategyStats = ({ strategy, isLoading, holdings }) => {\n  const { t } = useTranslation();\n  const tokenStrategy = strategy?.token?.id;\n\n  const actualHoldings = getHoldings(\n    holdings?.shares, // portfolio holdings\n    holdings?.strategy?.shares,\n    holdings?.strategy?.deposited\n  );\n\n  const { title, apy } = useApy(strategy?.id);\n\n  // const apy = getAnnualYield(stStats?.rates)\n  // console.log(\"ST id\", strategy?.id);\n  // console.log(\"ST holdings\", holdings);\n  // console.log(\"ST metadata\", stMetadata);\n  // console.log(\"ST stats\", stStats);\n  // console.log(\"ST APY\",  apy);\n  // console.log(\"holdings.strategy finalRate\", finalRate);\n\n  return (\n    <>\n      <ApyRow title={title} value={apy} isLoading={isLoading} />\n\n      <NumberRow\n        title={t(\"strategyHoldings\")}\n        token={tokenStrategy}\n        amount={holdings?.strategy?.deposited}\n        isLoading={isLoading}\n      />\n\n      <NumberRow\n        title={t(\"portfolioHoldings\")}\n        token={tokenStrategy}\n        amount={actualHoldings}\n        isLoading={isLoading}\n      />\n\n      <ApyRow\n        title={\"shares\"}\n        value={getPercentPortfolio(\n          holdings?.shares,\n          holdings?.strategy?.shares\n        )}\n        isLoading={isLoading}\n      />\n      {/* TODO: REMOVE DEBUG */}\n      {/* <Box> */}\n      {/* <Text color=\"orange\" noOfLines={1}>rates count: {stStats?.rates.length}</Text>  */}\n      {/* <Text color=\"orange\" noOfLines={1}>{strategy?.metadata}</Text> */}\n      {/* <Text color=\"orange\" noOfLines={1}>token: {strategy?.token?.id}</Text> */}\n      {/* <Text color=\"orange\" noOfLines={1}> {strategy?.id}</Text>  */}\n      {/* </Box> */}\n    </>\n  );\n};\n\nconst ApyRow = ({ title, value, isLoading }) => {\n  if (!value) return <Box></Box>;\n  // console.log(\"title\", title, value);\n  return (\n    <Flex direction=\"column\" mb={3} px={6}>\n      <TitleRow>{title}</TitleRow>\n      <Flex justify=\"space-between\">\n        {isLoading ? (\n          <Spinner size=\"sm\" color=\"gray.600\" />\n        ) : (\n          <Flex align=\"center\" fontWeight=\"600\">\n            <Text mr={2}>{value}</Text>\n            <Text>%</Text>\n          </Flex>\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst NumberRow = ({ title, token, amount, isLoading }) => {\n  const tk = useToken(token);\n  const address = tk ? tk[ChainId.Mainnet] : token;\n  const amountNormalized = formatBNPrice(amount, tk.decimals);\n  const price = useUSDCPrice(address, amountNormalized);\n  return (\n    <Flex direction=\"column\" mb={3} px=\"6\" w=\"full\">\n      <TitleRow>{title}</TitleRow>\n      <Flex key={token} justify=\"space-between\">\n        <ShowAmountWithToken price={amountNormalized} tk={tk} />\n        <Flex fontWeight=\"600\">\n          {isLoading ? (\n            <Spinner size=\"sm\" color=\"gray.600\" />\n          ) : (\n            <ShowAmountWithToken price={price} simbol={\"$\"} />\n          )}\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst TitleRow = ({ children }) => {\n  return (\n    <Text color={SETTINGS.GRAY} py=\"0\" pt=\"4\" fontWeight=\"500\">\n      {children}\n    </Text>\n  );\n};\n\nconst ShowAmountWithToken = ({ price, tk, simbol }) => {\n  if (price === \"0.00\") {\n    return \"-\";\n  } else {\n    return (\n      <Flex align=\"center\" fontWeight=\"500\">\n        <Text>\n          {simbol} {price}\n        </Text>\n        {tk ? <Text ml=\"2\">{tk?.name}</Text> : null}\n      </Flex>\n    );\n  }\n};\n","import { Flex, Text, Button } from \"@chakra-ui/react\";\nimport { useEffect } from \"react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useExitStrategyModalToggle,\n  useJoinStrategyModalToggle,\n  useModalOpen,\n} from \"../hooks\";\nimport { isAddress, isTheSameUrl } from \"../helpers\";\nimport { useTranslation } from \"react-i18next\";\nimport useStrategyAgreementHoldings from \"../hooks/useStrategyAgreementHoldings\";\nimport { StrategyTitle } from \"./common/StrategyTitle\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useEthers } from \"@usedapp/core\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { StrategyStats } from \"./common/StrategyStats\";\nimport { isProduction } from \"../helpers/enviroment\";\n\nexport default function StrategyCard({\n  account,\n  chainId,\n  strategy,\n  param,\n  m,\n  w,\n}) {\n  const { buttonBorderStyle, bgHover } = useStyles();\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const toggleJoinStrategyModal = useJoinStrategyModalToggle(strategy?.id);\n  const toggleExitStrategyModal = useExitStrategyModalToggle(strategy?.id);\n\n  // update strategy data for the account\n  const { data: holdings, isLoading } = useStrategyAgreementHoldings(\n    strategy?.id\n  );\n\n  // const [order, setOrder] = useState(undefined);\n\n  useEffect(() => {\n    if (isTheSameUrl(param, strategy[chainId]) && !joinStrategyModalOpen) {\n      setTimeout(() => {\n        toggleJoinStrategyModal();\n      }, 1000);\n    }\n  }, [param]); // eslint-disable-line\n\n  const joined = holdings?.shares; // check if the user is joined at this strategy\n\n  return (\n    <Flex\n    // order={isAddress(strategy?.id) === '0x17ea0A1578D6309eb866edD654a7E4a281124cE7' ? 0 :3}\n      direction=\"column\"\n      minW={\"300px\"}\n      mb={m}\n      h=\"full\"\n      w={w}\n      _hover={{\n        bg: bgHover,\n      }}\n      borderRight={buttonBorderStyle}\n      borderBottom={buttonBorderStyle}\n      className=\"grid-item\"\n    >\n      <Flex direction=\"column\" h=\"full\">\n        <StrategyTitle stId={strategy?.id} tokenIn={strategy?.token?.id} />\n      </Flex>\n\n      <StrategyStats\n        strategy={strategy}\n        isLoading={isLoading}\n        holdings={holdings}\n      />\n\n      {/* DEBUG */}\n      {!isProduction() && <Text color=\"orange\">{isAddress(strategy?.id)}</Text>}\n\n      <ActionButtons\n        toggleJoinStrategyModal={toggleJoinStrategyModal}\n        toggleExitStrategyModal={toggleExitStrategyModal}\n        joined={joined}\n        account={account}\n      />\n    </Flex>\n  );\n}\n\nconst ActionButtons = ({\n  toggleJoinStrategyModal,\n  toggleExitStrategyModal,\n  joined,\n}) => {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n  const { activateBrowserWallet, account } = useEthers();\n\n  return (\n    <Flex w=\"full\">\n      {account ? (\n        <>\n          <StCardButton\n            w={joined ? \"50%\" : \"full\"}\n            borderTop={buttonBorderStyle}\n            borderRight={joined ? buttonBorderStyle : undefined}\n            onClick={toggleJoinStrategyModal}\n          >\n            {t(\"join\")}\n          </StCardButton>\n          {joined && (\n            <StCardButton\n              onClick={toggleExitStrategyModal}\n              isDisabled={!joined}\n              borderTop={buttonBorderStyle}\n              w=\"50%\"\n            >\n              {t(\"exit\")}\n            </StCardButton>\n          )}\n        </>\n      ) : (\n        <StCardButton\n          onClick={activateBrowserWallet}\n          borderTop={buttonBorderStyle}\n          w=\"full\"\n        >\n          {t(\"connect\")}\n        </StCardButton>\n      )}\n    </Flex>\n  );\n};\n\nconst StCardButton = ({\n  children,\n  w,\n  borderRight,\n  onClick,\n  isDisabled,\n  borderTop,\n}) => {\n  return (\n    <Button\n      w={w}\n      h={SETTINGS.BUTTON_H}\n      onClick={onClick}\n      isDisabled={isDisabled}\n      variant=\"outline\"\n      rounded=\"0\"\n      textTransform=\"capitalize\"\n      fontSize=\"1.25rem\"\n      fontWeight=\"400\"\n      borderTop={borderTop}\n      borderRight={borderRight}\n    >\n      <Text fontWeight=\"500\" fontSize=\"1.5rem\">\n        {children}\n      </Text>\n    </Button>\n  );\n};\n","import { Flex, Grid, Spinner } from \"@chakra-ui/react\";\nimport { useParams } from \"react-router\";\nimport StrategyCard from \"../components/StrategyCard\";\nimport { TabTitle } from \"./typography/TabTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport { useWhitelistedStrategies } from \"../hooks/useWhitelistedStrategies\";\nimport { useEthers } from \"@usedapp/core\";\nimport { BoxTitle } from \"./typography/BoxTitle\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const Strategies = () => {\n  const { t } = useTranslation();\n  const { account, chainId } = useEthers();\n  const { buttonBorderStyle } = useStyles();\n\n  const { data: whitelistedStrategies, isLoading } = useWhitelistedStrategies();\n  // console.log(\"whitelistedStrategies\", whitelistedStrategies);\n\n  // strategy from the url to redirect\n  let { strategy } = useParams();\n\n  return (\n    <Flex align=\"flex-start\" w=\"full\" py={4} direction=\"column\">\n      <TabTitle>{t(\"strategiesDescription\")}</TabTitle>\n      <Grid\n        templateColumns={{ md: \"repeat(4, 1fr)\", base: \"repeat(1, 1fr)\" }}\n        w=\"full\"\n        gridRowGap=\"0\"\n        gridAutoRows=\"1fr\"\n        borderTop={buttonBorderStyle}\n        mt=\"6\"\n      >\n        {isLoading ? (\n          <LoadingStrategyMessage />\n        ) : whitelistedStrategies?.length > 0 ? (\n          whitelistedStrategies.map((st) => {\n            return (\n              <StrategyCard\n                key={st?.id}\n                strategy={st}\n                param={strategy}\n                mx={4}\n                w=\"full\"\n                chainId={chainId}\n                account={account}\n                manager={true}\n              />\n            );\n          })\n        ) : (\n          <NoStrategiesMessage />\n        )}\n      </Grid>\n    </Flex>\n  );\n};\n\nconst NoStrategiesMessage = () => {\n  const { t } = useTranslation();\n\n  return <BoxTitle px=\"6\">{t(\"noStrategy\")} </BoxTitle>;\n};\n\nconst LoadingStrategyMessage = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex p=\"6\" justify=\"flex-start\" align=\"center\">\n      <BoxTitle px=\"6\">{t(\"loadingStrategy\")}</BoxTitle>\n      <Spinner />\n    </Flex>\n  );\n};\n","import useStrategies from \"./useStrategies\";\n\nexport function useWhitelistedStrategies() {\n  const { data, isLoading } = useStrategies();\n\n  const result = data?.filter((t) => t.whitelisted);\n\n  return {\n    data: result,\n    isLoading: isLoading,\n  };\n}\n","import { Button, Text } from \"@chakra-ui/react\";\nimport { RiShareBoxLine } from \"react-icons/ri\";\nimport { shortenAddress } from \"../../helpers\";\nimport { Link } from 'react-router-dom';\nimport { useEthers, getExplorerAddressLink } from \"@usedapp/core\";\n\nexport const AddressLink = props => {\n  const {chainId} = useEthers();\n  return (\n    <Link\n    to={{ pathname: getExplorerAddressLink(props.address, chainId) }}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n  >\n    <Button rightIcon={<RiShareBoxLine />} variant=\"link\" {...props}>\n      <Text isTruncated>\n        {props.full ? props.address : shortenAddress(props.address)}\n      </Text>\n    </Button>\n    </Link>\n  );\n};\n","import { Flex, Heading, Text, Skeleton } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { formatBNPercentage } from \"../../helpers\";\nimport { AddressLink } from \"../common/AddressLink\";\nimport { BoxTitle } from \"../typography/BoxTitle\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const AgreementSettingsViewer = ({ agreement, isLoading }) => {\n  const {\n    id,\n    managers,\n    withdrawers,\n    portfolio,\n    allowedStrategies,\n    name,\n    allowedTokens,\n    maxSlippage,\n  } = agreement;\n\n  return (\n    <Flex w=\"full\" justify=\"flex-start\" minH=\"450px\">\n      <Flex\n        w=\"full\"\n        align=\"flex-start\"\n        justify=\"flex-start\"\n        overflowX=\"scroll\"\n        maxW={SETTINGS.MAX_LAYOUT}\n      >\n        <Flex direction=\"column\">\n          <AddressBox\n            title=\"portfolioAddress\"\n            address={id}\n            isLoading={isLoading}\n          />\n\n          <AddressBox\n            title=\"portfolioName\"\n            description={name}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <Flex direction=\"column\">\n          <AddressList\n            title=\"ownerAddress\"\n            addressList={withdrawers}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <ManagersList\n          title=\"managerAddress\"\n          list={managers}\n          isLoading={isLoading}\n        />\n\n        <Flex direction=\"column\">\n          <SquareBox\n            title=\"feeDeposit\"\n            value={formatBNPercentage(portfolio?.depositFee)}\n            isLoading={isLoading}\n          />\n          <SquareBox\n            title=\"performanceFee\"\n            value={formatBNPercentage(portfolio?.performanceFee)}\n            isLoading={isLoading}\n          />\n          <AddressBox\n            title=\"slippageType\"\n            description={formatBNPercentage(maxSlippage)}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <AddressBox\n          title=\"collectedFees\"\n          address={portfolio?.feeCollector}\n          isLoading={isLoading}\n        />\n        <Flex direction=\"column\">\n          <AddressBox\n            title=\"strategyType\"\n            description={allowedStrategies}\n            isLoading={isLoading}\n          />\n\n          <AddressBox\n            title=\"tokenSwapType\"\n            description={allowedTokens}\n            isLoading={isLoading}\n          />\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst SquareBox = ({ title, value, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      <Heading size=\"md\" fontSize=\"1.25rem\" fontWeight=\"600\">\n        {value}\n      </Heading>\n    </SimpleBox>\n  );\n};\n\nconst AddressList = ({ title, addressList, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {addressList &&\n        addressList.length &&\n        addressList?.map((address) => {\n          return <TextLine key={address} address={address} />;\n        })}\n    </SimpleBox>\n  );\n};\n\nconst AddressBox = ({ title, address, description, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {description && (\n        <Text\n          key={address}\n          textAlign=\"flex-start\"\n          fontSize=\"1.25rem\"\n          fontWeight=\"600\"\n        >\n          {description}\n        </Text>\n      )}\n      {address && <TextLine address={address} />}\n    </SimpleBox>\n  );\n};\n\nconst SimpleBox = ({ title, isLoading, children }) => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex\n      pb={4}\n      px={{ base: 4, md: 6, lg: 8 }}\n      direction=\"column\"\n      justify=\"flex-start\"\n      align=\"flex-start\"\n      w=\"full\"\n      mb={4}\n      minH=\"95px\"\n    >\n      <Flex direction=\"column\" align=\"flex-start\">\n        <BoxTitle fontSize=\"1.15rem\" fontWeight=\"600\">\n          {t(title)}:\n        </BoxTitle>\n        {isLoading ? <Skel /> : children}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst TextLine = ({ address }) => {\n  if (!address) return \"\";\n  return (\n    <Text\n      key={address}\n      textAlign=\"flex-start\"\n      fontSize=\"1.15rem\"\n      fontWeight=\"600\"\n    >\n      <AddressLink fontSize=\"1.25rem\" address={address} fontWeight=\"600\" />\n    </Text>\n  );\n};\n\nconst Skel = () => {\n  return <Skeleton w=\"70%\" height=\"25px\" />;\n};\n\nconst ManagersList = ({ title, list, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {list &&\n        list.length &&\n        list?.map((manager) => {\n          return <TextLine address={manager?.id} />;\n        })}\n    </SimpleBox>\n  );\n};\n","import { Text, Flex } from \"@chakra-ui/react\";\n\nexport const RuleContainer = (props) => {\n  return (\n    <Flex mb={2} direction=\"column\">\n      <Text fontSize=\"1.5rem\" w=\"30px\" mb=\"2\">\n        {props.num}\n      </Text>\n      <Text fontSize=\"1.25rem\"  textAlign=\"left\" w=\"full\">\n        {props.children}\n      </Text>\n    </Flex>\n  );\n};\n","import { Flex, Heading, Grid } from \"@chakra-ui/react\";\nimport { RuleContainer } from \"../RuleContainer\";\n// import { AddressLink } from \"../common/AddressLink\";\nimport { MdLooksOne } from \"react-icons/md\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const RulesViewer = (props) => {\n  // const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <Flex w=\"full\" justify=\"flex-start\" borderTop={buttonBorderStyle}>\n      <Flex\n        w={[\"100%\", \"100%\", \"100%\"]}\n        maxW={SETTINGS.MAX_LAYOUT}\n        direction=\"column\"\n        align=\"flex-start\"\n        px=\"8\"\n      >\n        <Heading size=\"md\" py=\"8\">\n          Agreement Rules{\" \"}\n        </Heading>\n\n        <Grid\n          templateColumns={{ md: \"repeat(2, 1fr)\", base: \"repeat(1, 1fr)\" }}\n          w=\"full\"\n          gridRowGap=\"8\"\n        >\n          <RuleContainer num={<MdLooksOne />}>\n            You can transfer any funds to this portfolio (ERC20)\n          </RuleContainer>\n          {/* \n          <RuleContainer num={<MdLooksTwo />}>\n            Assets can only be withdrawn to one of the following addresses:{\" \"}\n            <AddressLink address=\"\" />\n            ,{\" \"}\n            <AddressLink address=\"\" />\n          </RuleContainer>\n\n          <RuleContainer num={<MdLooks3 />}>\n            This portfolio can only be operated by the manager with address{\" \"}\n            <AddressLink address=\"\" />{\" \"}\n            but belongs to the following owner addresses{\" \"}\n            <AddressLink address=\"\" />\n            ,{\" \"}\n            <AddressLink address=\"\" />\n          </RuleContainer> */}\n        </Grid>\n      </Flex>\n    </Flex>\n  );\n};\n","import { Flex, Spinner } from \"@chakra-ui/react\";\nimport { AgreementSettingsViewer } from \"../components/viewer/AgreementSettingsViewer\";\nimport { RulesViewer } from \"../components/viewer/RulesViewer\";\nimport { TabTitle } from \"../components/typography/TabTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { BoxTitle } from \"../components/typography/BoxTitle\";\n\nfunction Agreement() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n  const { data: agreement, isLoading } = useAgreement();\n  // console.log(\"useAgreement \", agreement, isLoading);\n\n  return (\n    <Flex align=\"flex-start\" w=\"full\" py={4} direction=\"column\">\n      <TabTitle>{t(\"agreementDescription\")}</TabTitle>\n      <Flex\n        borderTop={buttonBorderStyle}\n        wrap=\"wrap\"\n        justify=\"center\"\n        w=\"full\"\n        py=\"6\"\n        mt=\"6\"\n        direction=\"column\"\n      >\n        {isLoading ? (\n          <LoadingAgreement />\n        ) : agreement ? (\n          <>\n            <AgreementSettingsViewer\n              isLoading={isLoading}\n              agreement={agreement}\n            />\n            <RulesViewer />\n          </>\n        ) : (\n          <NoStrategiesMessage />\n        )}\n      </Flex>\n    </Flex>\n  );\n}\n\nexport default Agreement;\n\nconst LoadingAgreement = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex p=\"6\" justify=\"flex-start\" align=\"center\">\n      <BoxTitle px=\"6\">{t(\"loadingAgreement\")}</BoxTitle>\n      <Spinner />\n    </Flex>\n  );\n};\n\nconst NoStrategiesMessage = () => {\n  const { t } = useTranslation();\n\n  return <BoxTitle>{t(\"cantFindAgreement\")} </BoxTitle>;\n};\n","import { Text, Flex } from \"@chakra-ui/react\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const NewPortfolioContainer = (props) => {\n  const { colorTitle, colorSubtitle } = useStyles();\n\n  return (\n    <Flex mt=\"4\" w=\"full\" mb=\"8\">\n      <Flex w=\"full\" pr=\"6\" direction=\"column\" align=\"flex-start\">\n        <Text\n          textAlign=\"left\"\n          fontWeight=\"500\"\n          fontSize=\"1rem\"\n          color={colorTitle}\n        >\n          {props.title}\n        </Text>\n        {props.description && (\n          <Text\n            textAlign=\"left\"\n            mt=\"1\"\n            mb=\"4\"\n            fontSize=\"1rem\"\n            color={colorSubtitle}\n          >\n            {props.description}\n          </Text>\n        )}\n        {props.children}\n      </Flex>\n    </Flex>\n  );\n};\n","import { useState } from \"react\";\nimport {\n  NumberInputField,\n  NumberInput,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const FeeInput = (props) => {\n  const { buttonBorderStyle } = useStyles();\n  const [setValue] = useState(\"0.00\");\n\n  const format = (val) => val + `%`;\n  const parse = (val) => val.replace(/^\\$/, \"\");\n\n  return (\n    <NumberInput\n      onChange={(valueString) => setValue(parse(valueString))}\n      value={format}\n      max={100}\n      precision={2}\n      step={0.25}\n      w=\"8rem\"\n      {...props.field}\n    >\n      <NumberInputField border={buttonBorderStyle} rounded=\"sm\" />\n      <NumberInputStepper>\n        <NumberIncrementStepper />\n        <NumberDecrementStepper />\n      </NumberInputStepper>\n    </NumberInput>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport {\n  Flex,\n  FormControl,\n  FormLabel,\n  Input,\n  FormHelperText,\n  Button,\n  Text,\n  Checkbox,\n  Collapse,\n  Select,\n} from \"@chakra-ui/react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { NewPortfolioContainer } from \"../components/NewPortfolioContainer\";\nimport { FeeInput } from \"../components/FeeInput\";\nimport { formatName, mulBN, updateLocalTransactionState } from \"../helpers\";\nimport { useEthers } from \"@usedapp/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useCreateCallback } from \"../hooks/useCreateCallback\";\nimport { TabTitle } from \"../components/typography/TabTitle\";\nimport { Link } from \"react-router-dom\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport { useManagerDispatch } from \"../context/managerContext\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SLIPPAGE_UI_OPTIONS } from \"../constants\";\nimport { RoundedIconButton } from \"../components/common/RoundedIconButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\n\nconst CREATE_VIEWS = {\n  START: \"start\",\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n  DONE: \"done\",\n};\n\nconst FORM_STEP = {\n  ONE: \"one\",\n  TWO: \"two\",\n};\n\nfunction CreatePortfolio() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, colorSubtitle } = useStyles();\n\n  const { addPortfolio } = useManagerDispatch();\n  const { account, chainId } = useEthers();\n  // here we have the transaction state\n  const [{ txHash }, setCreateState] = useState({\n    txHash: undefined,\n  });\n\n  const [createdPortfolio, setCreatedPortfolio] = useState({\n    name: undefined,\n    agreement: undefined,\n  });\n  // here we have the UI state\n  const [createView, setCreateView] = useState(CREATE_VIEWS.START);\n  const [diffCollectedFees, setDiffCollectedFees] = useState(false);\n  const [strategyType, setStrategyType] = useState(\"2\");\n  const [tokenSwapType, setTokenSwapType] = useState(\"2\");\n  const [maxSlippage, setMaxSlippage] = useState(\"0.5\");\n  const [step, setStep] = useState(FORM_STEP.ONE);\n\n  const isLoading = createView === CREATE_VIEWS.LOADING;\n\n  // manipulate forms\n  const {\n    register,\n    control,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm();\n  const watchFields = watch();\n\n  // the callback to execute the join\n  const {\n    state: stateCallback,\n    callback: createCallback,\n    events,\n  } = useCreateCallback(\n    chainId,\n    watchFields.uniqueName,\n    watchFields.wallet1,\n    watchFields.wallet2 ? watchFields.wallet2 : watchFields.wallet1,\n    watchFields.depositFee,\n    watchFields.performanceFee,\n    diffCollectedFees ? watchFields.collectedFeesAddress : account,\n    maxSlippage,\n    account,\n    watchFields.managerBackupAddress\n      ? watchFields.managerBackupAddress\n      : account,\n    strategyType,\n    tokenSwapType\n  );\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    console.log(\"stateCallback\", stateCallback);\n    updateLocalTransactionState(stateCallback, setCreateState, setCreateView);\n  }, [stateCallback]);\n\n  useEffect(() => {\n    // new portfolio created!\n    if (events && events.length > 0) {\n      const portfolioName = events[0]?.args?.name;\n      const portfolioAddress = events[0]?.args?.agreement;\n      if (portfolioName && portfolioAddress) {\n        setCreatedPortfolio({\n          name: portfolioName,\n          agreement: portfolioAddress,\n        });\n        addPortfolio({ address: portfolioAddress });\n      }\n    }\n    // console.log(\"events\", events);\n  }, [events]); // eslint-disable-line\n\n  const handleCreateOnSubmit = () => {\n    if (step === FORM_STEP.ONE) {\n      setStep(FORM_STEP.TWO);\n    } else {\n      setCreateView(CREATE_VIEWS.LOADING);\n      setCreateState({\n        errorMessage: undefined,\n        txHash: undefined,\n        newPortfolioAddress: undefined,\n      });\n      createCallback();\n    }\n  };\n\n  const resetCreateView = () => {\n    setCreateView(CREATE_VIEWS.START);\n  };\n\n  const FootButton = () => {\n    return (\n      <>\n        <ShowErrors errors={errors} />\n        <Flex\n          w=\"full\"\n          align=\"center\"\n          px=\"6\"\n          py=\"3\"\n          borderTop={buttonBorderStyle}\n        >\n          <Flex w=\"full\" justify=\"flex-start\" align=\"center\">\n            <NumButton\n              stateStep={step}\n              setStep={setStep}\n              step={FORM_STEP.ONE}\n            />\n            <NumButton\n              stateStep={step}\n              setStep={setStep}\n              step={FORM_STEP.TWO}\n            />\n          </Flex>\n          <Button\n            rounded=\"0\"\n            minW=\"25%\"\n            h=\"4rem\"\n            isDisabled={isLoading}\n            variant=\"ghost\"\n            type=\"submit\"\n          >\n            {watchFields.uniqueName && `${watchFields.uniqueName}: `}\n            {t(\"createPortfolio\")}\n          </Button>\n        </Flex>\n      </>\n    );\n  };\n\n  return (\n    <Flex textAlign=\"center\" w=\"full\" pt={4} direction=\"column\">\n      <Flex w=\"full\" direction=\"column\" pb=\"6\" borderBottom={buttonBorderStyle}>\n        <TabTitle>{t(\"createPortfolioTitle\")}</TabTitle>\n      </Flex>\n      <Flex w=\"full\" justify=\"center\">\n        {/* Show transaction status based on state */}\n        <TransactionStatus\n          status={createView}\n          hash={txHash}\n          chainId={chainId}\n          errorChildren={\n            <Link to={\"/app/new\"} onClick={resetCreateView}>\n              <Flex align=\"center\" textDecor=\"underline\">\n                <Text px=\"2\">Try again</Text>\n              </Flex>\n            </Link>\n          }\n          doneMessage={`Portfolio ${createdPortfolio.name} created!`}\n          doneChildren={\n            <Link to={`/app/${createdPortfolio.agreement}`}>\n              <Flex justify=\"center\" textDecor=\"underline\">\n                <Text px=\"2\" textAlign=\"center\">\n                  Manage portfolio\n                </Text>\n              </Flex>\n            </Link>\n          }\n        />\n      </Flex>\n\n      {createView === CREATE_VIEWS.LOADING ||\n        (createView === CREATE_VIEWS.START && (\n          <form onSubmit={handleSubmit(handleCreateOnSubmit)}>\n            {/* STEP 1 */}\n            <Collapse in={step === FORM_STEP.ONE} animateOpacity w=\"100%\">\n              <Flex\n                w=\"full\"\n                align=\"flex-start\"\n                justify=\"center\"\n                mt=\"4\"\n                px=\"6\"\n                minH=\"520px\"\n              >\n                <Flex direction=\"column\" w=\"33.333%\">\n                  <NewPortfolioContainer\n                    title={t(\"portfolioName\")}\n                    description={t(\"nicknameDescription\")}\n                  >\n                    <Flex w=\"full\" h=\"full\">\n                      <FormControl>\n                        <Flex>\n                          <Input\n                            w=\"25rem\"\n                            type=\"text\"\n                            rounded=\"sm\"\n                            isDisabled={isLoading}\n                            border={buttonBorderStyle}\n                            value={formatName(watchFields.uniqueName)}\n                            placeholder={t(\"uniqueName\")}\n                            {...register(\"uniqueName\", { required: true })}\n                          />\n                        </Flex>\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"nameHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n\n                  {/* ==== OWNER ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"ownerAddress\")}\n                    description={t(\"ownerDescription\")}\n                  >\n                    <Flex w=\"full\" direction=\"column\">\n                      <FormControl id=\"hotwallet\">\n                        <Input\n                          type=\"text\"\n                          isDisabled={isLoading}\n                          border={buttonBorderStyle}\n                          rounded=\"sm\"\n                          placeholder={t(\"ownerMainAddress\")}\n                          {...register(\"wallet1\", {\n                            required: true,\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                      </FormControl>\n\n                      <FormControl mt={6} id=\"Coldwallet\">\n                        <Input\n                          type=\"text\"\n                          border={buttonBorderStyle}\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          placeholder={`${t(\"ownerEthereumWallet\")} (optional)`}\n                          {...register(\"wallet2\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n\n                        <FormHelperText textAlign=\"left\">\n                          {t(\"backupWalletHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n                </Flex>\n\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== MANAGER ADDRESS ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"managerTitle\")}\n                    description={t(\"managerDescription\")}\n                  >\n                    <Flex w=\"full\" direction=\"column\">\n                      <FormControl id=\"managerMainAddress\">\n                        <Input\n                          type=\"text\"\n                          placeholder={account}\n                          value={account}\n                          rounded=\"sm\"\n                          border={buttonBorderStyle}\n                          {...register(\"managerMainAddress\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"managerHint\")}\n                        </FormHelperText>\n                      </FormControl>\n\n                      <FormControl id=\"managerBackupAddress\" mt={6}>\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Other manager Address (optional)\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          border={buttonBorderStyle}\n                          {...register(\"managerBackupAddress\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"otherManagerHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n\n                  {/* ==== MANAGER FEES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"feeTitle\")}\n                    description={t(\"feeDescription\")}\n                  >\n                    <Flex w=\"full\" align=\"flex-start\">\n                      <FormControl>\n                        <Title title={t(\"feeDeposit\")} />\n\n                        <Controller\n                          name=\"depositFee\"\n                          control={control}\n                          defaultValue={\"0.00\"}\n                          rules={{ required: true, min: 0, max: 100 }}\n                          render={(props) => <FeeInput {...props} />}\n                        />\n                      </FormControl>\n\n                      <FormControl>\n                        <Title title={t(\"performanceFee\")} />\n\n                        <Controller\n                          name=\"performanceFee\"\n                          control={control}\n                          defaultValue={\"0.00\"}\n                          rules={{ required: true, min: 0, max: 100 }}\n                          render={(props) => <FeeInput {...props} />}\n                        />\n\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"feeHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n                </Flex>\n                <Flex direction=\"column\" w=\"33.333%\"\n                      style={{visibility: 'hidden'}}>\n                  {/* ==== COLLECTED FEES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"collectedFees\")}\n                    description={t(\"collectedFeesDescription\")}\n                  >\n                    <FormControl>\n                      <Flex w=\"full\" justify=\"flex-start\">\n                        {/* if unchecked we send th manager logged address */}\n                        <Checkbox\n                          isDisabled={isLoading}\n                          size=\"lg\"\n                          rounded=\"sm\"\n                          onChange={(e) =>\n                            setDiffCollectedFees(e.target.checked)\n                          }\n                        >\n                          <Text align=\"left\" pl=\"2\">\n                            I want to collect the fees with a different account\n                          </Text>\n                        </Checkbox>\n                      </Flex>\n                      <Collapse in={diffCollectedFees} animateOpacity>\n                        <FormControl id=\"collectedFees\" mt={6}>\n                          <Input\n                            type=\"text\"\n                            placeholder={t(\"addressForCollectedFees\")}\n                            border={buttonBorderStyle}\n                            rounded=\"sm\"\n                            {...register(\"collectedFeesAddress\", {\n                              pattern: /^0x[a-fA-F0-9]{40}$/i,\n                            })}\n                          />\n                          <FormHelperText\n                            textAlign=\"left\"\n                            color={colorSubtitle}\n                          >\n                            {t(\"collectedFeesHint\")}\n                          </FormHelperText>\n                        </FormControl>\n                      </Collapse>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n              </Flex>\n            </Collapse>\n\n            {/* STEP 2 */}\n            <Collapse in={step === FORM_STEP.TWO} animateOpacity w=\"100%\">\n              <Flex\n                w=\"full\"\n                align=\"flex-start\"\n                justify=\"center\"\n                mt=\"4\"\n                px=\"6\"\n                minH=\"520px\"\n              >\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== SLIPPEAGE ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"slippageType\")}\n                    description={t(\"slippageTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"slippageTypeLabel\")} />\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={maxSlippage}\n                          onChange={(e) => setMaxSlippage(e.target.value)}\n                        >\n                          {SLIPPAGE_UI_OPTIONS.map((option) => {\n                            return (\n                              <option value={option} key={option}>\n                                {mulBN(option, \"100\")}%\n                              </option>\n                            );\n                          })}\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== WHITESTRATEGIES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"strategyType\")}\n                    description={t(\"strategyTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"strategyTypeLabel\")} />\n\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={strategyType}\n                          onChange={(e) => setStrategyType(e.target.value)}\n                        >\n                          <option value=\"2\">\n                            Only Whitelisted Strategies (recommended)\n                          </option>\n                          <option value=\"0\">Any Strategies</option>\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n\n                  {/* ==== WHITE TOKEN ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"tokenSwapType\")}\n                    description={t(\"tokenSwapTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"tokenSwapTypeLabel\")} />\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={tokenSwapType}\n                          onChange={(e) => setTokenSwapType(e.target.value)}\n                        >\n                          <option value=\"2\">\n                            Manager can only swap to whitelisted tokens\n                            (recommended)\n                          </option>\n                          <option value=\"0\">\n                            Manager can swap to any token\n                          </option>\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n                <Flex direction=\"column\" w=\"33.333%\"></Flex>\n              </Flex>\n            </Collapse>\n            {/* \n            </>\n          )} */}\n            <FootButton />\n          </form>\n        ))}\n    </Flex>\n  );\n}\n\nexport default CreatePortfolio;\n\nconst Title = ({ title, icon }) => {\n  const { colorSubtitle } = useStyles();\n\n  return (\n    <FormLabel>\n      <Text textAlign=\"left\" mt=\"1\" fontSize=\"1rem\" color={colorSubtitle}>\n        {title}\n      </Text>\n      {icon ? icon : null}\n    </FormLabel>\n  );\n};\n\nconst NumButton = ({ stateStep, setStep, step }) => {\n  const { colorTitle } = useStyles();\n\n  return (\n    <RoundedIconButton\n      onClick={() => setStep(step)}\n      border={stateStep === step ? `1px solid ${colorTitle}` : undefined}\n      icon={\n        <Text\n          fontSize=\"1.15rem\"\n          pb=\"1\"\n          pr=\"0.5\"\n          color={stateStep === step ? colorTitle : undefined}\n        >\n          {step === FORM_STEP.ONE && \"1\"}\n          {step === FORM_STEP.TWO && \"2\"}\n        </Text>\n      }\n    />\n  );\n};\n\nconst ShowErrors = ({ errors }) => {\n  const { t } = useTranslation();\n\n  let errorMsg = \"\";\n  if (errors.wallet1?.type === \"required\") {\n    errorMsg = errorMsg + \" | Owner main address: \" + t(\"fieldRequired\");\n  } else if (errors.uniqueName?.type === \"required\") {\n    errorMsg = errorMsg + \" | Portfolio Name: \" + t(\"fieldRequired\");\n  } else if (errors.wallet1?.type === \"pattern\") {\n    errorMsg = errorMsg + \" | Owner main address: \" + t(\"completeValidAddress\");\n  } else if (errors.wallet2) {\n    errorMsg = errorMsg + \" | Owner Address: \" + t(\"completeValidAddress\");\n  } else if (errors.depositFee) {\n    errorMsg = errorMsg + \" | Deposit fee: \" + t(\"fieldRequired\");\n  } else if (errors.performanceFee) {\n    errorMsg = errorMsg + \" | Performance fee: \" + t(\"fieldRequired\");\n  }\n  // console.log(\"errors\", errors);\n\n  return (\n    <ShowFormError\n      errorMessage={\n        errorMsg === \"\"\n          ? null\n          : `Please solve the following problems with the form ${errorMsg}`\n      }\n    />\n  );\n};\n","import { utils } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useMemo } from \"react\";\nimport { useContractFunction } from \"@usedapp/core\";\nimport AgreementFactoryABI from \"../constants/abis/AgreementFactory.json\";\nimport { feePercentage, filterEmptyElements, isAddress } from \"../helpers\";\nimport { AGREEMENT_FACTORY_ADDRESS } from \"../constants\";\n\n// returns a function that will execute a create in strategy,\nexport function useCreateCallback(\n  chainId,\n  name = \"\",\n  ownerWallet1,\n  ownerWallet2,\n  depositFee = 0,\n  performanceFee = 0,\n  feeCollector,\n  maxSwapSlippage = 0,\n  managerMainAddress,\n  managerBackupAddress,\n  strategyType,\n  tokensType\n) {\n  const AgreementFactoryInterface = new utils.Interface(AgreementFactoryABI);\n  const contract = new Contract(\n    isAddress(AGREEMENT_FACTORY_ADDRESS[chainId]),\n    AgreementFactoryInterface\n  );\n\n  const { state, send, events } = useContractFunction(contract, \"create\", {\n    transactionName: \"CreatePortfolio\"\n    // , gasLimit: 250000,\n  });\n\n  return useMemo(() => {\n    return {\n      state: state,\n      events: events,\n      callback: async function onCreate() {\n        // creating a new portfolio\n        const tx = {\n          name: name.toString(),\n          depositFee0: feePercentage(depositFee.toString()),\n          depositFee: utils.parseEther(feePercentage(depositFee.toString())),\n          withdrawFee: \"0\",\n          performanceFee0: feePercentage(performanceFee.toString()), // testing\n          performanceFee: utils.parseEther(\n            feePercentage(performanceFee.toString())\n          ),\n          feeCollector: feeCollector.toString(),\n          maxSwapSlippage: utils.parseEther(maxSwapSlippage.toString()),\n          managers0: [managerMainAddress, managerBackupAddress], // testing\n          managers: filterEmptyElements([\n            ownerWallet2,\n            managerMainAddress,\n            managerBackupAddress,\n          ]),\n          withdrawers0: [ownerWallet1, ownerWallet2], // testing\n          withdrawers: filterEmptyElements([ownerWallet1, ownerWallet2]),\n          tokens: [],\n          allowedTokens: tokensType,\n          strategies: [],\n          allowedStrategies: strategyType,\n        };\n\n        console.log(\"useCreateCallback tx: \", tx);\n\n        return send(\n          tx.name,\n          tx.feeCollector,\n          tx.depositFee,\n          tx.withdrawFee,\n          tx.performanceFee,\n          tx.maxSwapSlippage,\n          tx.managers,\n          tx.withdrawers,\n          tx.tokens,\n          tx.allowedTokens,\n          tx.strategies,\n          tx.allowedStrategies\n        );\n      },\n    };\n    // eslint-disable-next-line\n  }, [\n    name,\n    ownerWallet1,\n    depositFee,\n    performanceFee,\n    state,\n    feeCollector,\n    managerMainAddress,\n    managerBackupAddress,\n    ownerWallet2,\n    strategyType,\n    send,\n  ]);\n}\n","import { Box, Flex, Heading, Text, Button } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { FiArrowDown } from \"react-icons/fi\";\nimport Container from \"../components/Container\";\nimport TokenInput from \"../components/TokenInput\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { useDepositCallback } from \"../hooks/useDepositCallback\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useSwapCallback } from \"../hooks/useSwapCallback\";\nimport useToken from \"../hooks/useToken\";\n\nfunction Swap() {\n  const { inputBorderStyle } = useStyles();\n  const { portfolioSelected } = useManagerState();\n\n  const [tokenIn, setTokenIn] = useState({\n    token: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n    amount: \"0\",\n  });\n  const [tokenOut, setTokenOut] = useState({\n    token: \"0xb7a4F3E9097C08dA09517b5aB877F7a917224ede\",\n    amount: \"0\",\n  });\n  const [tokenDeposit, setTokenDeposit] = useState({\n    token: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n    amount: \"0\",\n  });\n\n  const tokenInfo = useToken(tokenIn?.token); // token info to get decimals\n  \n  const { vaultBalance } = useAvailableBalance(\n    tokenIn?.token,\n    tokenInfo.decimals\n  );\n\n  const {\n    state: depositStateCallback,\n    callback: depositCallback,\n    queryCallback: depositQueryCallback,\n    queryState: depositQueryState,\n  } = useDepositCallback(\n    portfolioSelected.address,\n    tokenDeposit?.token,\n    tokenDeposit?.amount\n  );\n\n  const {\n    state: stateCallback,\n    callback: swapCallback,\n    queryCallback,\n    queryState,\n  } = useSwapCallback(\n    portfolioSelected.address,\n    tokenIn?.token,\n    tokenOut?.token,\n    tokenIn?.amount\n  );\n\n  const handleInputTokenInChange = (token, amount) => {\n    if (token !== null) {\n      setTokenIn({ token: token, amount: amount });\n      queryCallback();\n    }\n  };\n\n  const handleInputTokenOutChange = (token, amount) => {\n    if (token !== null) {\n      setTokenOut({ token: token, amount: amount });\n      queryCallback();\n    }\n  };\n\n  const handleInputTokenDepositChange = (token, amount) => {\n    if (token !== null) {\n      setTokenDeposit({ token: token, amount: amount });\n      depositQueryCallback();\n    }\n  };\n\n  const handleDeposit = () => {\n    depositCallback()\n  };\n\n  const handleSwap = () => {\n    swapCallback();\n  };\n\n  return (\n    <Box w=\"full\" h=\"90vh\">\n      <Container>\n        <Flex direction=\"column\">\n          <Heading size=\"md\">DESPOSIT TO VAULT</Heading>\n          <Flex\n            direction=\"column\"\n            align=\"center\"\n            border={inputBorderStyle}\n            rounded=\"sm\"\n            mb=\"8\"\n          >\n            <Flex direction=\"column\" p=\"8\">\n              <TokenInput\n                startToken={tokenDeposit?.token}\n                onChange={handleInputTokenDepositChange}\n                isChangeable={true}\n                hintText=\"deposit\"\n              />\n\n              <Flex\n                color=\"orange\"\n                direction=\"column\"\n                fontSize=\"0.75rem\"\n                mt=\"6\"\n                w=\"full\"\n              >\n                <Text>========================</Text>\n                <QueryResult queryState={depositQueryState} />\n                <StateResult stateCallback={depositStateCallback} />\n              </Flex>\n            </Flex>\n\n            <Button\n              w=\"full\"\n              h=\"4rem\"\n              bg={SETTINGS.VIOLET_LIGHT}\n              onClick={handleDeposit}\n              rounded=\"0\"\n              fontSize=\"1.25rem\"\n              fontWeight=\"600\"\n            >\n              Deposit\n            </Button>\n          </Flex>\n          <Heading size=\"md\">SWAP VAULT BALANCE</Heading>\n          <Flex\n            direction=\"column\"\n            align=\"center\"\n            border={inputBorderStyle}\n            rounded=\"sm\"\n          >\n            <Flex direction=\"column\" p=\"8\">\n              <Text fontSize=\"1.25rem\" pb=\"4\">\n                Max amount to swap from vault: {vaultBalance} {tokenInfo.name}\n              </Text>\n\n              <TokenInput\n                startToken={tokenIn?.token}\n                onChange={handleInputTokenInChange}\n                isChangeable={true}\n                hintText=\"In\"\n              />\n              <FiArrowDown fontSize=\"1.25rem\" />\n              <TokenInput\n                onChange={handleInputTokenOutChange}\n                startToken={tokenOut?.token}\n                isChangeable={true}\n                hintText=\"Out\"\n              />\n              <Flex\n                color=\"orange\"\n                direction=\"column\"\n                fontSize=\"0.75rem\"\n                mt=\"6\"\n                w=\"full\"\n              >\n                <Text>\n                  TokenIn: {tokenIn?.token} - AmountIn: {tokenIn?.amount}\n                </Text>\n                <Text>\n                  TokenOut: {tokenOut?.token} - AmountOut: {tokenOut?.amount}\n                </Text>\n                <Text>========================</Text>\n                <QueryResult queryState={queryState} />\n                <StateResult stateCallback={stateCallback} />\n              </Flex>\n            </Flex>\n            <Button\n              w=\"full\"\n              h=\"4rem\"\n              bg={SETTINGS.VIOLET_LIGHT}\n              onClick={handleSwap}\n              rounded=\"0\"\n              fontSize=\"1.25rem\"\n              fontWeight=\"600\"\n            >\n              Swap\n            </Button>\n          </Flex>\n        </Flex>\n      </Container>\n    </Box>\n  );\n}\n\nexport default Swap;\n\nconst QueryResult = ({ queryState }) => {\n  return (\n    <>\n      <Text noOfLines=\"1\">Query Status: {queryState?.status}</Text>\n      {!queryState?.status === QUERY_STATUS.DONE && (\n        <Text noOfLines=\"1\">\n           Query result: {queryState?.result[queryState?.queryPos - 1]}\n        </Text>\n      )}\n      {queryState?.status === QUERY_STATUS.ERROR && (\n        <Text noOfLines=\"1\">\n           Query error: {queryState?.error?.code} -{\" \"}\n          {queryState?.error?.message}{\" \"}\n        </Text>\n      )}\n    </>\n  );\n};\n\nconst StateResult = ({ stateCallback }) => {\n  return (\n    <>\n      <Text noOfLines=\"1\">Hash: {stateCallback?.transaction?.hash}</Text>\n      <Text noOfLines=\"1\">{stateCallback?.status}</Text>\n    </>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport useToken from \"./useToken\";\nimport { parseBN } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\n\n// returns a function that will execute a join in strategy,\nexport function useDepositCallback(\n  portfolioAddress,\n  tokenIn = \"\", //strategy address\n  amount = \"0\"\n) {\n  const { account, chainId, library } = useEthers();\n\n  const tokenInfo = useToken(tokenIn); // token info to get decimals\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n\n  const tx = {\n    account: portfolioAddress,\n    tokenIn: tokenIn.toString(),\n    amount: txAmount,\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    tokenIn,\n    tokenInfo.decimals,\n    amount,\n    true,\n    tx,\n    TRANSACTION_TYPE.DESPOSIT\n  );\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onJoin() {\n        return send();\n      },\n    };\n    // eslint-disable-line\n  }, [library, account, chainId, amount, state, tx, send]); // eslint-disable-line\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isTheSameAddress, mulBN, parseBN } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport { useApplicationState } from \"../context/appContext\";\nimport useToken from \"./useToken\";\n\nexport function useSwapCallback(\n  portfolioAddress,\n  tokenIn = \"\",\n  tokenOut = \"\",\n  amountIn = \"0\"\n) {\n  const { chainId } = useEthers();\n  const same = isTheSameAddress(tokenIn, tokenOut);\n  const { slippage } = useApplicationState();\n  const tokenInfo = useToken(tokenIn); // token info to get decimals\n  const txAmount = parseBN(amountIn, tokenInfo?.decimals);\n\n  const tx = {\n    account: portfolioAddress,\n    tokenIn: tokenIn?.toString(),\n    tokenOut: tokenOut?.toString(),\n    amount: txAmount,\n    slippage: mulBN(slippage, \"1e18\"),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    tokenIn,\n    tokenInfo?.decimals,\n    amountIn,\n    same,\n    tx,\n    TRANSACTION_TYPE.SWAP\n  );\n\n  console.log(\"useSwapCallback 11\", tokenIn, tokenInfo?.decimals);\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onExit() {\n        return send();\n      },\n    };\n  }, [tokenIn, tokenOut, amountIn, chainId, state, tx, send]); // eslint-disable-line\n}\n","import { Flex } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const GreenHeader = ({ children, onlyBottom = false }) => {\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <Flex\n      w=\"full\"\n      minH={SETTINGS.HEADER_OVERVIEW_H}\n      justify=\"center\"\n      align=\"center\"\n      borderBottom={buttonBorderStyle}\n      borderTop={!onlyBottom && buttonBorderStyle}\n      wrap=\"wrap\"\n    >\n      {children}\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport {Heading, Link } from \"@chakra-ui/react\";\n// import { useTranslation } from \"react-i18next\";\nimport { GreenHeader } from \"./common/GreenHeader\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport default function OverviewEmptyHeader(props) {\n  // const { t } = useTranslation();\n  const color = SETTINGS.VIOLET_LIGHT;\n  return (\n    <GreenHeader onlyBottom=\"true\">\n      <Heading px=\"4\" color={color} fontWeight=\"400\" fontSize=\"2.5rem\">\n        New? Maybe you can check our{\" \"}\n        <Link\n          fontWeight=\"600\"\n          textDecoration=\"underline\"\n          color={SETTINGS.WHITE}\n        >\n          Quick Start\n        </Link>{\" \"}\n        guide for managers\n      </Heading>\n    </GreenHeader>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Box, Button, Flex, Text } from \"@chakra-ui/react\";\nimport OverviewEmptyHeader from \"./OverviewEmptyHeader\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { useTranslation } from \"react-i18next\";\nimport { MdLooksOne, MdLooksTwo } from \"react-icons/md\";\nimport { useEthers } from \"@usedapp/core\";\nimport Web3Status from \"./Web3/Web3Status\";\nimport { Redirect } from \"react-router-dom\";\nimport { ManagerAddress } from \"./Web3/ManagerAddress\";\nimport EditPortfolioModal from \"./EditPortfolio\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nconst STEPS = {\n  ONE: \"one\",\n  TWO: \"two\",\n};\n\nexport default function WelcomeOnBoard(props) {\n  const { t } = useTranslation();\n  const { colorBody } = useStyles();\n\n  const [createNew, setCreateNew] = useState(false);\n  const [step, setStep] = useState(STEPS.ONE);\n  const { account } = useEthers();\n\n  // check if web3 account is logged\n  useEffect(() => {\n    if (account) {\n      setStep(STEPS.TWO);\n    }\n  }, [account]);\n\n  if (createNew) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/app/new\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <>\n      <OverviewEmptyHeader />\n      {/* <Container w={{ base: '100%', md: '40rem', lg: '40rem' }}> */}\n      <Flex\n        p={8}\n        w=\"full\"\n        direction=\"column\"\n        rounded=\"md\"\n        mt=\"6\"\n        color={colorBody}\n      >\n        <Text textTransform=\"uppercase\" fontWeight=\"500\" fontSize=\"1.5rem\">\n          Welcome to {t(\"projectName\")} \n        </Text>\n        <Text fontSize=\"1.5rem\">\n          We are few steps away to start managing many portfolios at the same\n          time:\n        </Text>\n\n        <Flex my=\"10\">\n          {/* STEP 1 */}\n          <Step\n            number={<MdLooksOne fontSize=\"1.5rem\" />}\n            done={account}\n            active={step === STEPS.ONE}\n          >\n            <StepOneContent account={account} />\n          </Step>\n          {/* STEP 2 */}\n          <Step\n            number={<MdLooksTwo fontSize=\"1.5rem\" />}\n            active={step === STEPS.TWO}\n            end={true}\n          >\n            <StepTwoContent setCreateNew={setCreateNew} step={step} />\n          </Step>\n        </Flex>\n      </Flex>\n      {/* </Container> */}\n    </>\n  );\n}\n\nconst Step = ({ number, children, end, done, active }) => {\n  const { inputBorderStyleDisabled, colorBody } = useStyles();\n\n  return (\n    <Flex direction=\"column\" align=\"center\" w=\"50%\" color={colorBody}>\n      <Flex\n        w=\"full\"\n        align=\"center\"\n        fontSize=\"2rem\"\n        color={\n          done ? SETTINGS.VIOLET_LIGHT : active ? SETTINGS.WHITE : SETTINGS.GRAY\n        }\n      >\n        <Flex\n          color={\n            done\n              ? SETTINGS.VIOLET_LIGHT\n              : active\n              ? SETTINGS.WHITE\n              : SETTINGS.GRAY\n          }\n          border={\n            !active\n              ? done\n                ? `1px solid ${SETTINGS.VIOLET_LIGHT}`\n                : inputBorderStyleDisabled\n              : `1px solid ${SETTINGS.WHITE}`\n          }\n          p=\"4\"\n          rounded=\"full\"\n        >\n          {number}\n        </Flex>\n        {!end && (\n          <Box\n            h=\"2px\"\n            bg={done ? SETTINGS.VIOLET_LIGHT : SETTINGS.GRAY}\n            w=\"full\"\n          />\n        )}\n      </Flex>\n      <Flex\n        pt=\"10\"\n        w=\"full\"\n        direction=\"column\"\n        align=\"flex-start\"\n        pr=\"20\"\n        color={active ? \"white\" : SETTINGS.GRAY}\n      >\n        {children}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst StepOneContent = ({ account }) => {\n  return (\n    <>\n      <Text fontSize=\"1.5rem\" mb=\"5\">\n        First you need to connect you manager account. By now Metamask its the\n        best option.\n      </Text>\n      {account ? (\n        <Flex direction=\"column\">\n          <Text fontSize=\"1.25rem\" color={SETTINGS.GREY_LIGHT} pb=\"2\">\n            Manager Account:\n          </Text>\n          <ManagerAddress />\n        </Flex>\n      ) : (\n        <Web3Status />\n      )}\n    </>\n  );\n};\n\nconst StepTwoContent = ({ setCreateNew, step }) => {\n  return (\n    <>\n      <Text fontSize=\"1.5rem\">\n        Now you can choose between create a new agreement or add an existing\n        one.\n      </Text>\n      <Button\n        onClick={() => setCreateNew(true)}\n        variant=\"outline\"\n        rounded=\"full\"\n        size=\"lg\"\n        my=\"5\"\n        fontWeight=\"400\"\n        isDisabled={step !== STEPS.TWO}\n      >\n        <Text>Create Portfolio</Text>\n      </Button>\n      <EditPortfolioModal isDisabled={step !== STEPS.TWO}>\n        <Button\n          variant=\"outline\"\n          rounded=\"full\"\n          size=\"lg\"\n          fontWeight=\"400\"\n          isDisabled={step !== STEPS.TWO}\n        >\n          <Text>Add existing Portfolio </Text>\n        </Button>\n      </EditPortfolioModal>\n    </>\n  );\n};\n","import { useState } from \"react\";\nimport numeral from \"numeral\";\nimport { useEffect } from \"react\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { divBN, greaterThanMax, sumBN } from \"../helpers\";\n\nexport default function useTotalPortfolioValue() {\n  const [totalLocked, setTotalLocked] = useState(0);\n  const [totalGains, setTotalGains] = useState(0);\n  const [totalApy, setTotalApy] = useState(0);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n\n  useEffect(() => {\n    if (portfolioSelected.balance && portfolioSelected.gains) {\n      const total = Object.values(portfolioSelected.balance).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          return numeral(sum).add(n).value();\n        },\n        0\n      );\n\n      const gains = Object.values(portfolioSelected.gains).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          return sumBN(sum, n);\n        },\n        0\n      );\n\n      const totalApy = Object.values(portfolioSelected.sumApy).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          // console.log('totalApy apu', tokenValue, n, sum, sumBN(sum,n))\n          return sumBN(sum, n);\n        },\n        0\n      );\n\n      const generalAPy = divBN(totalApy, total);\n\n      setTotalLocked(total);\n      setTotalGains(gains);\n      // console.log(\"totalApy apu\", total, gains, totalApy);\n\n      setTotalApy(greaterThanMax(generalAPy, \"0\") ? generalAPy : \"0\");\n    } else {\n      console.log(\"No Balance\");\n      console.log(portfolioSelected);\n    }\n  }, [portfolioSelected]);\n\n  return { totalLocked, totalGains, totalApy };\n}\n","import { Flex, Text, Heading, Spinner } from \"@chakra-ui/react\";\nimport useTotalPortfolioValue from \"../hooks/useTotalPortfolioValue\";\nimport { formatPrice } from \"../helpers\";\nimport AnimatedNumber from \"animated-number-react\";\nimport { GreenHeader } from \"./common/GreenHeader\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport default function OverviewHeader({ isLoading }) {\n  const { t } = useTranslation();\n  const locked = useTotalPortfolioValue();\n  return (\n    <GreenHeader>\n      <TitleBox\n        title={t(\"valueLocked\")}\n        isLoading={isLoading}\n        value={locked.totalLocked}\n      >\n        ${\" \"}\n        <AnimatedNumber value={locked.totalLocked} formatValue={formatPrice} />\n      </TitleBox>\n\n      <TitleBox\n        title={t(\"totalGains\")}\n        isLoading={isLoading}\n        value={locked.totalGains}\n      >\n        $ \n        {locked.totalGains}\n      </TitleBox>\n\n      <TitleBox\n        title={t(\"portfolioApy\")}\n        isLoading={isLoading}\n        value={locked.totalApy}\n        noBorder={true}\n      >\n        {/* {locked.totalApy} % */}\n        - %\n\n      </TitleBox>\n    </GreenHeader>\n  );\n}\n\nconst TitleBox = ({ children, title, isLoading, value, noBorder }) => {\n  const { buttonBorderStyle, colorHighlighted } = useStyles();\n  const tl = value?.toString()?.length;\n\n  return (\n    <Flex\n      w={{ md: \"33.333%\", base: \"full\" }}\n      minH={SETTINGS.HEADER_OVERVIEW_H}\n      justify=\"center\"\n      borderRight={{ md: !noBorder && buttonBorderStyle, base: undefined }}\n    >\n      <Flex direction={{ md: \"row\", base: \"column\" }} w=\"full\" h=\"full\" align=\"flex-start\" justify=\"space-between\" my=\"4\" mx=\"6\">\n        <Flex align=\"center\" justify=\"center\">\n          <Text fontWeight=\"600\" textTransform=\"uppercase\">\n            {title}\n          </Text>\n        </Flex>\n        <Heading\n          textAlign=\"center\"\n          as=\"h2\"\n          fontSize={fontSize(tl)}\n          fontWeight=\"400\"\n          color={colorHighlighted}\n          noOfLines=\"1\"\n        >\n          {isLoading ? <Spinner size=\"md\" /> : children}\n        </Heading>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst fontSize = (tl) => {\n  if (tl <= 9) return \"3rem\";\n  if (tl <= 15) return \"2rem\";\n  if (tl <= 15) return \"1.75rem\";\n  if (tl >= 25) return \"1rem\";\n};\n","import { useMemo } from \"react\";\nimport {\n  // formatBNPrice,\n  // formatPercentage,\n  // getApy,\n  getHoldings,\n  getTokenDecimals,\n  isAddress,\n  // mulBN,\n  sumBN,\n} from \"../helpers\";\nimport useStrategiesFromAccount from \"./useStrategiesFromAccount\";\nimport { useEthers } from \"@usedapp/core\";\n\nconst useStrategiesBalance = () => {\n  const { data: accountData, isLoading } = useStrategiesFromAccount();\n  const { chainId } = useEthers();\n\n  return useMemo(() => {\n    let totalInvested = {};\n    let totalBalance = {};\n    // let totalSumApy = {};\n\n    accountData?.strategies?.forEach(async (st) => {\n      const tk = isAddress(st?.strategy?.token?.id);\n      const tokenInfo = getTokenDecimals(tk, chainId);\n\n      const holdings = getHoldings(\n        st?.shares,\n        st?.strategy?.shares,\n        st?.strategy?.deposited\n      );\n\n      // calc APY\n      // const lengthRate = st?.strategy?.rates?.length;\n      // const initialRate = st?.strategy?.rates ? st?.strategy?.rates[1] : 0;\n      // const finalRate = st?.strategy?.rates\n      //   ? st?.strategy?.rates[lengthRate - 1]\n      //   : 0;\n      // const apy = formatPercentage(getApy(initialRate, finalRate));\n\n      //  (APYGS1 * USDI1 + APYGS2 * USDI2 + APYGS3 * USDI3) / (USDI1 + USDI2 + USDI3)\n      // const apyPerAmount = mulBN(\n      //   apy,\n      //   formatBNPrice(holdings, tokenInfo.decimals)\n      // );\n\n      console.log(\"useStrategiesBalance ST\", st?.strategy?.id, holdings, tokenInfo.name, tk, totalInvested.hasOwnProperty(tk));\n\n      if (totalInvested.hasOwnProperty(tk)) {\n        totalInvested[tk] = sumBN(totalInvested[tk], st?.invested);\n        totalBalance[tk] = sumBN(totalBalance[tk], holdings);\n        // totalSumApy[tk] = sumBN(totalSumApy[tk], apyPerAmount);\n      } else {\n        totalInvested[tk] = st?.invested;\n        totalBalance[tk] = holdings;\n        // totalSumApy[tk] = apyPerAmount;\n      }\n    });\n\n    console.log(\"useStrategiesBalance\", totalBalance);\n\n    return {\n      invested: totalInvested,\n      holdings: totalBalance,\n      sumApy: 0,\n      isLoading: isLoading,\n    };\n  }, [accountData, chainId, isLoading]);\n};\n\nexport default useStrategiesBalance;\n","import { useEffect } from \"react\";\nimport {\n  Text,\n  Flex,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  TableCaption,\n  Image,\n  Spinner,\n  Stat,\n  StatHelpText,\n  StatArrow,\n  useToast,\n  useClipboard,\n  Button,\n} from \"@chakra-ui/react\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport { useTokensBalance } from \"../hooks/useTokensBalance\";\nimport {\n  formatBNPrice,\n  formatPrice,\n  getAssetImg,\n  getBalanceByToken,\n  greaterThanMax,\n  isAddress,\n  subBN,\n  sumBN,\n} from \"../helpers\";\nimport { useManagerDispatch } from \"../context/managerContext\";\nimport {\n  useTransferToAgreementModalToggle,\n  useWithdrawFromVaultModalToggle,\n} from \"../hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport useStrategiesBalance from \"../hooks/useStrategiesBalance\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport useVaultBalance from \"../hooks/useVaultBalance\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { Link } from \"react-router-dom\";\nimport { URL_FEEDBACK } from \"../constants\";\nimport { AiOutlineDownload, AiOutlineExport } from \"react-icons/ai\";\nimport { isProduction } from \"../helpers/enviroment\";\nimport { useMainTokens } from \"../hooks/useMainTokens\";\n\nexport function BalanceTable() {\n  const { t } = useTranslation();\n\n  const { chainId } = useEthers();\n  const mainTokens = useMainTokens();\n  const tokensBalance = useTokensBalance();\n  const strategiesBalance = useStrategiesBalance();\n  const { data: vaultBalance, isLoading: vaultBalanceLoading } =\n    useVaultBalance();\n  // console.log(\"BalanceTable vaultBalance\", vaultBalance);\n  // console.log(\"BalanceTable strategiesBalance\", strategiesBalance &&\n  // strategiesBalance.invested);\n\n  const isLoading = strategiesBalance.isLoading && vaultBalanceLoading;\n\n  return (\n    <Table variant=\"simple\">\n      <TableCaption>\n        <TableCap />\n      </TableCaption>\n      <Thead>\n        <Tr>\n          <Thh></Thh>\n          <TableHead>{t(\"portfolioAllocation\")}</TableHead>\n          <TableHead>{t(\"strategyAllocation\")}</TableHead>\n          <TableHead>{t(\"totalAssets\")}</TableHead>\n          <TableHead>{t(\"totalUsd\")}</TableHead>\n          <TableHead>{t(\"gainsUsd\")}</TableHead>\n          <Thh></Thh>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {mainTokens &&\n          mainTokens.map((token) => {\n            const tk = isAddress(token[chainId]);\n            return (\n              <TableRow\n                key={token[chainId]}\n                token={token}\n                agreementBalance={tokensBalance && tokensBalance[tk]}\n                vaultBalance={\n                  vaultBalance && getBalanceByToken(vaultBalance, tk)\n                }\n                strategyBalance={\n                  strategiesBalance && strategiesBalance.holdings[tk]\n                }\n                strategyInvested={\n                  strategiesBalance && strategiesBalance.invested[tk]\n                }\n                strategySumApy={\n                  strategiesBalance && strategiesBalance.sumApy[tk]\n                }\n                isLoading={isLoading}\n                chainId={chainId}\n              />\n            );\n          })}\n      </Tbody>\n    </Table>\n  );\n}\n\nfunction TableRow({\n  token,\n  agreementBalance,\n  vaultBalance,\n  strategyBalance,\n  strategyInvested,\n  strategySumApy,\n  isLoading,\n  chainId,\n}) {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgHover, colorTitle } = useStyles();\n  const { name, decimals } = token;\n\n  const agreementTotal = formatBNPrice(agreementBalance, decimals);\n  const vaultBalanceAccount = vaultBalance\n    ? formatBNPrice(vaultBalance, decimals)\n    : \"0\"; // balance from the vault for this pair token/account\n  const portfolioBalance = sumBN(agreementTotal, vaultBalanceAccount);\n  const totalAssetsPortfolio = portfolioBalance; //+vaultBalance\n  const totalAssetsStrategy = formatBNPrice(strategyBalance, decimals);\n  const gainsStrategies = subBN(strategyBalance, strategyInvested);\n  const totalGainsStrategy = formatBNPrice(gainsStrategies, decimals);\n\n  const totalSum = sumBN(totalAssetsPortfolio, totalAssetsStrategy);\n  const totalUSD = useUSDCPrice(token[1], totalSum); // hardcode mainnet to get assetPrice\n  const totalGainsUSD = useUSDCPrice(token[1], totalGainsStrategy); // hardcode mainnet to get assetPrice\n  // (APYGS1 * USDI1 + APYGS2 * USDI2+ APYGS3 * USDI3) / (USDI1 + USDI2 + USDI3)\n  // const apyPerTotal = formatBNPrice(strategySumApy) // this value is intended to calc the global APY\n  const { updatePortfolioBalance } = useManagerDispatch();\n  const withdrawFromVaultModalToggle = useWithdrawFromVaultModalToggle(\n    token[chainId]\n  );\n\n  const transferToAgreementModalToggle = useTransferToAgreementModalToggle(\n    token[chainId]\n  );\n\n  const isJoined = strategyBalance;\n\n  useEffect(() => {\n    updatePortfolioBalance({\n      address: token[chainId],\n      total: totalUSD,\n      gains: totalGainsUSD,\n      sumApy: strategySumApy,\n    });\n    // eslint-disable-next-line\n  }, [\n    totalUSD,\n    totalGainsUSD,\n    token,\n    chainId,\n    updatePortfolioBalance,\n    strategySumApy,\n  ]);\n\n  return (\n    <Tr\n      key={token[chainId]}\n      _hover={{\n        bg: bgHover,\n        cursor: \"pointer\",\n      }}\n    >\n      <Td borderBottom={buttonBorderStyle}>\n        <AssetCell name={name} mainnet={token[ChainId.Mainnet]} />\n      </Td>\n\n      {/* PORTFOLIO ALLOCATION */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={totalAssetsPortfolio} /> {/* TODO: REMOVE DEBUG */}\n        {/* DEBUG BALANCE */}\n        {!isProduction() && (\n          <Text color=\"orange\">\n            ({agreementTotal} + {vaultBalanceAccount})\n          </Text>\n        )}\n      </Td>\n      {/*STRATEGY ALLOCATION =  total assets joined at strategies  */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={totalAssetsStrategy} />\n      </Td>\n\n      {/*TOTAL =  all assets portfolio + strategies */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={totalSum} />\n      </Td>\n\n      {/* TOTAL USD */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={totalUSD} price={true} />\n      </Td>\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <GainsValue\n          totalGainsStrategy={totalGainsStrategy}\n          totalGainsUSD={totalGainsUSD}\n          isJoined={isJoined}\n        />\n      </Td>\n      <Td borderBottom={buttonBorderStyle}>\n        {isLoading ? (\n          <Spinner size=\"sm\" />\n        ) : (\n          <>\n            <Flex color={colorTitle} justify=\"space-evenly\">\n              <Button\n                variant=\"ghost\"\n                px=\"2\"\n                onClick={() => transferToAgreementModalToggle()}\n              >\n                <Text fontWeight=\"600\" pl={2} fontSize=\"sm\" mr=\"1\">\n                  {t(\"deposit\")}\n                </Text>\n                <AiOutlineDownload />\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                px=\"2\"\n                onClick={() => withdrawFromVaultModalToggle()}\n              >\n                <Text fontWeight=\"600\" pl={2} fontSize=\"sm\" mr=\"1\">\n                  {t(\"withdraw\")}\n                </Text>\n                <AiOutlineExport />\n              </Button>\n            </Flex>\n          </>\n        )}\n      </Td>\n    </Tr>\n  );\n}\n\nconst TableHead = ({ children }) => {\n  if (!children) return null;\n\n  return (\n    <Thh>\n      {children\n        .toString()\n        .split(\" \")\n        .map((w, i) => {\n          return <Text key={i}>{w}</Text>;\n        })}\n    </Thh>\n  );\n};\n\nconst AssetCell = ({ mainnet, name }) => {\n  const { onCopy } = useClipboard(mainnet);\n  const toast = useToast();\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Token address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n  return (\n    <Flex align=\"center\" h=\"12\" onClick={copyAddress}>\n      <Image\n        src={getAssetImg(mainnet)}\n        alt={name}\n        boxSize=\"30px\"\n        fallbackSrc={require(\"../assets/images/ph_tk.png\").default}\n      />\n      <Text pl={2} fontSize=\"lg\">\n        {name}\n      </Text>\n    </Flex>\n  );\n};\n\nconst ShowValue = ({ value, price }) => {\n  if (value === \"0\" || value === 0 || value === \"0.00\")\n    return <TextValue>-</TextValue>;\n  if (!value)\n    return (\n      <TextValue>\n        <Spinner size=\"sm\" />\n      </TextValue>\n    );\n  return <TextValue>{price ? `$ ${formatPrice(value)}` : value}</TextValue>;\n};\n\nconst TextValue = ({ children }) => {\n  return (\n    <Text fontWeight=\"500\" pl={2} fontSize=\"lg\" minW=\"120px\">\n      {children}\n    </Text>\n  );\n};\n\nconst GainsValue = ({ totalGainsUSD, isJoined }) => {\n  if (isJoined === \"0\") return \"-\";\n  if (!totalGainsUSD || totalGainsUSD === \"0.00\")\n    return (\n      <Stat>\n        <StatHelpText m=\"0\">$0.00</StatHelpText>\n      </Stat>\n    );\n  const positive = greaterThanMax(totalGainsUSD, \"0\");\n  return (\n    <Stat>\n      <StatHelpText m=\"0\">\n        <Flex justify=\"flex-end\" align=\"center\">\n          <StatArrow type={positive ? \"increase\" : \"decrease\"} />$\n          {totalGainsUSD}\n        </Flex>\n      </StatHelpText>\n    </Stat>\n  );\n};\n\nconst Thh = ({ children }) => {\n  const { buttonBorderStyle, colorSubtitle } = useStyles();\n\n  return (\n    <Th isNumeric borderBottom={buttonBorderStyle} color={colorSubtitle}>\n      {children}\n    </Th>\n  );\n};\n\nconst TableCap = () => {\n  const toast = useToast();\n  const { t } = useTranslation();\n\n  const openFeedback = () => {\n    window.open(URL_FEEDBACK, \"_blank\");\n    toast({\n      title: `Opening feedback form`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  return (\n    <Link onClick={openFeedback} to=\"#\">\n      {t(\"dontSeeAssets\")}\n    </Link>\n  );\n};\n","import { isProduction } from \"../helpers/enviroment\";\nimport { useAllTokens } from \"./useAllTokens\";\n\nexport function useMainTokens() {\n  const allTokens = useAllTokens();\n  const isProd = isProduction();\n\n  return isProd ? allTokens.filter((t) => t?.main) : allTokens;\n}\n","import { Box, Flex } from \"@chakra-ui/react\";\n\nimport WelcomeOnBoard from \"./WelcomeOnBoard\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport OverviewHeader from \"./OverviewHeader\";\nimport { BalanceTable } from \"./BalanceTable\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nfunction Overview() {\n  const { loading, portfolioSelected } = useManagerState();\n  // Add portfolio directly from URL\n  const { address } = useParams();\n  const { addPortfolio } = useManagerDispatch();\n\n  // detect url param to add new agreement\n  useEffect(() => {\n    if (address) {\n      console.log(\"-> Adding new portfolio: \", address);\n      addPortfolio({ address: address });\n    }\n  }, [address, addPortfolio]);\n\n  return (\n    <>\n      {!portfolioSelected?.address ? (\n        <WelcomeOnBoard />\n      ) : (\n        <Box w=\"full\">\n          <OverviewHeader isLoading={loading} />\n          <Flex mt=\"12\">\n            <BalanceTable portfolioSelected={portfolioSelected.address} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n}\n\nexport default Overview;\n","import { Suspense } from \"react\";\nimport { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\";\nimport { ManagerProvider } from \"./context/managerContext\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport theme from \"./theme\";\n\n// ROUTES\nimport Manager from \"./pages/Manager\";\nimport Web3ReactManager from \"./components/Web3/Web3ReactManager\";\nimport { ApplicationProvider } from \"./context/appContext\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport BlockUpdater from \"./context/blockUpdater\";\nimport NotificationsUpdater from \"./context/NotificationsUpdater\";\nimport Enviroment from \"./pages/Enviroment\";\nimport { Strategies } from \"./components/Strategies\";\nimport Agreement from \"./pages/Agreement\";\nimport CreatePortfolio from \"./pages/CreatePortfolio\";\nimport Swap from \"./pages/Swap\";\nimport Overview from \"./components/Overview\";\n\nconst queryClient = new QueryClient();\n\nexport default function App() {\n  return (\n    <Suspense fallback={null}>\n      <Router>\n        <ChakraProvider theme={theme}>\n          <ColorModeScript initialColorMode=\"dark\" />\n          <QueryClientProvider client={queryClient}>\n            <ApplicationProvider>\n              <ManagerProvider>\n                <BlockUpdater />\n                <NotificationsUpdater />\n                <Web3ReactManager>\n                  <GlobalRoutes />\n                </Web3ReactManager>\n              </ManagerProvider>\n            </ApplicationProvider>\n          </QueryClientProvider>\n        </ChakraProvider>\n      </Router>\n    </Suspense>\n  );\n}\n\nfunction GlobalRoutes() {\n  return (\n    <Switch>\n      <Route path=\"/app\">\n        <Manager>\n          <ManagerRoutes />\n        </Manager>\n      </Route>\n      <Route path=\"/\">\n        <Enviroment />\n      </Route>\n    </Switch>\n  );\n}\n\nfunction ManagerRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <>\n      <Switch>\n        <Route exact path={path}>\n          <Overview />\n        </Route>\n        <Route exact path={`${path}/new`}>\n          <CreatePortfolio />\n        </Route>\n        <Route exact path={`${path}/swap`}>\n          <Swap />\n        </Route>\n        <Route path={`${path}/overview`}>\n          <Overview />\n        </Route>\n        <Route path={`${path}/strategies`}>\n          <StrategiesRoutes />\n        </Route>\n        <Route path={`${path}/agreement`}>\n          <Agreement />\n        </Route>\n        <Route path={`${path}/:address`}>\n          <Overview />\n        </Route>\n        <Route path={`${path}/:tab`}>\n          <StrategiesRoutes />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nfunction StrategiesRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Strategies />\n      </Route>\n      <Route path={`${path}/:strategy`}>\n        <Strategies />\n      </Route>\n    </Switch>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It is the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// don't want to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  // want your translations to be loaded from a professional CDN? => https://github.com/locize/react-tutorial#step-2---use-the-locize-cdn\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: 'en',\n    debug: true,\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    }\n  });\n\nexport default i18n\n","import { StrictMode } from \"react\";\nimport { ColorModeScript } from \"@chakra-ui/react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { DAppProvider, ChainId } from \"@usedapp/core\";\nimport \"./i18n\";\nimport \"./assets/style/index.css\";\n\nconst config = {\n  readOnlyChainId: ChainId.Mainnet,\n  readOnlyUrls: {\n    [ChainId.Mainnet]: process.env.REACT_APP_MAINNET_URI,\n    [ChainId.Kovan]: process.env.REACT_APP_KOVAN_URI,\n  },\n  supportedChains: [\n    ChainId.Mainnet,\n    ChainId.Kovan,\n    ChainId.Rinkeby,\n    ChainId.Localhost,\n    ChainId.Hardhat,\n  ],\n};\n\nReactDOM.render(\n  <StrictMode>\n    <DAppProvider config={config}>\n      <ColorModeScript />\n      <App />\n    </DAppProvider>\n  </StrictMode>, \n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorker.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}